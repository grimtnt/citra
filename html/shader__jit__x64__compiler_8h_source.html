<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Citra: src/video_core/shader/shader_jit_x64_compiler.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="doc-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Citra
   </div>
   <div id="projectbrief">Nintendo 3DS emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('shader__jit__x64__compiler_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">shader_jit_x64_compiler.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="shader__jit__x64__compiler_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2015 Citra Emulator Project</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Licensed under GPLv2 or any later version</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Refer to the license.txt file included.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;array&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;boost/optional.hpp&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;nihstro/shader_bytecode.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;xbyak.h&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bit__set_8h.html">common/bit_set.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common__types_8h.html">common/common_types.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="shader_8h.html">video_core/shader/shader.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">using</span> nihstro::Instruction;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">using</span> nihstro::OpCode;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">using</span> nihstro::SwizzlePattern;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_pica_1_1_shader.html">Pica::Shader</a> {</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="namespace_pica_1_1_shader.html#abc6fbaddfb26c3958de6040665ab32aa">   25</a></span>&#160;constexpr std::size_t <a class="code" href="namespace_pica_1_1_shader.html#abc6fbaddfb26c3958de6040665ab32aa">MAX_SHADER_SIZE</a> = <a class="code" href="namespace_pica_1_1_shader.html#aaa201c77f2f8390122a0b117507b60c4">MAX_PROGRAM_CODE_LENGTH</a> * 64;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html">   31</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html">JitShader</a> : <span class="keyword">public</span> Xbyak::CodeGenerator {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a07507f11b9f588bd2da6687da122891c">JitShader</a>();</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#ade67d7b9ea453bd4316e92b0d2a52839">   35</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#ade67d7b9ea453bd4316e92b0d2a52839">Run</a>(<span class="keyword">const</span> <a class="code" href="struct_pica_1_1_shader_1_1_shader_setup.html">ShaderSetup</a>&amp; setup, <a class="code" href="struct_pica_1_1_shader_1_1_unit_state.html">UnitState</a>&amp; state, <span class="keywordtype">unsigned</span> offset)<span class="keyword"> const </span>{</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a82a658c79337f4144bb89f39cda6665c">program</a>(&amp;setup.<a class="code" href="struct_pica_1_1_shader_1_1_shader_setup.html#a90cb33ab6808060cb338783f194935c4">uniforms</a>, &amp;state, <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a049b8599c9142139c2f18c2e87d6f6e0">instruction_labels</a>[offset].getAddress());</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    }</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a63b27f05f461a21548dba7baa6e63922">Compile</a>(<span class="keyword">const</span> std::array&lt;u32, MAX_PROGRAM_CODE_LENGTH&gt;* <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a4bd268eeac22d6c7ca54220db3658e1e">program_code</a>,</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                 <span class="keyword">const</span> std::array&lt;u32, MAX_SWIZZLE_DATA_LENGTH&gt;* <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a4f17dfee3b95716e1c1377c580011f5f">swizzle_data</a>);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a19812842cd13f8c6430b466fa9d7e4d0">Compile_ADD</a>(Instruction instr);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#aa04f4b79d357426c90be3b3841c5fb0a">Compile_DP3</a>(Instruction instr);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a9d5660baa7140cd58e072b3b29c2ebd8">Compile_DP4</a>(Instruction instr);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a010601b39a85acb1ace9f4d0133b73c9">Compile_DPH</a>(Instruction instr);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#adc7dc8bb5a3d990bc4b0c1a03e4de0da">Compile_EX2</a>(Instruction instr);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a4663da71021d01dd29c7c733c68b3326">Compile_LG2</a>(Instruction instr);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#af27e772803977fff9c9ef7a6909d9c7c">Compile_MUL</a>(Instruction instr);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#af2bf122374007a15b8e64f4af4a05e8c">Compile_SGE</a>(Instruction instr);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#ae9db8706bf876022913dee9263542744">Compile_SLT</a>(Instruction instr);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a22163261b46dd4b5d832321754281db5">Compile_FLR</a>(Instruction instr);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a7c1a50563de72b07397e8d2d715944e1">Compile_MAX</a>(Instruction instr);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a0330826b03deb44dcd68829f270cc113">Compile_MIN</a>(Instruction instr);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a65925c66e0f134227b3e77f4c3d2c73f">Compile_RCP</a>(Instruction instr);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#ae3085952d11b4a583a59c22a046d5555">Compile_RSQ</a>(Instruction instr);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a7c12c1784e9288c18584ff9b968befde">Compile_MOVA</a>(Instruction instr);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a60a1ed0c8b99d6425f7830553d9c080c">Compile_MOV</a>(Instruction instr);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a38077ee95e3c94a709dd7f460a7ec4c1">Compile_NOP</a>(Instruction instr);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#abdc1c1b49c7138862542fe0045d86dfc">Compile_END</a>(Instruction instr);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#aa7d9791cbe21b2b88c36ccb4089d50eb">Compile_BREAKC</a>(Instruction instr);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#aedb0795a421bb8e39c593697ddfc4e55">Compile_CALL</a>(Instruction instr);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a49a0bb1806c41602c0b66ace22f548c4">Compile_CALLC</a>(Instruction instr);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a2e14855bafc7e8adc0bed5487f793673">Compile_CALLU</a>(Instruction instr);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#afe848de7c087e3ce7befd21b7bc51563">Compile_IF</a>(Instruction instr);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a0e794a842a472fe5bbc60d04b3019188">Compile_LOOP</a>(Instruction instr);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a23c18b32ac73cd743df5a51a4cd8c5bc">Compile_JMP</a>(Instruction instr);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a9bc811d706276d4e1c6c9990f5ce903b">Compile_CMP</a>(Instruction instr);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#ab8c9c2405210ff7b8af627e6db0e8f3e">Compile_MAD</a>(Instruction instr);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a8ff46968f073fdf787ad107a2dd9ffdd">Compile_EMIT</a>(Instruction instr);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a57c9790507b1614ab50d107fdfb939ec">Compile_SETE</a>(Instruction instr);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#af61c6d7d44cab10d9c133691c419b560">Compile_Block</a>(<span class="keywordtype">unsigned</span> end);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a2738cb70a8a74d8080d588b60519348d">Compile_NextInstr</a>();</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#ac9660317e7f83bb9b85ff3489656a1eb">Compile_SwizzleSrc</a>(Instruction instr, <span class="keywordtype">unsigned</span> src_num, SourceRegister src_reg,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                            Xbyak::Xmm dest);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a43726d66de9b273d2dc00ecd61161910">Compile_DestEnable</a>(Instruction instr, Xbyak::Xmm dest);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a28def7e901bee7c770548ca15ed8c610">Compile_SanitizedMul</a>(Xbyak::Xmm src1, Xbyak::Xmm src2, Xbyak::Xmm scratch);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a66e1e2687d854110ddb3e4fbacc54967">Compile_EvaluateCondition</a>(Instruction instr);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#af68af03da5bde525f1be4aa71581ea53">Compile_UniformCondition</a>(Instruction instr);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a4b3cddfe73b29bcd68c1f46287d2715a">Compile_Return</a>();</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="class_common_1_1_bit_set.html">BitSet32</a> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a128af25b1e68efe8649bf61fa2423793">PersistentCallerSavedRegs</a>();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#afe68fa471556b3dd31027ce134a66205">Compile_Assert</a>(<span class="keywordtype">bool</span> condition, <span class="keyword">const</span> <span class="keywordtype">char</span>* msg);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a3fe3d500eb0fb4b7c925fc1a950c0354">FindReturnOffsets</a>();</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#af704e5e74bd139c0e6286d123dcf966f">CompilePrelude</a>();</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    Xbyak::Label <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a2517de713e64c310808b80540eb0dd15">CompilePrelude_Log2</a>();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    Xbyak::Label <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a132c07da46c12a76e8978bd0e9658482">CompilePrelude_Exp2</a>();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#a4bd268eeac22d6c7ca54220db3658e1e">  116</a></span>&#160;    <span class="keyword">const</span> std::array&lt;u32, MAX_PROGRAM_CODE_LENGTH&gt;* program_code = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#a4f17dfee3b95716e1c1377c580011f5f">  117</a></span>&#160;    <span class="keyword">const</span> std::array&lt;u32, MAX_SWIZZLE_DATA_LENGTH&gt;* swizzle_data = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#a049b8599c9142139c2f18c2e87d6f6e0">  120</a></span>&#160;    std::array&lt;Xbyak::Label, MAX_PROGRAM_CODE_LENGTH&gt; <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a049b8599c9142139c2f18c2e87d6f6e0">instruction_labels</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#ab0b383d78ea37e14d9dde3aca15f3e6a">  124</a></span>&#160;    boost::optional&lt;Xbyak::Label&gt; <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#ab0b383d78ea37e14d9dde3aca15f3e6a">loop_break_label</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#a2a14166988f8c899364ba8cd5d1a8185">  127</a></span>&#160;    std::vector&lt;unsigned&gt; <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a2a14166988f8c899364ba8cd5d1a8185">return_offsets</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#a30f778a538120c17aab9a0641d37bb2b">  129</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a30f778a538120c17aab9a0641d37bb2b">program_counter</a>{}; </div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#a91e952944d44269b52d60942871d2895">  130</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a91e952944d44269b52d60942871d2895">looping</a> = <span class="keyword">false</span>;       </div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#aec07fea218e053ac51ab5c7555ff76fb">  132</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#aec07fea218e053ac51ab5c7555ff76fb">CompiledShader</a> = void(<span class="keyword">const</span> <span class="keywordtype">void</span>* setup, <span class="keywordtype">void</span>* state, <span class="keyword">const</span> <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a>* start_addr);</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#a82a658c79337f4144bb89f39cda6665c">  133</a></span>&#160;    <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#aec07fea218e053ac51ab5c7555ff76fb">CompiledShader</a>* <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a82a658c79337f4144bb89f39cda6665c">program</a>{};</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#a8e8f9d0b91e9d5d8a7448d53242d5f18">  135</a></span>&#160;    Xbyak::Label <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a8e8f9d0b91e9d5d8a7448d53242d5f18">log2_subroutine</a>;</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="class_pica_1_1_shader_1_1_jit_shader.html#a687e8bcffac7e91e6f9d42e4d75a1cea">  136</a></span>&#160;    Xbyak::Label <a class="code" href="class_pica_1_1_shader_1_1_jit_shader.html#a687e8bcffac7e91e6f9d42e4d75a1cea">exp2_subroutine</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;};</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;} <span class="comment">// namespace Pica::Shader</span></div><div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_aa7d9791cbe21b2b88c36ccb4089d50eb"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#aa7d9791cbe21b2b88c36ccb4089d50eb">Pica::Shader::JitShader::Compile_BREAKC</a></div><div class="ttdeci">void Compile_BREAKC(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00570">shader_jit_x64_compiler.cpp:570</a></div></div>
<div class="ttc" id="bit__set_8h_html"><div class="ttname"><a href="bit__set_8h.html">bit_set.h</a></div></div>
<div class="ttc" id="namespace_pica_1_1_shader_html"><div class="ttname"><a href="namespace_pica_1_1_shader.html">Pica::Shader</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a128af25b1e68efe8649bf61fa2423793"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a128af25b1e68efe8649bf61fa2423793">Pica::Shader::JitShader::PersistentCallerSavedRegs</a></div><div class="ttdeci">BitSet32 PersistentCallerSavedRegs()</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00344">shader_jit_x64_compiler.cpp:344</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a82a658c79337f4144bb89f39cda6665c"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a82a658c79337f4144bb89f39cda6665c">Pica::Shader::JitShader::program</a></div><div class="ttdeci">CompiledShader * program</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00133">shader_jit_x64_compiler.h:133</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_ae9db8706bf876022913dee9263542744"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#ae9db8706bf876022913dee9263542744">Pica::Shader::JitShader::Compile_SLT</a></div><div class="ttdeci">void Compile_SLT(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00440">shader_jit_x64_compiler.cpp:440</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a4bd268eeac22d6c7ca54220db3658e1e"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a4bd268eeac22d6c7ca54220db3658e1e">Pica::Shader::JitShader::program_code</a></div><div class="ttdeci">const std::array&lt; u32, MAX_PROGRAM_CODE_LENGTH &gt; * program_code</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00116">shader_jit_x64_compiler.h:116</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a3fe3d500eb0fb4b7c925fc1a950c0354"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a3fe3d500eb0fb4b7c925fc1a950c0354">Pica::Shader::JitShader::FindReturnOffsets</a></div><div class="ttdeci">void FindReturnOffsets()</div><div class="ttdoc">Analyzes the entire shader program for CALL instructions before emitting any code, identifying the locations where a return needs to be inserted. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00837">shader_jit_x64_compiler.cpp:837</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a687e8bcffac7e91e6f9d42e4d75a1cea"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a687e8bcffac7e91e6f9d42e4d75a1cea">Pica::Shader::JitShader::exp2_subroutine</a></div><div class="ttdeci">Xbyak::Label exp2_subroutine</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00136">shader_jit_x64_compiler.h:136</a></div></div>
<div class="ttc" id="common__types_8h_html_a254d32383658e016368673396e7afc1b"><div class="ttname"><a href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a></div><div class="ttdeci">std::uint8_t u8</div><div class="ttdoc">8-bit unsigned byte </div><div class="ttdef"><b>Definition:</b> <a href="common__types_8h_source.html#l00035">common_types.h:35</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_ac9660317e7f83bb9b85ff3489656a1eb"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#ac9660317e7f83bb9b85ff3489656a1eb">Pica::Shader::JitShader::Compile_SwizzleSrc</a></div><div class="ttdeci">void Compile_SwizzleSrc(Instruction instr, unsigned src_num, SourceRegister src_reg, Xbyak::Xmm dest)</div><div class="ttdoc">Loads and swizzles a source register into the specified XMM register. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00178">shader_jit_x64_compiler.cpp:178</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_ab0b383d78ea37e14d9dde3aca15f3e6a"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#ab0b383d78ea37e14d9dde3aca15f3e6a">Pica::Shader::JitShader::loop_break_label</a></div><div class="ttdeci">boost::optional&lt; Xbyak::Label &gt; loop_break_label</div><div class="ttdoc">Label pointing to the end of the current LOOP block. Used by the BREAKC instruction to break out of t...</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00124">shader_jit_x64_compiler.h:124</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a049b8599c9142139c2f18c2e87d6f6e0"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a049b8599c9142139c2f18c2e87d6f6e0">Pica::Shader::JitShader::instruction_labels</a></div><div class="ttdeci">std::array&lt; Xbyak::Label, MAX_PROGRAM_CODE_LENGTH &gt; instruction_labels</div><div class="ttdoc">Mapping of Pica VS instructions to pointers in the emitted code. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00120">shader_jit_x64_compiler.h:120</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a23c18b32ac73cd743df5a51a4cd8c5bc"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a23c18b32ac73cd743df5a51a4cd8c5bc">Pica::Shader::JitShader::Compile_JMP</a></div><div class="ttdeci">void Compile_JMP(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00733">shader_jit_x64_compiler.cpp:733</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a9bc811d706276d4e1c6c9990f5ce903b"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a9bc811d706276d4e1c6c9990f5ce903b">Pica::Shader::JitShader::Compile_CMP</a></div><div class="ttdeci">void Compile_CMP(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00605">shader_jit_x64_compiler.cpp:605</a></div></div>
<div class="ttc" id="struct_pica_1_1_shader_1_1_shader_setup_html_a90cb33ab6808060cb338783f194935c4"><div class="ttname"><a href="struct_pica_1_1_shader_1_1_shader_setup.html#a90cb33ab6808060cb338783f194935c4">Pica::Shader::ShaderSetup::uniforms</a></div><div class="ttdeci">Uniforms uniforms</div><div class="ttdef"><b>Definition:</b> <a href="shader_8h_source.html#l00197">shader.h:197</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a4b3cddfe73b29bcd68c1f46287d2715a"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a4b3cddfe73b29bcd68c1f46287d2715a">Pica::Shader::JitShader::Compile_Return</a></div><div class="ttdeci">void Compile_Return()</div><div class="ttdoc">Emits the code to conditionally return from a subroutine envoked by the CALL instruction. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00803">shader_jit_x64_compiler.cpp:803</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a22163261b46dd4b5d832321754281db5"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a22163261b46dd4b5d832321754281db5">Pica::Shader::JitShader::Compile_FLR</a></div><div class="ttdeci">void Compile_FLR(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00455">shader_jit_x64_compiler.cpp:455</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a66e1e2687d854110ddb3e4fbacc54967"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a66e1e2687d854110ddb3e4fbacc54967">Pica::Shader::JitShader::Compile_EvaluateCondition</a></div><div class="ttdeci">void Compile_EvaluateCondition(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00308">shader_jit_x64_compiler.cpp:308</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_aedb0795a421bb8e39c593697ddfc4e55"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#aedb0795a421bb8e39c593697ddfc4e55">Pica::Shader::JitShader::Compile_CALL</a></div><div class="ttdeci">void Compile_CALL(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00578">shader_jit_x64_compiler.cpp:578</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a60a1ed0c8b99d6425f7830553d9c080c"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a60a1ed0c8b99d6425f7830553d9c080c">Pica::Shader::JitShader::Compile_MOV</a></div><div class="ttdeci">void Compile_MOV(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00524">shader_jit_x64_compiler.cpp:524</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_ade67d7b9ea453bd4316e92b0d2a52839"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#ade67d7b9ea453bd4316e92b0d2a52839">Pica::Shader::JitShader::Run</a></div><div class="ttdeci">void Run(const ShaderSetup &amp;setup, UnitState &amp;state, unsigned offset) const</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00035">shader_jit_x64_compiler.h:35</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_aec07fea218e053ac51ab5c7555ff76fb"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#aec07fea218e053ac51ab5c7555ff76fb">Pica::Shader::JitShader::CompiledShader</a></div><div class="ttdeci">void(const void *setup, void *state, const u8 *start_addr) CompiledShader</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00132">shader_jit_x64_compiler.h:132</a></div></div>
<div class="ttc" id="class_common_1_1_bit_set_html"><div class="ttname"><a href="class_common_1_1_bit_set.html">Common::BitSet</a></div><div class="ttdef"><b>Definition:</b> <a href="bit__set_8h_source.html#l00098">bit_set.h:98</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a57c9790507b1614ab50d107fdfb939ec"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a57c9790507b1614ab50d107fdfb939ec">Pica::Shader::JitShader::Compile_SETE</a></div><div class="ttdeci">void Compile_SETE(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00778">shader_jit_x64_compiler.cpp:778</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_ab8c9c2405210ff7b8af627e6db0e8f3e"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#ab8c9c2405210ff7b8af627e6db0e8f3e">Pica::Shader::JitShader::Compile_MAD</a></div><div class="ttdeci">void Compile_MAD(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00648">shader_jit_x64_compiler.cpp:648</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_af27e772803977fff9c9ef7a6909d9c7c"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#af27e772803977fff9c9ef7a6909d9c7c">Pica::Shader::JitShader::Compile_MUL</a></div><div class="ttdeci">void Compile_MUL(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00418">shader_jit_x64_compiler.cpp:418</a></div></div>
<div class="ttc" id="common__types_8h_html"><div class="ttname"><a href="common__types_8h.html">common_types.h</a></div><div class="ttdoc">Copyright (C) 2005-2012 Gekko Emulator. </div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a4663da71021d01dd29c7c733c68b3326"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a4663da71021d01dd29c7c733c68b3326">Pica::Shader::JitShader::Compile_LG2</a></div><div class="ttdeci">void Compile_LG2(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00412">shader_jit_x64_compiler.cpp:412</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_af61c6d7d44cab10d9c133691c419b560"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#af61c6d7d44cab10d9c133691c419b560">Pica::Shader::JitShader::Compile_Block</a></div><div class="ttdeci">void Compile_Block(unsigned end)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00797">shader_jit_x64_compiler.cpp:797</a></div></div>
<div class="ttc" id="shader_8h_html"><div class="ttname"><a href="shader_8h.html">shader.h</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_afe68fa471556b3dd31027ce134a66205"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#afe68fa471556b3dd31027ce134a66205">Pica::Shader::JitShader::Compile_Assert</a></div><div class="ttdeci">void Compile_Assert(bool condition, const char *msg)</div><div class="ttdoc">Assertion evaluated at compile-time, but only triggered if executed at runtime. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00164">shader_jit_x64_compiler.cpp:164</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a132c07da46c12a76e8978bd0e9658482"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a132c07da46c12a76e8978bd0e9658482">Pica::Shader::JitShader::CompilePrelude_Exp2</a></div><div class="ttdeci">Xbyak::Label CompilePrelude_Exp2()</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l01024">shader_jit_x64_compiler.cpp:1024</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a38077ee95e3c94a709dd7f460a7ec4c1"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a38077ee95e3c94a709dd7f460a7ec4c1">Pica::Shader::JitShader::Compile_NOP</a></div><div class="ttdeci">void Compile_NOP(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00551">shader_jit_x64_compiler.cpp:551</a></div></div>
<div class="ttc" id="namespace_pica_1_1_shader_html_abc6fbaddfb26c3958de6040665ab32aa"><div class="ttname"><a href="namespace_pica_1_1_shader.html#abc6fbaddfb26c3958de6040665ab32aa">Pica::Shader::MAX_SHADER_SIZE</a></div><div class="ttdeci">constexpr std::size_t MAX_SHADER_SIZE</div><div class="ttdoc">Memory allocated for each compiled shader. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00025">shader_jit_x64_compiler.h:25</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a07507f11b9f588bd2da6687da122891c"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a07507f11b9f588bd2da6687da122891c">Pica::Shader::JitShader::JitShader</a></div><div class="ttdeci">JitShader()</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00922">shader_jit_x64_compiler.cpp:922</a></div></div>
<div class="ttc" id="struct_pica_1_1_shader_1_1_unit_state_html"><div class="ttname"><a href="struct_pica_1_1_shader_1_1_unit_state.html">Pica::Shader::UnitState</a></div><div class="ttdoc">This structure contains the state information that needs to be unique for a shader unit...</div><div class="ttdef"><b>Definition:</b> <a href="shader_8h_source.html#l00100">shader.h:100</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a2e14855bafc7e8adc0bed5487f793673"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a2e14855bafc7e8adc0bed5487f793673">Pica::Shader::JitShader::Compile_CALLU</a></div><div class="ttdeci">void Compile_CALLU(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00597">shader_jit_x64_compiler.cpp:597</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a9d5660baa7140cd58e072b3b29c2ebd8"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a9d5660baa7140cd58e072b3b29c2ebd8">Pica::Shader::JitShader::Compile_DP4</a></div><div class="ttdeci">void Compile_DP4(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00374">shader_jit_x64_compiler.cpp:374</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_ae3085952d11b4a583a59c22a046d5555"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#ae3085952d11b4a583a59c22a046d5555">Pica::Shader::JitShader::Compile_RSQ</a></div><div class="ttdeci">void Compile_RSQ(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00540">shader_jit_x64_compiler.cpp:540</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a0330826b03deb44dcd68829f270cc113"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a0330826b03deb44dcd68829f270cc113">Pica::Shader::JitShader::Compile_MIN</a></div><div class="ttdeci">void Compile_MIN(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00471">shader_jit_x64_compiler.cpp:471</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_af704e5e74bd139c0e6286d123dcf966f"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#af704e5e74bd139c0e6286d123dcf966f">Pica::Shader::JitShader::CompilePrelude</a></div><div class="ttdeci">void CompilePrelude()</div><div class="ttdoc">Emits data and code for utility functions. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00926">shader_jit_x64_compiler.cpp:926</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a4f17dfee3b95716e1c1377c580011f5f"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a4f17dfee3b95716e1c1377c580011f5f">Pica::Shader::JitShader::swizzle_data</a></div><div class="ttdeci">const std::array&lt; u32, MAX_SWIZZLE_DATA_LENGTH &gt; * swizzle_data</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00117">shader_jit_x64_compiler.h:117</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a43726d66de9b273d2dc00ecd61161910"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a43726d66de9b273d2dc00ecd61161910">Pica::Shader::JitShader::Compile_DestEnable</a></div><div class="ttdeci">void Compile_DestEnable(Instruction instr, Xbyak::Xmm dest)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00252">shader_jit_x64_compiler.cpp:252</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a010601b39a85acb1ace9f4d0133b73c9"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a010601b39a85acb1ace9f4d0133b73c9">Pica::Shader::JitShader::Compile_DPH</a></div><div class="ttdeci">void Compile_DPH(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00386">shader_jit_x64_compiler.cpp:386</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a2a14166988f8c899364ba8cd5d1a8185"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a2a14166988f8c899364ba8cd5d1a8185">Pica::Shader::JitShader::return_offsets</a></div><div class="ttdeci">std::vector&lt; unsigned &gt; return_offsets</div><div class="ttdoc">Offsets in code where a return needs to be inserted. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00127">shader_jit_x64_compiler.h:127</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a65925c66e0f134227b3e77f4c3d2c73f"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a65925c66e0f134227b3e77f4c3d2c73f">Pica::Shader::JitShader::Compile_RCP</a></div><div class="ttdeci">void Compile_RCP(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00529">shader_jit_x64_compiler.cpp:529</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_abdc1c1b49c7138862542fe0045d86dfc"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#abdc1c1b49c7138862542fe0045d86dfc">Pica::Shader::JitShader::Compile_END</a></div><div class="ttdeci">void Compile_END(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00553">shader_jit_x64_compiler.cpp:553</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_adc7dc8bb5a3d990bc4b0c1a03e4de0da"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#adc7dc8bb5a3d990bc4b0c1a03e4de0da">Pica::Shader::JitShader::Compile_EX2</a></div><div class="ttdeci">void Compile_EX2(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00406">shader_jit_x64_compiler.cpp:406</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a19812842cd13f8c6430b466fa9d7e4d0"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a19812842cd13f8c6430b466fa9d7e4d0">Pica::Shader::JitShader::Compile_ADD</a></div><div class="ttdeci">void Compile_ADD(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00348">shader_jit_x64_compiler.cpp:348</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a63b27f05f461a21548dba7baa6e63922"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a63b27f05f461a21548dba7baa6e63922">Pica::Shader::JitShader::Compile</a></div><div class="ttdeci">void Compile(const std::array&lt; u32, MAX_PROGRAM_CODE_LENGTH &gt; *program_code, const std::array&lt; u32, MAX_SWIZZLE_DATA_LENGTH &gt; *swizzle_data)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00859">shader_jit_x64_compiler.cpp:859</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a0e794a842a472fe5bbc60d04b3019188"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a0e794a842a472fe5bbc60d04b3019188">Pica::Shader::JitShader::Compile_LOOP</a></div><div class="ttdeci">void Compile_LOOP(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00697">shader_jit_x64_compiler.cpp:697</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a91e952944d44269b52d60942871d2895"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a91e952944d44269b52d60942871d2895">Pica::Shader::JitShader::looping</a></div><div class="ttdeci">bool looping</div><div class="ttdoc">True if compiling a loop, used to check for nested loops. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00130">shader_jit_x64_compiler.h:130</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a30f778a538120c17aab9a0641d37bb2b"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a30f778a538120c17aab9a0641d37bb2b">Pica::Shader::JitShader::program_counter</a></div><div class="ttdeci">unsigned program_counter</div><div class="ttdoc">Offset of the next instruction to decode. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00129">shader_jit_x64_compiler.h:129</a></div></div>
<div class="ttc" id="namespace_pica_1_1_shader_html_aaa201c77f2f8390122a0b117507b60c4"><div class="ttname"><a href="namespace_pica_1_1_shader.html#aaa201c77f2f8390122a0b117507b60c4">Pica::Shader::MAX_PROGRAM_CODE_LENGTH</a></div><div class="ttdeci">constexpr unsigned MAX_PROGRAM_CODE_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="shader_8h_source.html#l00027">shader.h:27</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html">Pica::Shader::JitShader</a></div><div class="ttdoc">This class implements the shader JIT compiler. </div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00031">shader_jit_x64_compiler.h:31</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_af68af03da5bde525f1be4aa71581ea53"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#af68af03da5bde525f1be4aa71581ea53">Pica::Shader::JitShader::Compile_UniformCondition</a></div><div class="ttdeci">void Compile_UniformCondition(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00339">shader_jit_x64_compiler.cpp:339</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a2517de713e64c310808b80540eb0dd15"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a2517de713e64c310808b80540eb0dd15">Pica::Shader::JitShader::CompilePrelude_Log2</a></div><div class="ttdeci">Xbyak::Label CompilePrelude_Log2()</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00931">shader_jit_x64_compiler.cpp:931</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a7c1a50563de72b07397e8d2d715944e1"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a7c1a50563de72b07397e8d2d715944e1">Pica::Shader::JitShader::Compile_MAX</a></div><div class="ttdeci">void Compile_MAX(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00463">shader_jit_x64_compiler.cpp:463</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a7c12c1784e9288c18584ff9b968befde"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a7c12c1784e9288c18584ff9b968befde">Pica::Shader::JitShader::Compile_MOVA</a></div><div class="ttdeci">void Compile_MOVA(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00479">shader_jit_x64_compiler.cpp:479</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a2738cb70a8a74d8080d588b60519348d"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a2738cb70a8a74d8080d588b60519348d">Pica::Shader::JitShader::Compile_NextInstr</a></div><div class="ttdeci">void Compile_NextInstr()</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00815">shader_jit_x64_compiler.cpp:815</a></div></div>
<div class="ttc" id="struct_pica_1_1_shader_1_1_shader_setup_html"><div class="ttname"><a href="struct_pica_1_1_shader_1_1_shader_setup.html">Pica::Shader::ShaderSetup</a></div><div class="ttdef"><b>Definition:</b> <a href="shader_8h_source.html#l00196">shader.h:196</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a8ff46968f073fdf787ad107a2dd9ffdd"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a8ff46968f073fdf787ad107a2dd9ffdd">Pica::Shader::JitShader::Compile_EMIT</a></div><div class="ttdeci">void Compile_EMIT(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00756">shader_jit_x64_compiler.cpp:756</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_aa04f4b79d357426c90be3b3841c5fb0a"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#aa04f4b79d357426c90be3b3841c5fb0a">Pica::Shader::JitShader::Compile_DP3</a></div><div class="ttdeci">void Compile_DP3(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00355">shader_jit_x64_compiler.cpp:355</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_af2bf122374007a15b8e64f4af4a05e8c"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#af2bf122374007a15b8e64f4af4a05e8c">Pica::Shader::JitShader::Compile_SGE</a></div><div class="ttdeci">void Compile_SGE(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00425">shader_jit_x64_compiler.cpp:425</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a28def7e901bee7c770548ca15ed8c610"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a28def7e901bee7c770548ca15ed8c610">Pica::Shader::JitShader::Compile_SanitizedMul</a></div><div class="ttdeci">void Compile_SanitizedMul(Xbyak::Xmm src1, Xbyak::Xmm src2, Xbyak::Xmm scratch)</div><div class="ttdoc">Compiles a MUL src1, src2 operation, properly handling the PICA semantics when multiplying zero by in...</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00287">shader_jit_x64_compiler.cpp:287</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a8e8f9d0b91e9d5d8a7448d53242d5f18"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a8e8f9d0b91e9d5d8a7448d53242d5f18">Pica::Shader::JitShader::log2_subroutine</a></div><div class="ttdeci">Xbyak::Label log2_subroutine</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8h_source.html#l00135">shader_jit_x64_compiler.h:135</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_a49a0bb1806c41602c0b66ace22f548c4"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#a49a0bb1806c41602c0b66ace22f548c4">Pica::Shader::JitShader::Compile_CALLC</a></div><div class="ttdeci">void Compile_CALLC(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00589">shader_jit_x64_compiler.cpp:589</a></div></div>
<div class="ttc" id="class_pica_1_1_shader_1_1_jit_shader_html_afe848de7c087e3ce7befd21b7bc51563"><div class="ttname"><a href="class_pica_1_1_shader_1_1_jit_shader.html#afe848de7c087e3ce7befd21b7bc51563">Pica::Shader::JitShader::Compile_IF</a></div><div class="ttdeci">void Compile_IF(Instruction instr)</div><div class="ttdef"><b>Definition:</b> <a href="shader__jit__x64__compiler_8cpp_source.html#l00665">shader_jit_x64_compiler.cpp:665</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_dc127c6b310b790d9571b44090da244c.html">video_core</a></li><li class="navelem"><a class="el" href="dir_50b8fd429dff1548b3f364ab22777d7f.html">shader</a></li><li class="navelem"><a class="el" href="shader__jit__x64__compiler_8h.html">shader_jit_x64_compiler.h</a></li>
    <li class="footer">Generated on Thu Sep 13 2018 12:49:44 for Citra by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
