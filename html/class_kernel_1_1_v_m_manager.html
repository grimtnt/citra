<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Citra: Kernel::VMManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="doc-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Citra
   </div>
   <div id="projectbrief">Nintendo 3DS emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_kernel_1_1_v_m_manager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="class_kernel_1_1_v_m_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Kernel::VMManager Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Manages a process' virtual addressing space.  
 <a href="class_kernel_1_1_v_m_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="vm__manager_8h_source.html">vm_manager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0b18d3a61a8c14570f6132816bd867eb"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMAHandle</a> = decltype(<a class="el" href="class_kernel_1_1_v_m_manager.html#afd1c357c32629b560cb52827534aef6d">vma_map</a>)::const_iterator</td></tr>
<tr class="separator:a0b18d3a61a8c14570f6132816bd867eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2d1bfb21b14a188ea977d84251c9065d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a2d1bfb21b14a188ea977d84251c9065d">VMManager</a> ()</td></tr>
<tr class="separator:a2d1bfb21b14a188ea977d84251c9065d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada8a8883b9711b712bf03d48665919ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#ada8a8883b9711b712bf03d48665919ea">~VMManager</a> ()</td></tr>
<tr class="separator:ada8a8883b9711b712bf03d48665919ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bfbeb670f2e6bcdcead0a902ca9b09e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a4bfbeb670f2e6bcdcead0a902ca9b09e">Reset</a> ()</td></tr>
<tr class="memdesc:a4bfbeb670f2e6bcdcead0a902ca9b09e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the address space map, re-initializing with a single free area.  <a href="#a4bfbeb670f2e6bcdcead0a902ca9b09e">More...</a><br /></td></tr>
<tr class="separator:a4bfbeb670f2e6bcdcead0a902ca9b09e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a006aad3a637efcbf7680d0429d0ccfb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMAHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a006aad3a637efcbf7680d0429d0ccfb9">FindVMA</a> (<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> target) const</td></tr>
<tr class="memdesc:a006aad3a637efcbf7680d0429d0ccfb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the VMA in which the given address is included in, or <code>vma_map.end()</code>.  <a href="#a006aad3a637efcbf7680d0429d0ccfb9">More...</a><br /></td></tr>
<tr class="separator:a006aad3a637efcbf7680d0429d0ccfb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8743f7c7ba6c176ca2de68aedc8abd58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMAHandle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a8743f7c7ba6c176ca2de68aedc8abd58">MapMemoryBlock</a> (<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> target, std::shared_ptr&lt; std::vector&lt; <a class="el" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> &gt;&gt; block, std::size_t offset, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size, <a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a> state)</td></tr>
<tr class="memdesc:a8743f7c7ba6c176ca2de68aedc8abd58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps part of a ref-counted block of memory at a given address.  <a href="#a8743f7c7ba6c176ca2de68aedc8abd58">More...</a><br /></td></tr>
<tr class="separator:a8743f7c7ba6c176ca2de68aedc8abd58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3edfcb0d6ff434babd9ec96655f493b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a3edfcb0d6ff434babd9ec96655f493b7">MapMemoryBlockToBase</a> (<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> base, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> region_size, std::shared_ptr&lt; std::vector&lt; <a class="el" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> &gt;&gt; block, std::size_t offset, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size, <a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a> state)</td></tr>
<tr class="memdesc:a3edfcb0d6ff434babd9ec96655f493b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps part of a ref-counted block of memory at the first free address after the given base.  <a href="#a3edfcb0d6ff434babd9ec96655f493b7">More...</a><br /></td></tr>
<tr class="separator:a3edfcb0d6ff434babd9ec96655f493b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc025c129cdc5328bc83a4e51842edcc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMAHandle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#afc025c129cdc5328bc83a4e51842edcc">MapBackingMemory</a> (<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> target, <a class="el" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> *memory, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size, <a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a> state)</td></tr>
<tr class="memdesc:afc025c129cdc5328bc83a4e51842edcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps an unmanaged host memory pointer at a given address.  <a href="#afc025c129cdc5328bc83a4e51842edcc">More...</a><br /></td></tr>
<tr class="separator:afc025c129cdc5328bc83a4e51842edcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b1bf98e563c3da258530fe1c7bc5e75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMAHandle</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a8b1bf98e563c3da258530fe1c7bc5e75">MapMMIO</a> (<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> target, <a class="el" href="common__types_8h.html#a556743f501aa4375bbcb8e7da11227bc">PAddr</a> paddr, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size, <a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a> state, <a class="el" href="namespace_memory.html#ae57c5b3b5f0490f3ad501f0058963067">Memory::MMIORegionPointer</a> mmio_handler)</td></tr>
<tr class="memdesc:a8b1bf98e563c3da258530fe1c7bc5e75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps a memory-mapped IO region at a given address.  <a href="#a8b1bf98e563c3da258530fe1c7bc5e75">More...</a><br /></td></tr>
<tr class="separator:a8b1bf98e563c3da258530fe1c7bc5e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95464e74554d6589969763b11b040078"><td class="memItemLeft" align="right" valign="top"><a class="el" href="union_result_code.html">ResultCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a95464e74554d6589969763b11b040078">ChangeMemoryState</a> (<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> target, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size, <a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a> expected_state, <a class="el" href="namespace_kernel.html#a19d2c3639990d1ffdfc174ee375cb619">VMAPermission</a> expected_perms, <a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a> new_state, <a class="el" href="namespace_kernel.html#a19d2c3639990d1ffdfc174ee375cb619">VMAPermission</a> new_perms)</td></tr>
<tr class="memdesc:a95464e74554d6589969763b11b040078"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the memory state and permissions of the specified range.  <a href="#a95464e74554d6589969763b11b040078">More...</a><br /></td></tr>
<tr class="separator:a95464e74554d6589969763b11b040078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114b70a86980a45533073b91c343194f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="union_result_code.html">ResultCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a114b70a86980a45533073b91c343194f">UnmapRange</a> (<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> target, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size)</td></tr>
<tr class="memdesc:a114b70a86980a45533073b91c343194f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmaps a range of addresses, splitting VMAs as necessary.  <a href="#a114b70a86980a45533073b91c343194f">More...</a><br /></td></tr>
<tr class="separator:a114b70a86980a45533073b91c343194f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767517d3ed34b50302078c232ef33733"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMAHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a767517d3ed34b50302078c232ef33733">Reprotect</a> (<a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMAHandle</a> vma, <a class="el" href="namespace_kernel.html#a19d2c3639990d1ffdfc174ee375cb619">VMAPermission</a> new_perms)</td></tr>
<tr class="memdesc:a767517d3ed34b50302078c232ef33733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the permissions of the given VMA.  <a href="#a767517d3ed34b50302078c232ef33733">More...</a><br /></td></tr>
<tr class="separator:a767517d3ed34b50302078c232ef33733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8284d52c0d41d7d6f83966bc0af6eda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="union_result_code.html">ResultCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#ae8284d52c0d41d7d6f83966bc0af6eda">ReprotectRange</a> (<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> target, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size, <a class="el" href="namespace_kernel.html#a19d2c3639990d1ffdfc174ee375cb619">VMAPermission</a> new_perms)</td></tr>
<tr class="memdesc:ae8284d52c0d41d7d6f83966bc0af6eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the permissions of a range of addresses, splitting VMAs as necessary.  <a href="#ae8284d52c0d41d7d6f83966bc0af6eda">More...</a><br /></td></tr>
<tr class="separator:ae8284d52c0d41d7d6f83966bc0af6eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a246e9dea540dab931734ad89c5ee2a67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a246e9dea540dab931734ad89c5ee2a67">RefreshMemoryBlockMappings</a> (const std::vector&lt; <a class="el" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> &gt; *block)</td></tr>
<tr class="memdesc:a246e9dea540dab931734ad89c5ee2a67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scans all VMAs and updates the page table range of any that use the given vector as backing memory.  <a href="#a246e9dea540dab931734ad89c5ee2a67">More...</a><br /></td></tr>
<tr class="separator:a246e9dea540dab931734ad89c5ee2a67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc4aa64fc30ec2509b60a68e8727537b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#acc4aa64fc30ec2509b60a68e8727537b">LogLayout</a> (<a class="el" href="namespace_log.html#a018998e8b2106f708f1523144b366c38">Log::Level</a> log_level) const</td></tr>
<tr class="memdesc:acc4aa64fc30ec2509b60a68e8727537b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps the address space layout to the log, for debugging.  <a href="#acc4aa64fc30ec2509b60a68e8727537b">More...</a><br /></td></tr>
<tr class="separator:acc4aa64fc30ec2509b60a68e8727537b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:afd1c357c32629b560cb52827534aef6d"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>, <a class="el" href="struct_kernel_1_1_virtual_memory_area.html">VirtualMemoryArea</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#afd1c357c32629b560cb52827534aef6d">vma_map</a></td></tr>
<tr class="memdesc:afd1c357c32629b560cb52827534aef6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A map covering the entirety of the managed address space, keyed by the <code>base</code> field of each VMA.  <a href="#afd1c357c32629b560cb52827534aef6d">More...</a><br /></td></tr>
<tr class="separator:afd1c357c32629b560cb52827534aef6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9657300cf453c212b9ed464b92298f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_memory.html#struct_memory_1_1_page_table">Memory::PageTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac9657300cf453c212b9ed464b92298f3">page_table</a></td></tr>
<tr class="memdesc:ac9657300cf453c212b9ed464b92298f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Each <a class="el" href="class_kernel_1_1_v_m_manager.html" title="Manages a process&#39; virtual addressing space. ">VMManager</a> has its own page table, which is set as the main one when the owning process is scheduled.  <a href="#ac9657300cf453c212b9ed464b92298f3">More...</a><br /></td></tr>
<tr class="separator:ac9657300cf453c212b9ed464b92298f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:abbdab6a42a30685b97a4a979f131e01b"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#abbdab6a42a30685b97a4a979f131e01b">MAX_ADDRESS</a> = 0x40000000</td></tr>
<tr class="memdesc:abbdab6a42a30685b97a4a979f131e01b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum amount of address space managed by the kernel.  <a href="#abbdab6a42a30685b97a4a979f131e01b">More...</a><br /></td></tr>
<tr class="separator:abbdab6a42a30685b97a4a979f131e01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ac0498fe234cc7508f077ae1f22e3c275"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a> = decltype(<a class="el" href="class_kernel_1_1_v_m_manager.html#afd1c357c32629b560cb52827534aef6d">vma_map</a>)::iterator</td></tr>
<tr class="separator:ac0498fe234cc7508f077ae1f22e3c275"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:acce258d384e2b44f42a37d949d63dab6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#acce258d384e2b44f42a37d949d63dab6">StripIterConstness</a> (const <a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMAHandle</a> &amp;iter)</td></tr>
<tr class="memdesc:acce258d384e2b44f42a37d949d63dab6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a VMAHandle to a mutable VMAIter.  <a href="#acce258d384e2b44f42a37d949d63dab6">More...</a><br /></td></tr>
<tr class="separator:acce258d384e2b44f42a37d949d63dab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d02d2c65e2af048a9ee004b527dedb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a94d02d2c65e2af048a9ee004b527dedb">Unmap</a> (<a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a> vma)</td></tr>
<tr class="memdesc:a94d02d2c65e2af048a9ee004b527dedb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmaps the given VMA.  <a href="#a94d02d2c65e2af048a9ee004b527dedb">More...</a><br /></td></tr>
<tr class="separator:a94d02d2c65e2af048a9ee004b527dedb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f8b6ef86f56beda77db8d13a970d181"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a5f8b6ef86f56beda77db8d13a970d181">CarveVMA</a> (<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> base, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size)</td></tr>
<tr class="memdesc:a5f8b6ef86f56beda77db8d13a970d181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carves a VMA of a specific size at the specified address by splitting Free VMAs while doing the appropriate error checking.  <a href="#a5f8b6ef86f56beda77db8d13a970d181">More...</a><br /></td></tr>
<tr class="separator:a5f8b6ef86f56beda77db8d13a970d181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a690ba9953a95cf21042adb15bd554a5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#a690ba9953a95cf21042adb15bd554a5d">CarveVMARange</a> (<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> base, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size)</td></tr>
<tr class="memdesc:a690ba9953a95cf21042adb15bd554a5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits the edges of the given range of non-Free VMAs so that there is a VMA split at each end of the range.  <a href="#a690ba9953a95cf21042adb15bd554a5d">More...</a><br /></td></tr>
<tr class="separator:a690ba9953a95cf21042adb15bd554a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9421d24c24ea8e8b66cfee3844295f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#aa9421d24c24ea8e8b66cfee3844295f2">SplitVMA</a> (<a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a> vma, <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> offset_in_vma)</td></tr>
<tr class="memdesc:aa9421d24c24ea8e8b66cfee3844295f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits a VMA in two, at the specified offset.  <a href="#aa9421d24c24ea8e8b66cfee3844295f2">More...</a><br /></td></tr>
<tr class="separator:aa9421d24c24ea8e8b66cfee3844295f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac76a5b3ba2ef2792a273673a99d7626d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac76a5b3ba2ef2792a273673a99d7626d">MergeAdjacent</a> (<a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a> vma)</td></tr>
<tr class="memdesc:ac76a5b3ba2ef2792a273673a99d7626d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for and merges the specified VMA with adjacent ones if possible.  <a href="#ac76a5b3ba2ef2792a273673a99d7626d">More...</a><br /></td></tr>
<tr class="separator:ac76a5b3ba2ef2792a273673a99d7626d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8999079f4de4f81b29e27be71a9f8c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_kernel_1_1_v_m_manager.html#ae8999079f4de4f81b29e27be71a9f8c7">UpdatePageTableForVMA</a> (const <a class="el" href="struct_kernel_1_1_virtual_memory_area.html">VirtualMemoryArea</a> &amp;vma)</td></tr>
<tr class="memdesc:ae8999079f4de4f81b29e27be71a9f8c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the pages corresponding to this VMA so they match the VMA's attributes.  <a href="#ae8999079f4de4f81b29e27be71a9f8c7">More...</a><br /></td></tr>
<tr class="separator:ae8999079f4de4f81b29e27be71a9f8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages a process' virtual addressing space. </p>
<p>This class maintains a list of allocated and free regions in the address space, along with their attributes, and allows kernel clients to manipulate it, adjusting the page table to match.</p>
<p>This is similar in idea and purpose to the VM manager present in operating system kernels, with the main difference being that it doesn't have to support swapping or memory mapping of files. The implementation is also simplified by not having to allocate page frames. See these articles about the Linux kernel for an explantion of the concept and implementation:</p><ul>
<li><a href="http://duartes.org/gustavo/blog/post/how-the-kernel-manages-your-memory/">http://duartes.org/gustavo/blog/post/how-the-kernel-manages-your-memory/</a></li>
<li><a href="http://duartes.org/gustavo/blog/post/page-cache-the-affair-between-memory-and-files/">http://duartes.org/gustavo/blog/post/page-cache-the-affair-between-memory-and-files/</a> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="vm__manager_8h_source.html#l00105">105</a> of file <a class="el" href="vm__manager_8h_source.html">vm_manager.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a0b18d3a61a8c14570f6132816bd867eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b18d3a61a8c14570f6132816bd867eb">&#9670;&nbsp;</a></span>VMAHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">Kernel::VMManager::VMAHandle</a> =  decltype(<a class="el" href="class_kernel_1_1_v_m_manager.html#afd1c357c32629b560cb52827534aef6d">vma_map</a>)::const_iterator</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vm__manager_8h_source.html#l00122">122</a> of file <a class="el" href="vm__manager_8h_source.html">vm_manager.h</a>.</p>

</div>
</div>
<a id="ac0498fe234cc7508f077ae1f22e3c275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0498fe234cc7508f077ae1f22e3c275">&#9670;&nbsp;</a></span>VMAIter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">Kernel::VMManager::VMAIter</a> =  decltype(<a class="el" href="class_kernel_1_1_v_m_manager.html#afd1c357c32629b560cb52827534aef6d">vma_map</a>)::iterator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vm__manager_8h_source.html#l00221">221</a> of file <a class="el" href="vm__manager_8h_source.html">vm_manager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2d1bfb21b14a188ea977d84251c9065d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d1bfb21b14a188ea977d84251c9065d">&#9670;&nbsp;</a></span>VMManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Kernel::VMManager::VMManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00044">44</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="ada8a8883b9711b712bf03d48665919ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada8a8883b9711b712bf03d48665919ea">&#9670;&nbsp;</a></span>~VMManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Kernel::VMManager::~VMManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00048">48</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5f8b6ef86f56beda77db8d13a970d181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f8b6ef86f56beda77db8d13a970d181">&#9670;&nbsp;</a></span>CarveVMA()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMManager::VMAIter</a> &gt; Kernel::VMManager::CarveVMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Carves a VMA of a specific size at the specified address by splitting Free VMAs while doing the appropriate error checking. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00279">279</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a690ba9953a95cf21042adb15bd554a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a690ba9953a95cf21042adb15bd554a5d">&#9670;&nbsp;</a></span>CarveVMARange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMManager::VMAIter</a> &gt; Kernel::VMManager::CarveVMARange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Splits the edges of the given range of non-Free VMAs so that there is a VMA split at each end of the range. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00315">315</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a95464e74554d6589969763b11b040078"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95464e74554d6589969763b11b040078">&#9670;&nbsp;</a></span>ChangeMemoryState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="union_result_code.html">ResultCode</a> Kernel::VMManager::ChangeMemoryState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a>&#160;</td>
          <td class="paramname"><em>expected_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_kernel.html#a19d2c3639990d1ffdfc174ee375cb619">VMAPermission</a>&#160;</td>
          <td class="paramname"><em>expected_perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a>&#160;</td>
          <td class="paramname"><em>new_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_kernel.html#a19d2c3639990d1ffdfc174ee375cb619">VMAPermission</a>&#160;</td>
          <td class="paramname"><em>new_perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the memory state and permissions of the specified range. </p>
<p>The range's original memory state and permissions must match the <code>expected</code> parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The guest address of the beginning of the range. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the range </td></tr>
    <tr><td class="paramname">expected_state</td><td>Expected MemoryState of the range. </td></tr>
    <tr><td class="paramname">expected_perms</td><td>Expected VMAPermission of the range. </td></tr>
    <tr><td class="paramname">new_state</td><td>New MemoryState for the range. </td></tr>
    <tr><td class="paramname">new_perms</td><td>New VMAPermission for the range. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00162">162</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a006aad3a637efcbf7680d0429d0ccfb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a006aad3a637efcbf7680d0429d0ccfb9">&#9670;&nbsp;</a></span>FindVMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMManager::VMAHandle</a> Kernel::VMManager::FindVMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the VMA in which the given address is included in, or <code>vma_map.end()</code>. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00066">66</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="acc4aa64fc30ec2509b60a68e8727537b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc4aa64fc30ec2509b60a68e8727537b">&#9670;&nbsp;</a></span>LogLayout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Kernel::VMManager::LogLayout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_log.html#a018998e8b2106f708f1523144b366c38">Log::Level</a>&#160;</td>
          <td class="paramname"><em>log_level</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dumps the address space layout to the log, for debugging. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00261">261</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="afc025c129cdc5328bc83a4e51842edcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc025c129cdc5328bc83a4e51842edcc">&#9670;&nbsp;</a></span>MapBackingMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMManager::VMAHandle</a> &gt; Kernel::VMManager::MapBackingMemory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> *&#160;</td>
          <td class="paramname"><em>memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps an unmanaged host memory pointer at a given address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The guest address to start the mapping at. </td></tr>
    <tr><td class="paramname">memory</td><td>The memory to be mapped. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the mapping. </td></tr>
    <tr><td class="paramname">state</td><td>MemoryState tag to attach to the VMA. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00126">126</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a8743f7c7ba6c176ca2de68aedc8abd58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8743f7c7ba6c176ca2de68aedc8abd58">&#9670;&nbsp;</a></span>MapMemoryBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMManager::VMAHandle</a> &gt; Kernel::VMManager::MapMemoryBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; std::vector&lt; <a class="el" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps part of a ref-counted block of memory at a given address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The guest address to start the mapping at. </td></tr>
    <tr><td class="paramname">block</td><td>The block to be mapped. </td></tr>
    <tr><td class="paramname">offset</td><td>Offset into <code>block</code> to map from. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the mapping. </td></tr>
    <tr><td class="paramname">state</td><td>MemoryState tag to attach to the VMA. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00074">74</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a3edfcb0d6ff434babd9ec96655f493b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3edfcb0d6ff434babd9ec96655f493b7">&#9670;&nbsp;</a></span>MapMemoryBlockToBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> &gt; Kernel::VMManager::MapMemoryBlockToBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>region_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; std::vector&lt; <a class="el" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps part of a ref-counted block of memory at the first free address after the given base. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>The base address to start the mapping at. </td></tr>
    <tr><td class="paramname">region_size</td><td>The max size of the region from where we'll try to find an address. </td></tr>
    <tr><td class="paramname">block</td><td>The block to be mapped. </td></tr>
    <tr><td class="paramname">offset</td><td>Offset into <code>block</code> to map from. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the mapping. </td></tr>
    <tr><td class="paramname">state</td><td>MemoryState tag to attach to the VMA. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The address at which the memory was mapped. </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00096">96</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a8b1bf98e563c3da258530fe1c7bc5e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b1bf98e563c3da258530fe1c7bc5e75">&#9670;&nbsp;</a></span>MapMMIO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_result_val.html">ResultVal</a>&lt; <a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMManager::VMAHandle</a> &gt; Kernel::VMManager::MapMMIO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a556743f501aa4375bbcb8e7da11227bc">PAddr</a>&#160;</td>
          <td class="paramname"><em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_kernel.html#ac98ea407adc130ee57ae39f4d65337d8">MemoryState</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_memory.html#ae57c5b3b5f0490f3ad501f0058963067">Memory::MMIORegionPointer</a>&#160;</td>
          <td class="paramname"><em>mmio_handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps a memory-mapped IO region at a given address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The guest address to start the mapping at. </td></tr>
    <tr><td class="paramname">paddr</td><td>The physical address where the registers are present. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the mapping. </td></tr>
    <tr><td class="paramname">state</td><td>MemoryState tag to attach to the VMA. </td></tr>
    <tr><td class="paramname">mmio_handler</td><td>The handler that will implement read and write for this MMIO region. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00144">144</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="ac76a5b3ba2ef2792a273673a99d7626d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76a5b3ba2ef2792a273673a99d7626d">&#9670;&nbsp;</a></span>MergeAdjacent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMManager::VMAIter</a> Kernel::VMManager::MergeAdjacent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a>&#160;</td>
          <td class="paramname"><em>vma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks for and merges the specified VMA with adjacent ones if possible. </p>
<dl class="section return"><dt>Returns</dt><dd>the merged VMA or the original if no merging was possible. </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00375">375</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a246e9dea540dab931734ad89c5ee2a67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a246e9dea540dab931734ad89c5ee2a67">&#9670;&nbsp;</a></span>RefreshMemoryBlockMappings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Kernel::VMManager::RefreshMemoryBlockMappings </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> &gt; *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scans all VMAs and updates the page table range of any that use the given vector as backing memory. </p>
<p>This should be called after any operation that causes reallocation of the vector. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00250">250</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a767517d3ed34b50302078c232ef33733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a767517d3ed34b50302078c232ef33733">&#9670;&nbsp;</a></span>Reprotect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMManager::VMAHandle</a> Kernel::VMManager::Reprotect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMAHandle</a>&#160;</td>
          <td class="paramname"><em>vma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_kernel.html#a19d2c3639990d1ffdfc174ee375cb619">VMAPermission</a>&#160;</td>
          <td class="paramname"><em>new_perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the permissions of the given VMA. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00226">226</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="ae8284d52c0d41d7d6f83966bc0af6eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8284d52c0d41d7d6f83966bc0af6eda">&#9670;&nbsp;</a></span>ReprotectRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="union_result_code.html">ResultCode</a> Kernel::VMManager::ReprotectRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_kernel.html#a19d2c3639990d1ffdfc174ee375cb619">VMAPermission</a>&#160;</td>
          <td class="paramname"><em>new_perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the permissions of a range of addresses, splitting VMAs as necessary. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00236">236</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a4bfbeb670f2e6bcdcead0a902ca9b09e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bfbeb670f2e6bcdcead0a902ca9b09e">&#9670;&nbsp;</a></span>Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Kernel::VMManager::Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the address space map, re-initializing with a single free area. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00052">52</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="aa9421d24c24ea8e8b66cfee3844295f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9421d24c24ea8e8b66cfee3844295f2">&#9670;&nbsp;</a></span>SplitVMA()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMManager::VMAIter</a> Kernel::VMManager::SplitVMA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a>&#160;</td>
          <td class="paramname"><em>vma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>offset_in_vma</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Splits a VMA in two, at the specified offset. </p>
<dl class="section return"><dt>Returns</dt><dd>the right side of the split, with the original iterator becoming the left side. </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00343">343</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="acce258d384e2b44f42a37d949d63dab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce258d384e2b44f42a37d949d63dab6">&#9670;&nbsp;</a></span>StripIterConstness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMManager::VMAIter</a> Kernel::VMManager::StripIterConstness </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_kernel_1_1_v_m_manager.html#a0b18d3a61a8c14570f6132816bd867eb">VMAHandle</a> &amp;&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a VMAHandle to a mutable VMAIter. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00273">273</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a94d02d2c65e2af048a9ee004b527dedb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94d02d2c65e2af048a9ee004b527dedb">&#9670;&nbsp;</a></span>Unmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMManager::VMAIter</a> Kernel::VMManager::Unmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_kernel_1_1_v_m_manager.html#ac0498fe234cc7508f077ae1f22e3c275">VMAIter</a>&#160;</td>
          <td class="paramname"><em>vma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unmaps the given VMA. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00195">195</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="a114b70a86980a45533073b91c343194f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a114b70a86980a45533073b91c343194f">&#9670;&nbsp;</a></span>UnmapRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="union_result_code.html">ResultCode</a> Kernel::VMManager::UnmapRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmaps a range of addresses, splitting VMAs as necessary. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00211">211</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<a id="ae8999079f4de4f81b29e27be71a9f8c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8999079f4de4f81b29e27be71a9f8c7">&#9670;&nbsp;</a></span>UpdatePageTableForVMA()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Kernel::VMManager::UpdatePageTableForVMA </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_kernel_1_1_virtual_memory_area.html">VirtualMemoryArea</a> &amp;&#160;</td>
          <td class="paramname"><em>vma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the pages corresponding to this VMA so they match the VMA's attributes. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8cpp_source.html#l00394">394</a> of file <a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abbdab6a42a30685b97a4a979f131e01b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbdab6a42a30685b97a4a979f131e01b">&#9670;&nbsp;</a></span>MAX_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> Kernel::VMManager::MAX_ADDRESS = 0x40000000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum amount of address space managed by the kernel. </p>
<p>Addresses above this are never used. </p><dl class="section note"><dt>Note</dt><dd>This is the limit used by the New 3DS kernel. Old 3DS used 0x20000000. </dd></dl>

<p class="definition">Definition at line <a class="el" href="vm__manager_8h_source.html#l00112">112</a> of file <a class="el" href="vm__manager_8h_source.html">vm_manager.h</a>.</p>

</div>
</div>
<a id="ac9657300cf453c212b9ed464b92298f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9657300cf453c212b9ed464b92298f3">&#9670;&nbsp;</a></span>page_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_memory.html#struct_memory_1_1_page_table">Memory::PageTable</a> Kernel::VMManager::page_table</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Each <a class="el" href="class_kernel_1_1_v_m_manager.html" title="Manages a process&#39; virtual addressing space. ">VMManager</a> has its own page table, which is set as the main one when the owning process is scheduled. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8h_source.html#l00218">218</a> of file <a class="el" href="vm__manager_8h_source.html">vm_manager.h</a>.</p>

</div>
</div>
<a id="afd1c357c32629b560cb52827534aef6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd1c357c32629b560cb52827534aef6d">&#9670;&nbsp;</a></span>vma_map</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a>, <a class="el" href="struct_kernel_1_1_virtual_memory_area.html">VirtualMemoryArea</a>&gt; Kernel::VMManager::vma_map</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A map covering the entirety of the managed address space, keyed by the <code>base</code> field of each VMA. </p>
<p>It must always be modified by splitting or merging VMAs, so that the invariant <code>elem.base + elem.size == next.base</code> is preserved, and mergeable regions must always be merged when possible so that no two similar and adjacent regions exist that have not been merged. </p>

<p class="definition">Definition at line <a class="el" href="vm__manager_8h_source.html#l00121">121</a> of file <a class="el" href="vm__manager_8h_source.html">vm_manager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/core/hle/kernel/<a class="el" href="vm__manager_8h_source.html">vm_manager.h</a></li>
<li>src/core/hle/kernel/<a class="el" href="vm__manager_8cpp_source.html">vm_manager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_kernel.html">Kernel</a></li><li class="navelem"><a class="el" href="class_kernel_1_1_v_m_manager.html">VMManager</a></li>
    <li class="footer">Generated on Thu Sep 13 2018 12:49:46 for Citra by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
