<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Citra: src/core/hle/service/fs/fs_user.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="doc-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Citra
   </div>
   <div id="projectbrief">Nintendo 3DS emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('fs__user_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">fs_user.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="fs__user_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2014 Citra Emulator Project</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Licensed under GPLv2 or any later version</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Refer to the license.txt file included.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;cinttypes&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assert_8h.html">common/assert.h</a>&quot;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common__types_8h.html">common/common_types.h</a>&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="file__util_8h.html">common/file_util.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log_8h.html">common/logging/log.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="scope__exit_8h.html">common/scope_exit.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string__util_8h.html">common/string_util.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="core_8h.html">core/core.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="file__sys_2errors_8h.html">core/file_sys/errors.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ipc_8h.html">core/hle/ipc.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ipc__helpers_8h.html">core/hle/ipc_helpers.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="client__port_8h.html">core/hle/kernel/client_port.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="client__session_8h.html">core/hle/kernel/client_session.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="core_2hle_2kernel_2event_8h.html">core/hle/kernel/event.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="process_8h.html">core/hle/kernel/process.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="server__session_8h.html">core/hle/kernel/server_session.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="result_8h.html">core/hle/result.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="am_8h.html">core/hle/service/am/am.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="archive_8h.html">core/hle/service/fs/archive.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fs__user_8h.html">core/hle/service/fs/fs_user.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="settings_8h.html">core/settings.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using</span> <a class="code" href="class_kernel_1_1_client_session.html">Kernel::ClientSession</a>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">using</span> <a class="code" href="class_kernel_1_1_server_session.html">Kernel::ServerSession</a>;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_kernel.html#afc9bde79933dd23864df0768adeb6cfe">Kernel::SharedPtr</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_service_1_1_f_s.html">Service::FS</a> {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a548eb6b742bc561ec799823566e57d1d">   33</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a548eb6b742bc561ec799823566e57d1d">FS_USER::Initialize</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x0801, 0, 2};</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    rp.PopPID();</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a126101d5cbba1d415ce9ebfa0c59cac4">   41</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a126101d5cbba1d415ce9ebfa0c59cac4">FS_USER::OpenFile</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x0802, 7, 2};</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    rp.Skip(1, <span class="keyword">false</span>); <span class="comment">// Transaction.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> archive_handle{rp.Pop&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;()};</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">auto</span> filename_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> filename_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="namespace_file_sys.html#union_file_sys_1_1_mode">FileSys::Mode</a> mode{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> attributes{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()}; <span class="comment">// TODO(Link Mauve): do something with those attributes.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    std::vector&lt;u8&gt; filename{rp.PopStaticBuffer()};</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(filename.size() == filename_size);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> file_path(filename_type, filename);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;path={}, mode={} attrs={}&quot;</span>, file_path.DebugStr(), mode.hex, attributes);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="class_result_val.html">ResultVal&lt;std::shared_ptr&lt;File&gt;</a>&gt; file_res =</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="namespace_service_1_1_f_s.html#aa11a720fd25c2133ece9592244835863">OpenFileFromArchive</a>(archive_handle, file_path, mode);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 2)};</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(file_res.Code());</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (file_res.Succeeded()) {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        std::shared_ptr&lt;File&gt; file = *file_res;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        rb.PushMoveObjects(file-&gt;Connect());</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        rb.PushMoveObjects&lt;<a class="code" href="class_kernel_1_1_object.html">Kernel::Object</a>&gt;(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_FS, <span class="stringliteral">&quot;failed to get a handle for file {}&quot;</span>, file_path.DebugStr());</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    ctx.<a class="code" href="class_kernel_1_1_h_l_e_request_context.html#ac140c041a57b50c94a05e1db1e31da8a">SleepClientThread</a>(<a class="code" href="namespace_kernel.html#a468effefd7385726635010b18e69a625">Kernel::GetCurrentThread</a>(), <span class="stringliteral">&quot;fs::openfile&quot;</span>,</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                          std::chrono::nanoseconds{10000000},</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                          [](<a class="code" href="namespace_kernel.html#afc9bde79933dd23864df0768adeb6cfe">Kernel::SharedPtr&lt;Kernel::Thread&gt;</a> thread,</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                             <a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx, <a class="code" href="thread_8h.html#a36bd654753f9fb7e2b269831f4e6ad80">ThreadWakeupReason</a> reason) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                              <span class="comment">// This is a fix for Super Mario Maker for Nintendo 3DS</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                          });</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ab95fc37214ba35ec393c2990c8d6c987">   76</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ab95fc37214ba35ec393c2990c8d6c987">FS_USER::OpenFileDirectly</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x803, 8, 4};</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    rp.Skip(1, <span class="keyword">false</span>); <span class="comment">// Transaction</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keyword">auto</span> archive_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4">FS::ArchiveIdCode</a>&gt;()};</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">auto</span> archivename_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> archivename_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">auto</span> filename_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> filename_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="namespace_file_sys.html#union_file_sys_1_1_mode">FileSys::Mode</a> mode{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> attributes{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()}; <span class="comment">// TODO(Link Mauve): do something with those attributes.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    std::vector&lt;u8&gt; archivename{rp.PopStaticBuffer()};</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    std::vector&lt;u8&gt; filename{rp.PopStaticBuffer()};</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(archivename.size() == archivename_size);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(filename.size() == filename_size);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> archive_path(archivename_type, archivename);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> file_path(filename_type, filename);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;archive_id=0x{:08X} archive_path={} file_path={}, mode={} attributes={}&quot;</span>,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;              static_cast&lt;u32&gt;(archive_id), archive_path.DebugStr(), file_path.<a class="code" href="class_file_sys_1_1_path.html#a1b89e119218ecd9c217988fdf0b97f7a">DebugStr</a>(), mode.hex,</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;              attributes);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 2)};</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="class_result_val.html">ResultVal&lt;ArchiveHandle&gt;</a> archive_handle = <a class="code" href="namespace_service_1_1_f_s.html#a84c9413b4585001e5f40a473639565f6">Service::FS::OpenArchive</a>(archive_id, archive_path);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (archive_handle.<a class="code" href="class_result_val.html#a956e71b2e8b8f38eab385784b1d24ff3">Failed</a>()) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_FS,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                  <span class="stringliteral">&quot;Failed to get a handle for archive archive_id=0x{:08X} archive_path={}&quot;</span>,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                  static_cast&lt;u32&gt;(archive_id), archive_path.DebugStr());</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        rb.Push(archive_handle.<a class="code" href="class_result_val.html#a27e58a273946089f7f58f1eba1d73b99">Code</a>());</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        rb.PushMoveObjects&lt;<a class="code" href="class_kernel_1_1_object.html">Kernel::Object</a>&gt;(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="scope__exit_8h.html#a67727fd89945b9f69192101ee372c80b">SCOPE_EXIT</a>({ <a class="code" href="namespace_service_1_1_f_s.html#a36a2e43d04fef490d27c12c590b667ac">Service::FS::CloseArchive</a>(*archive_handle); });</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="class_result_val.html">ResultVal&lt;std::shared_ptr&lt;File&gt;</a>&gt; file_res =</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="namespace_service_1_1_f_s.html#aa11a720fd25c2133ece9592244835863">OpenFileFromArchive</a>(*archive_handle, file_path, mode);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    rb.Push(file_res.Code());</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span> (file_res.Succeeded()) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        std::shared_ptr&lt;File&gt; file = *file_res;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        rb.PushMoveObjects(file-&gt;Connect());</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        rb.PushMoveObjects&lt;<a class="code" href="class_kernel_1_1_object.html">Kernel::Object</a>&gt;(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_FS, <span class="stringliteral">&quot;failed to get a handle for file {} mode={} attributes={}&quot;</span>,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                  file_path.<a class="code" href="class_file_sys_1_1_path.html#a1b89e119218ecd9c217988fdf0b97f7a">DebugStr</a>(), mode.hex, attributes);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7536924026981c0f651eb1638936f3f0">  124</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7536924026981c0f651eb1638936f3f0">FS_USER::DeleteFile</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x804, 5, 2};</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    rp.Skip(1, <span class="keyword">false</span>); <span class="comment">// TransactionId</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">auto</span> filename_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> filename_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    std::vector&lt;u8&gt; filename{rp.PopStaticBuffer()};</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(filename.size() == filename_size);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> file_path(filename_type, filename);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;type={} size={} data={}&quot;</span>, static_cast&lt;u32&gt;(filename_type), filename_size,</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;              file_path.DebugStr());</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#abba3c4495626896da870fea685d89788">DeleteFileFromArchive</a>(archive_handle, file_path));</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#aead32bb786b465dac540c1065a57ea12">  142</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#aead32bb786b465dac540c1065a57ea12">FS_USER::RenameFile</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x805, 9, 4};</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    rp.Skip(1, <span class="keyword">false</span>); <span class="comment">// TransactionId</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> src_archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">auto</span> src_filename_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> src_filename_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> dest_archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keyword">auto</span> dest_filename_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> dest_filename_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    std::vector&lt;u8&gt; src_filename{rp.PopStaticBuffer()};</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    std::vector&lt;u8&gt; dest_filename{rp.PopStaticBuffer()};</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(src_filename.size() == src_filename_size);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(dest_filename.size() == dest_filename_size);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> src_file_path(src_filename_type, src_filename);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> dest_file_path(dest_filename_type, dest_filename);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS,</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;              <span class="stringliteral">&quot;src_type={} src_size={} src_data={} dest_type={} dest_size={} dest_data={}&quot;</span>,</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;              static_cast&lt;u32&gt;(src_filename_type), src_filename_size, src_file_path.DebugStr(),</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;              <span class="keyword">static_cast&lt;</span><a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a><span class="keyword">&gt;</span>(dest_filename_type), dest_filename_size, dest_file_path.<a class="code" href="class_file_sys_1_1_path.html#a1b89e119218ecd9c217988fdf0b97f7a">DebugStr</a>());</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#a0313b983360dc09288e79a1f8caa93a2">RenameFileBetweenArchives</a>(src_archive_handle, src_file_path, dest_archive_handle,</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                      dest_file_path));</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a9c552d8b842a74071312351d4fe47b1c">  170</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a9c552d8b842a74071312351d4fe47b1c">FS_USER::DeleteDirectory</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x806, 5, 2};</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    rp.Skip(1, <span class="keyword">false</span>); <span class="comment">// TransactionId</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keyword">auto</span> dirname_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> dirname_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    std::vector&lt;u8&gt; dirname{rp.PopStaticBuffer()};</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(dirname.size() == dirname_size);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> dir_path(dirname_type, dirname);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;type={} size={} data={}&quot;</span>, static_cast&lt;u32&gt;(dirname_type), dirname_size,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;              dir_path.DebugStr());</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#a6f3f74f36e50bdc42d234ae273d29b52">DeleteDirectoryFromArchive</a>(archive_handle, dir_path));</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ac692557b88323072bad1057613413986">  189</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ac692557b88323072bad1057613413986">FS_USER::DeleteDirectoryRecursively</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x807, 5, 2};</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    rp.Skip(1, <span class="keyword">false</span>); <span class="comment">// TransactionId</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keyword">auto</span> dirname_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> dirname_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    std::vector&lt;u8&gt; dirname{rp.PopStaticBuffer()};</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(dirname.size() == dirname_size);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> dir_path(dirname_type, dirname);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;type={} size={} data={}&quot;</span>, static_cast&lt;u32&gt;(dirname_type), dirname_size,</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;              dir_path.DebugStr());</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#ac00084e4d5ced6fd4c50197edab6c96c">DeleteDirectoryRecursivelyFromArchive</a>(archive_handle, dir_path));</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3024b2104bb8838a9fdbbaccddfbb246">  208</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3024b2104bb8838a9fdbbaccddfbb246">FS_USER::CreateFile</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x808, 8, 2};</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    rp.Skip(1, <span class="keyword">false</span>); <span class="comment">// TransactionId</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">auto</span> filename_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> filename_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> attributes{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a> file_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;()};</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    std::vector&lt;u8&gt; filename{rp.PopStaticBuffer()};</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(filename.size() == filename_size);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> file_path(filename_type, filename);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;type={} attributes={} size={:x} data={}&quot;</span>,</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;              static_cast&lt;u32&gt;(filename_type), attributes, file_size, file_path.DebugStr());</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#aa2651f86139bdab36114c8c47ab0354f">CreateFileInArchive</a>(archive_handle, file_path, file_size));</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#adb0252d0b1b42f8cb83daafb5ad621da">  229</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#adb0252d0b1b42f8cb83daafb5ad621da">FS_USER::CreateDirectory</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x809, 6, 2};</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    rp.Skip(1, <span class="keyword">false</span>); <span class="comment">// TransactionId</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keyword">auto</span> dirname_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> dirname_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> attributes{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    std::vector&lt;u8&gt; dirname{rp.PopStaticBuffer()};</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(dirname.size() == dirname_size);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> dir_path(dirname_type, dirname);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;type={} size={} data={}&quot;</span>, static_cast&lt;u32&gt;(dirname_type), dirname_size,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;              dir_path.DebugStr());</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#a659b449d3d1249cfb4a6a4c56a1882a5">CreateDirectoryFromArchive</a>(archive_handle, dir_path));</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a91e15e958da16074ac97d80643fdbaf6">  247</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a91e15e958da16074ac97d80643fdbaf6">FS_USER::RenameDirectory</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x80A, 9, 4};</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    rp.Skip(1, <span class="keyword">false</span>); <span class="comment">// TransactionId</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> src_archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keyword">auto</span> src_dirname_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> src_dirname_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> dest_archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keyword">auto</span> dest_dirname_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> dest_dirname_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    std::vector&lt;u8&gt; src_dirname{rp.PopStaticBuffer()};</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    std::vector&lt;u8&gt; dest_dirname{rp.PopStaticBuffer()};</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(src_dirname.size() == src_dirname_size);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(dest_dirname.size() == dest_dirname_size);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> src_dir_path(src_dirname_type, src_dirname);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> dest_dir_path(dest_dirname_type, dest_dirname);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS,</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;              <span class="stringliteral">&quot;src_type={} src_size={} src_data={} dest_type={} dest_size={} dest_data={}&quot;</span>,</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;              static_cast&lt;u32&gt;(src_dirname_type), src_dirname_size, src_dir_path.DebugStr(),</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;              <span class="keyword">static_cast&lt;</span><a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a><span class="keyword">&gt;</span>(dest_dirname_type), dest_dirname_size, dest_dir_path.<a class="code" href="class_file_sys_1_1_path.html#a1b89e119218ecd9c217988fdf0b97f7a">DebugStr</a>());</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#a20f57a47f98ee4873856f02ebd1bc38b">RenameDirectoryBetweenArchives</a>(src_archive_handle, src_dir_path, dest_archive_handle,</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                                           dest_dir_path));</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a89413274cfd95ed9f7c0f2d11d3eb17e">  274</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a89413274cfd95ed9f7c0f2d11d3eb17e">FS_USER::OpenDirectory</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x80B, 4, 2};</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">auto</span> archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keyword">auto</span> dirname_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> dirname_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    std::vector&lt;u8&gt; dirname{rp.PopStaticBuffer()};</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(dirname.size() == dirname_size);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> dir_path(dirname_type, dirname);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;type={} size={} data={}&quot;</span>, static_cast&lt;u32&gt;(dirname_type), dirname_size,</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;              dir_path.DebugStr());</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 2)};</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="class_result_val.html">ResultVal&lt;std::shared_ptr&lt;Directory&gt;</a>&gt; dir_res =</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="namespace_service_1_1_f_s.html#a5dab9d6fbe5ff6e50acc2f8869bcf98d">OpenDirectoryFromArchive</a>(archive_handle, dir_path);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    rb.Push(dir_res.<a class="code" href="class_result_val.html#a27e58a273946089f7f58f1eba1d73b99">Code</a>());</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> (dir_res.<a class="code" href="class_result_val.html#a24f06dd810790371949513b7c52bcbd5">Succeeded</a>()) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        std::shared_ptr&lt;Directory&gt; directory = *dir_res;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keyword">auto</span> sessions = ServerSession::CreateSessionPair(directory-&gt;GetName());</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        directory-&gt;ClientConnected(std::get&lt;SharedPtr&lt;ServerSession&gt;&gt;(sessions));</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        rb.PushMoveObjects(std::get&lt;SharedPtr&lt;ClientSession&gt;&gt;(sessions));</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_FS, <span class="stringliteral">&quot;failed to get a handle for directory type={} size={} data={}&quot;</span>,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                  static_cast&lt;u32&gt;(dirname_type), dirname_size, dir_path.DebugStr());</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        rb.PushMoveObjects&lt;<a class="code" href="class_kernel_1_1_object.html">Kernel::Object</a>&gt;(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3723c47b8c1dbac1eaad093516450832">  303</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3723c47b8c1dbac1eaad093516450832">FS_USER::OpenArchive</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x80C, 3, 2};</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">auto</span> archive_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4">FS::ArchiveIdCode</a>&gt;()};</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keyword">auto</span> archivename_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> archivename_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    std::vector&lt;u8&gt; archivename{rp.PopStaticBuffer()};</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(archivename.size() == archivename_size);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> archive_path(archivename_type, archivename);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;archive_id=0x{:08X} archive_path={}&quot;</span>, static_cast&lt;u32&gt;(archive_id),</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;              archive_path.DebugStr());</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(3, 0)};</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="class_result_val.html">ResultVal&lt;ArchiveHandle&gt;</a> handle = <a class="code" href="namespace_service_1_1_f_s.html#a84c9413b4585001e5f40a473639565f6">Service::FS::OpenArchive</a>(archive_id, archive_path);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    rb.Push(handle.<a class="code" href="class_result_val.html#a27e58a273946089f7f58f1eba1d73b99">Code</a>());</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (handle.<a class="code" href="class_result_val.html#a24f06dd810790371949513b7c52bcbd5">Succeeded</a>()) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        rb.PushRaw(*handle);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        rb.Push&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;(0);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_FS,</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                  <span class="stringliteral">&quot;failed to get a handle for archive archive_id=0x{:08X} archive_path={}&quot;</span>,</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                  static_cast&lt;u32&gt;(archive_id), archive_path.DebugStr());</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a554db98ce9c0f86e592788d6e618f535">  328</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a554db98ce9c0f86e592788d6e618f535">FS_USER::CloseArchive</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x80E, 2, 0};</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keyword">auto</span> archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#a36a2e43d04fef490d27c12c590b667ac">Service::FS::CloseArchive</a>(archive_handle));</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a370207f1276345b5fae6e76e759dc404">  336</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a370207f1276345b5fae6e76e759dc404">FS_USER::IsSdmcDetected</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x817, 0, 0};</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    rb.Push(<a class="code" href="namespace_settings.html#a89bad2e81a950120963b3f26c691810a">Settings::values</a>.use_virtual_sd);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2ada2bc8772a4f7079cbdc14422fa4d9">  343</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2ada2bc8772a4f7079cbdc14422fa4d9">FS_USER::IsSdmcWriteable</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x818, 0, 0};</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// If the SD isn&#39;t enabled, it can&#39;t be writeable...else, stubbed true</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    rb.Push(<a class="code" href="namespace_settings.html#a89bad2e81a950120963b3f26c691810a">Settings::values</a>.use_virtual_sd);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot; (STUBBED)&quot;</span>);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a689196f6a5265b5f2cf1f19ca960bfed">  352</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a689196f6a5265b5f2cf1f19ca960bfed">FS_USER::FormatSaveData</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_FS, <span class="stringliteral">&quot;(STUBBED)&quot;</span>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x84C, 9, 2};</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keyword">auto</span> archive_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4">FS::ArchiveIdCode</a>&gt;()};</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keyword">auto</span> archivename_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> archivename_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> block_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> number_directories{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> number_files{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> directory_buckets{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> file_buckets{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordtype">bool</span> duplicate_data{rp.Pop&lt;<span class="keywordtype">bool</span>&gt;()};</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    std::vector&lt;u8&gt; archivename{rp.PopStaticBuffer()};</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(archivename.size() == archivename_size);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> archive_path(archivename_type, archivename);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;archive_path={}&quot;</span>, archive_path.DebugStr());</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (archive_id != <a class="code" href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4acce37f2634222301e969645a9b5677be">FS::ArchiveIdCode::SaveData</a>) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_FS, <span class="stringliteral">&quot;tried to format an archive different than SaveData, {}&quot;</span>,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                  static_cast&lt;u32&gt;(archive_id));</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        rb.Push(<a class="code" href="namespace_file_sys.html#a5fc2b497ff56fd5503498231c6350fa0">FileSys::ERROR_INVALID_PATH</a>);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (archive_path.GetType() != <a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1face2c8aed9c2fa0cfbed56cbda4d8bf07">FileSys::LowPathType::Empty</a>) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="comment">// TODO(Subv): Implement formatting the SaveData of other games</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_FS, <span class="stringliteral">&quot;archive LowPath type other than empty is currently unsupported&quot;</span>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        rb.Push(<a class="code" href="result_8h.html#a83c370da33c4c24a4238cc28b78b5595">UnimplementedFunction</a>(<a class="code" href="result_8h.html#a67158ef38e1ab9113151768007433e3aa4a436c564cf21ff91983ab79399fa185">ErrorModule::FS</a>));</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="namespace_file_sys.html#struct_file_sys_1_1_archive_format_info">FileSys::ArchiveFormatInfo</a> format_info;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#abb4faaef007544f85b69e70707a559bb">duplicate_data</a> = duplicate_data;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#a791bdff5e4617be1ca033d319a674f25">number_directories</a> = number_directories;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#a84b4688290697d23d9e987a6a59bf502">number_files</a> = number_files;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#a894e1251c11c4850b546000f49262d4b">total_size</a> = block_size * 512;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    rb.Push(<a class="code" href="namespace_service_1_1_f_s.html#ac3845cf491f7c8e3134ed27d51142bd2">FormatArchive</a>(<a class="code" href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4acce37f2634222301e969645a9b5677be">ArchiveIdCode::SaveData</a>, format_info));</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a6e17a5e06b7a578d7a3264965bc58411">  395</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a6e17a5e06b7a578d7a3264965bc58411">FS_USER::FormatThisUserSaveData</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x80F, 6, 0};</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> block_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> number_directories{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> number_files{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> directory_buckets{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> file_buckets{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordtype">bool</span> duplicate_data{rp.Pop&lt;<span class="keywordtype">bool</span>&gt;()};</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="namespace_file_sys.html#struct_file_sys_1_1_archive_format_info">FileSys::ArchiveFormatInfo</a> format_info;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#abb4faaef007544f85b69e70707a559bb">duplicate_data</a> = duplicate_data;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    format_info.number_directories = number_directories;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    format_info.number_files = number_files;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    format_info.total_size = block_size * 512;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#ac3845cf491f7c8e3134ed27d51142bd2">FormatArchive</a>(<a class="code" href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4acce37f2634222301e969645a9b5677be">ArchiveIdCode::SaveData</a>, format_info));</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="log_8h.html#ae9fb9e5f54be61c473be717ec6e71298">LOG_TRACE</a>(Service_FS, <span class="stringliteral">&quot;called&quot;</span>);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a24e899c7a9a1b5dd782114c874fda8e4">  416</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a24e899c7a9a1b5dd782114c874fda8e4">FS_USER::GetFreeBytes</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x812, 2, 0};</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a> archive_handle{rp.PopRaw&lt;<a class="code" href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">ArchiveHandle</a>&gt;()};</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="class_result_val.html">ResultVal&lt;u64&gt;</a> bytes_res = <a class="code" href="namespace_service_1_1_f_s.html#ae49d1eec2e38bb5b3db8817d7ccbd5e5">GetFreeBytesInArchive</a>(archive_handle);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(3, 0)};</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(bytes_res.Code());</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (bytes_res.Succeeded()) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        rb.Push&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;(bytes_res.Unwrap());</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        rb.Push&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;(0);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#aaae4d384d689502aab4c565deb65e82c">  430</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#aaae4d384d689502aab4c565deb65e82c">FS_USER::CreateExtSaveData</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// TODO(Subv): Figure out the other parameters.</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x0851, 9, 2};</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">MediaType</a> media_type = <span class="keyword">static_cast&lt;</span><a class="code" href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">MediaType</a><span class="keyword">&gt;</span>(rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()); <span class="comment">// the other bytes are unknown</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> save_low{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> save_high{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> unknown{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> directories{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> files{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a> size_limit{rp.Pop&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;()};</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> icon_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keyword">auto</span> icon_buffer{rp.PopMappedBuffer()};</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    std::vector&lt;u8&gt; icon(icon_size);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    icon_buffer.Read(icon.data(), 0, icon_size);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="namespace_file_sys.html#struct_file_sys_1_1_archive_format_info">FileSys::ArchiveFormatInfo</a> format_info;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#a791bdff5e4617be1ca033d319a674f25">number_directories</a> = directories;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#a84b4688290697d23d9e987a6a59bf502">number_files</a> = files;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#abb4faaef007544f85b69e70707a559bb">duplicate_data</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#a894e1251c11c4850b546000f49262d4b">total_size</a> = 0;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 2)};</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#aeb22d463389eca7585cd86e22e9c8052">Service::FS::CreateExtSaveData</a>(media_type, save_high, save_low, icon, format_info));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    rb.PushMappedBuffer(icon_buffer);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS,</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;              <span class="stringliteral">&quot;called, savedata_high={:08X} savedata_low={:08X} unknown={:08X} &quot;</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;              <span class="stringliteral">&quot;files={:08X} directories={:08X} size_limit={:016x} icon_size={:08X}&quot;</span>,</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;              save_high, save_low, unknown, directories, files, size_limit, icon_size);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a44688a794a68bddc403aa62a5926e501">  462</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a44688a794a68bddc403aa62a5926e501">FS_USER::DeleteExtSaveData</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x852, 4, 0};</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">MediaType</a> media_type = <span class="keyword">static_cast&lt;</span><a class="code" href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">MediaType</a><span class="keyword">&gt;</span>(rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()); <span class="comment">// the other bytes are unknown</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> save_low{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> save_high{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> unknown{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()}; <span class="comment">// TODO(Subv): Figure out what this is</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#a61ee50209a92f4ce2e79c35d378a7578">Service::FS::DeleteExtSaveData</a>(media_type, save_high, save_low));</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS,</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;              <span class="stringliteral">&quot;called, save_low={:08X} save_high={:08X} media_type={:08X} unknown={:08X}&quot;</span>, save_low,</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;              save_high, static_cast&lt;u32&gt;(media_type), unknown);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7f554d1e7faabe1e5fd398d70b94c1ee">  477</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7f554d1e7faabe1e5fd398d70b94c1ee">FS_USER::CardSlotIsInserted</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x821, 0, 0};</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    rb.Push(<span class="keyword">false</span>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_FS, <span class="stringliteral">&quot;(STUBBED) called&quot;</span>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a79fcd9539707e421950383f7bb5b5317">  485</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a79fcd9539707e421950383f7bb5b5317">FS_USER::DeleteSystemSaveData</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x857, 2, 0};</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> savedata_high{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> savedata_low{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#aa542303872e9045245bd889e203626a4">Service::FS::DeleteSystemSaveData</a>(savedata_high, savedata_low));</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a4c33135759b55e513e8a14d45156f048">  494</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a4c33135759b55e513e8a14d45156f048">FS_USER::CreateSystemSaveData</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x856, 9, 0};</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> savedata_high{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> savedata_low{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> total_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> block_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> directories{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> files{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> directory_buckets{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> file_buckets{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordtype">bool</span> duplicate{rp.Pop&lt;<span class="keywordtype">bool</span>&gt;()};</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        Service_FS,</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="stringliteral">&quot;(STUBBED) savedata_high={:08X} savedata_low={:08X} total_size={:08X}  block_size={:08X} &quot;</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="stringliteral">&quot;directories={} files={} directory_buckets={} file_buckets={} duplicate={}&quot;</span>,</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        savedata_high, savedata_low, total_size, block_size, directories, files, directory_buckets,</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        file_buckets, duplicate);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#ab8fe8f399181c1acb34563960b16bf7c">Service::FS::CreateSystemSaveData</a>(savedata_high, savedata_low));</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a381b836dd563e15cfae8611bf2e3bf3f">  517</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a381b836dd563e15cfae8611bf2e3bf3f">FS_USER::CreateLegacySystemSaveData</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x810, 8, 0};</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> savedata_id{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> total_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> block_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> directories{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> files{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> directory_buckets{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> file_buckets{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordtype">bool</span> duplicate{rp.Pop&lt;<span class="keywordtype">bool</span>&gt;()};</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_FS,</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="stringliteral">&quot;(STUBBED) savedata_id={:08X} total_size={:08X} block_size={:08X} directories={} &quot;</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="stringliteral">&quot;files={} directory_buckets={} file_buckets={} duplicate={}&quot;</span>,</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                savedata_id, total_size, block_size, directories, files, directory_buckets,</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                file_buckets, duplicate);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// With this command, the SystemSaveData always has save_high = 0 (Always created in the NAND)</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#ab8fe8f399181c1acb34563960b16bf7c">Service::FS::CreateSystemSaveData</a>(0, savedata_id));</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a6a345c714b0d1f72ba88e1651694ff90">  539</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a6a345c714b0d1f72ba88e1651694ff90">FS_USER::InitializeWithSdkVersion</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x861, 1, 2};</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keyword">const</span> <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> version{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    rp.PopPID();</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_FS, <span class="stringliteral">&quot;(STUBBED) called, version: 0x{:08X}&quot;</span>, version);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7acf9c5710efdaed614c7ab36c03ed90">  550</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7acf9c5710efdaed614c7ab36c03ed90">FS_USER::SetPriority</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x862, 1, 0};</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a01eadfb5746f9a7b631ecf179785cefd">priority</a> = rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;();</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;called priority=0x{:X}&quot;</span>, <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a01eadfb5746f9a7b631ecf179785cefd">priority</a>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;}</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3c000c9a5bae02241c6059dd06654a46">  561</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3c000c9a5bae02241c6059dd06654a46">FS_USER::GetPriority</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x863, 0, 0};</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a01eadfb5746f9a7b631ecf179785cefd">priority</a> == -1) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="log_8h.html#ae1a301a080359216e118c7936bbdbfd9">LOG_INFO</a>(Service_FS, <span class="stringliteral">&quot;priority was not set, priority=0x{:X}&quot;</span>, <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a01eadfb5746f9a7b631ecf179785cefd">priority</a>);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    rb.Push(<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a01eadfb5746f9a7b631ecf179785cefd">priority</a>);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;called priority=0x{:X}&quot;</span>, <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a01eadfb5746f9a7b631ecf179785cefd">priority</a>);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a76d14eaaf9dccfc85279a94d5ac8ee5c">  575</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a76d14eaaf9dccfc85279a94d5ac8ee5c">FS_USER::GetArchiveResource</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x849, 1, 0};</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> system_media_type{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_FS, <span class="stringliteral">&quot;(STUBBED) called Media type=0x{:08X}&quot;</span>, system_media_type);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(5, 0)};</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(512);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(16384);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(0x80000); <span class="comment">// 8GiB capacity</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(0x80000); <span class="comment">// 8GiB free</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a0ec492a28dd60fc9d80f9558ad49a17d">  589</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a0ec492a28dd60fc9d80f9558ad49a17d">FS_USER::GetFormatInfo</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x845, 3, 2};</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keyword">auto</span> archive_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4">FS::ArchiveIdCode</a>&gt;()};</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keyword">auto</span> archivename_type{rp.PopEnum&lt;<a class="code" href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a>&gt;()};</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> archivename_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    std::vector&lt;u8&gt; archivename{rp.PopStaticBuffer()};</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(archivename.size() == archivename_size);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> archive_path(archivename_type, archivename);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;archive_path={}&quot;</span>, archive_path.DebugStr());</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(5, 0)};</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keyword">auto</span> format_info = <a class="code" href="namespace_service_1_1_f_s.html#aeeefbc7f826e571319cb35be0b877571">GetArchiveFormatInfo</a>(archive_id, archive_path);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    rb.Push(format_info.Code());</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">if</span> (format_info.Failed()) {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_FS, <span class="stringliteral">&quot;Failed to retrieve the format info&quot;</span>);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        rb.Skip(4, <span class="keyword">true</span>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(format_info-&gt;total_size);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(format_info-&gt;number_directories);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(format_info-&gt;number_files);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    rb.Push&lt;<span class="keywordtype">bool</span>&gt;(format_info-&gt;duplicate_data != 0);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ad57abd2d413e3be563cabba42408f3fa">  617</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ad57abd2d413e3be563cabba42408f3fa">FS_USER::GetProgramLaunchInfo</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x82F, 1, 0};</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> process_id{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;process_id={}&quot;</span>, process_id);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">// TODO(Subv): The real FS service manages its own process list and only checks the processes</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">// that were registered with the &#39;fs:REG&#39; service.</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keyword">auto</span> process = <a class="code" href="namespace_kernel.html#ad4e994e45f272715de6aae015e51dac9">Kernel::GetProcessById</a>(process_id);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(5, 0)};</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span> (process == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="comment">// Note: In this case, the rest of the parameters are not changed but the command header</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="comment">// remains the same.</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="union_result_code.html">ResultCode</a>(<a class="code" href="namespace_file_sys_1_1_err_codes.html#a65ec2769c54bb76350789c90a5cdf977aa0b9ebfc63304edfd9ce9514be647666">FileSys::ErrCodes::ArchiveNotMounted</a>, <a class="code" href="result_8h.html#a67158ef38e1ab9113151768007433e3aa4a436c564cf21ff91983ab79399fa185">ErrorModule::FS</a>,</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                           <a class="code" href="result_8h.html#a1d3c3229b2c38b6fe717b434732c5b86a38c300f4fc9ce8a77aad4a30de05cad8">ErrorSummary::NotFound</a>, <a class="code" href="result_8h.html#aa3b9056eb03ec4e7c3561192eb830739aec53a8c4f07baed5d8825072c89799be">ErrorLevel::Status</a>));</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        rb.Skip(4, <span class="keyword">false</span>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a> program_id = process-&gt;codeset-&gt;program_id;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keyword">auto</span> media_type = <a class="code" href="namespace_service_1_1_a_m.html#afc8d38d55fcb9988f242c6783db29dff">Service::AM::GetTitleMediaType</a>(program_id);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    rb.Push(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    rb.Push(program_id);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    rb.Push(static_cast&lt;u8&gt;(media_type));</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">// TODO(Subv): Find out what this value means.</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(0);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a8ba210952221e148fa3d159087f9fdea">  651</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a8ba210952221e148fa3d159087f9fdea">FS_USER::ObsoletedCreateExtSaveData</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x830, 6, 2};</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">MediaType</a> media_type = <span class="keyword">static_cast&lt;</span><a class="code" href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">MediaType</a><span class="keyword">&gt;</span>(rp.Pop&lt;<a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a>&gt;());</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> save_low{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> save_high{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> icon_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> directories{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> files{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keyword">auto</span> icon_buffer{rp.PopMappedBuffer()};</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    std::vector&lt;u8&gt; icon(icon_size);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    icon_buffer.Read(icon.data(), 0, icon_size);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="namespace_file_sys.html#struct_file_sys_1_1_archive_format_info">FileSys::ArchiveFormatInfo</a> format_info;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#a791bdff5e4617be1ca033d319a674f25">number_directories</a> = directories;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#a84b4688290697d23d9e987a6a59bf502">number_files</a> = files;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#abb4faaef007544f85b69e70707a559bb">duplicate_data</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    format_info.<a class="code" href="namespace_file_sys.html#a894e1251c11c4850b546000f49262d4b">total_size</a> = 0;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 2)};</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#aeb22d463389eca7585cd86e22e9c8052">Service::FS::CreateExtSaveData</a>(media_type, save_high, save_low, icon, format_info));</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    rb.PushMappedBuffer(icon_buffer);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS,</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;              <span class="stringliteral">&quot;called, savedata_high={:08X} savedata_low={:08X} &quot;</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;              <span class="stringliteral">&quot;icon_size={:08X} files={:08X} directories={:08X}&quot;</span>,</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;              save_high, save_low, icon_size, directories, files);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;}</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2353a523c022eb1369fa7fc7ce7f1b5f">  680</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2353a523c022eb1369fa7fc7ce7f1b5f">FS_USER::ObsoletedDeleteExtSaveData</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x835, 2, 0};</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">MediaType</a> media_type = <span class="keyword">static_cast&lt;</span><a class="code" href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">MediaType</a><span class="keyword">&gt;</span>(rp.Pop&lt;<a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a>&gt;());</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> save_low{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="namespace_service_1_1_f_s.html#a61ee50209a92f4ce2e79c35d378a7578">Service::FS::DeleteExtSaveData</a>(media_type, 0, save_low));</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_FS, <span class="stringliteral">&quot;called, save_low={:08X} media_type={:08X}&quot;</span>, save_low,</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;              static_cast&lt;u32&gt;(media_type));</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7c40e9f22adfa532a3307f47d1f29cb2">  692</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7c40e9f22adfa532a3307f47d1f29cb2">FS_USER::GetNumSeeds</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x87D, 0, 0};</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_FS, <span class="stringliteral">&quot;(STUBBED) called&quot;</span>);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(0);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2c3ae1396bef1b8f61790833f48b4b6a">  703</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2c3ae1396bef1b8f61790833f48b4b6a">FS_USER::SetSaveDataSecureValue</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x865, 5, 0};</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a> value{rp.Pop&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;()};</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> secure_value_slot{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> unique_id{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> title_variation{rp.Pop&lt;<a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a>&gt;()};</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">// TODO: Generate and Save the Secure Value</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_FS,</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                <span class="stringliteral">&quot;(STUBBED) called, value=0x{:016x} secure_value_slot=0x{:08X} &quot;</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                <span class="stringliteral">&quot;unqiue_id=0x{:08X} title_variation=0x{:02X}&quot;</span>,</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                value, secure_value_slot, unique_id, title_variation);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7064eee83aa339d58dc687a1e2995c01">  722</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7064eee83aa339d58dc687a1e2995c01">FS_USER::GetSaveDataSecureValue</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x866, 3, 0};</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> secure_value_slot{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> unique_id{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> title_variation{rp.Pop&lt;<a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a>&gt;()};</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        Service_FS,</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="stringliteral">&quot;(STUBBED) called secure_value_slot=0x{:08X} unqiue_id=0x{:08X} title_variation=0x{:02X}&quot;</span>,</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        secure_value_slot, unique_id, title_variation);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(4, 0)};</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// TODO: Implement Secure Value Lookup &amp; Generation</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    rb.Push&lt;<span class="keywordtype">bool</span>&gt;(<span class="keyword">false</span>); <span class="comment">// indicates that the secure value doesn&#39;t exist</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;(0);      <span class="comment">// the secure value</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a61fdedccf062db245649ac4a3ad80890">  744</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a61fdedccf062db245649ac4a3ad80890">FS_USER::GetThisSaveDataSecureValue</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x86F, 1, 0};</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> secure_value_slot{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_FS, <span class="stringliteral">&quot;(STUBBED) called, secure_value_slot={}&quot;</span>, secure_value_slot);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(4, 0)};</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">// TODO: Implement Secure Value Lookup &amp; Generation</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    rb.Push&lt;<span class="keywordtype">bool</span>&gt;(<span class="keyword">false</span>); <span class="comment">// indicates that the secure value doesn&#39;t exist</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;(0);      <span class="comment">// the secure value</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2edcd542973714392d27d80123ddc367">  761</a></span>&#160;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2edcd542973714392d27d80123ddc367">FS_USER::FS_USER</a>() : <a class="code" href="class_service_1_1_service_framework.html">ServiceFramework</a>(<span class="stringliteral">&quot;fs:USER&quot;</span>, 30) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> FunctionInfo functions[] = {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        {0x000100C6, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;Dummy1&quot;</span>},</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        {0x040100C4, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;Control&quot;</span>},</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        {0x08010002, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a548eb6b742bc561ec799823566e57d1d">FS_USER::Initialize</a>, <span class="stringliteral">&quot;Initialize&quot;</span>},</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        {0x080201C2, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a126101d5cbba1d415ce9ebfa0c59cac4">FS_USER::OpenFile</a>, <span class="stringliteral">&quot;OpenFile&quot;</span>},</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        {0x08030204, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ab95fc37214ba35ec393c2990c8d6c987">FS_USER::OpenFileDirectly</a>, <span class="stringliteral">&quot;OpenFileDirectly&quot;</span>},</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        {0x08040142, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7536924026981c0f651eb1638936f3f0">FS_USER::DeleteFile</a>, <span class="stringliteral">&quot;DeleteFile&quot;</span>},</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        {0x08050244, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#aead32bb786b465dac540c1065a57ea12">FS_USER::RenameFile</a>, <span class="stringliteral">&quot;RenameFile&quot;</span>},</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        {0x08060142, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a9c552d8b842a74071312351d4fe47b1c">FS_USER::DeleteDirectory</a>, <span class="stringliteral">&quot;DeleteDirectory&quot;</span>},</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        {0x08070142, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ac692557b88323072bad1057613413986">FS_USER::DeleteDirectoryRecursively</a>, <span class="stringliteral">&quot;DeleteDirectoryRecursively&quot;</span>},</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        {0x08080202, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3024b2104bb8838a9fdbbaccddfbb246">FS_USER::CreateFile</a>, <span class="stringliteral">&quot;CreateFile&quot;</span>},</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        {0x08090182, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#adb0252d0b1b42f8cb83daafb5ad621da">FS_USER::CreateDirectory</a>, <span class="stringliteral">&quot;CreateDirectory&quot;</span>},</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        {0x080A0244, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a91e15e958da16074ac97d80643fdbaf6">FS_USER::RenameDirectory</a>, <span class="stringliteral">&quot;RenameDirectory&quot;</span>},</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        {0x080B0102, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a89413274cfd95ed9f7c0f2d11d3eb17e">FS_USER::OpenDirectory</a>, <span class="stringliteral">&quot;OpenDirectory&quot;</span>},</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        {0x080C00C2, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3723c47b8c1dbac1eaad093516450832">FS_USER::OpenArchive</a>, <span class="stringliteral">&quot;OpenArchive&quot;</span>},</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        {0x080D0144, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ControlArchive&quot;</span>},</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        {0x080E0080, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a554db98ce9c0f86e592788d6e618f535">FS_USER::CloseArchive</a>, <span class="stringliteral">&quot;CloseArchive&quot;</span>},</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        {0x080F0180, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a6e17a5e06b7a578d7a3264965bc58411">FS_USER::FormatThisUserSaveData</a>, <span class="stringliteral">&quot;FormatThisUserSaveData&quot;</span>},</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        {0x08100200, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a381b836dd563e15cfae8611bf2e3bf3f">FS_USER::CreateLegacySystemSaveData</a>, <span class="stringliteral">&quot;CreateLegacySystemSaveData&quot;</span>},</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        {0x08110040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;DeleteSystemSaveData&quot;</span>},</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        {0x08120080, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a24e899c7a9a1b5dd782114c874fda8e4">FS_USER::GetFreeBytes</a>, <span class="stringliteral">&quot;GetFreeBytes&quot;</span>},</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        {0x08130000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetCardType&quot;</span>},</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        {0x08140000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetSdmcArchiveResource&quot;</span>},</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        {0x08150000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetNandArchiveResource&quot;</span>},</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        {0x08160000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetSdmcFatfsError&quot;</span>},</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        {0x08170000, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a370207f1276345b5fae6e76e759dc404">FS_USER::IsSdmcDetected</a>, <span class="stringliteral">&quot;IsSdmcDetected&quot;</span>},</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        {0x08180000, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2ada2bc8772a4f7079cbdc14422fa4d9">FS_USER::IsSdmcWriteable</a>, <span class="stringliteral">&quot;IsSdmcWritable&quot;</span>},</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        {0x08190042, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetSdmcCid&quot;</span>},</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        {0x081A0042, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetNandCid&quot;</span>},</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        {0x081B0000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetSdmcSpeedInfo&quot;</span>},</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        {0x081C0000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetNandSpeedInfo&quot;</span>},</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        {0x081D0042, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetSdmcLog&quot;</span>},</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        {0x081E0042, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetNandLog&quot;</span>},</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        {0x081F0000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ClearSdmcLog&quot;</span>},</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        {0x08200000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ClearNandLog&quot;</span>},</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        {0x08210000, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7f554d1e7faabe1e5fd398d70b94c1ee">FS_USER::CardSlotIsInserted</a>, <span class="stringliteral">&quot;CardSlotIsInserted&quot;</span>},</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        {0x08220000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardSlotPowerOn&quot;</span>},</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        {0x08230000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardSlotPowerOff&quot;</span>},</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        {0x08240000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardSlotGetCardIFPowerStatus&quot;</span>},</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        {0x08250040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardNorDirectCommand&quot;</span>},</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        {0x08260080, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardNorDirectCommandWithAddress&quot;</span>},</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        {0x08270082, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardNorDirectRead&quot;</span>},</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        {0x082800C2, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardNorDirectReadWithAddress&quot;</span>},</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        {0x08290082, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardNorDirectWrite&quot;</span>},</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        {0x082A00C2, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardNorDirectWriteWithAddress&quot;</span>},</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        {0x082B00C2, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardNorDirectRead_4xIO&quot;</span>},</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        {0x082C0082, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardNorDirectCpuWriteWithoutVerify&quot;</span>},</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        {0x082D0040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CardNorDirectSectorEraseWithoutVerify&quot;</span>},</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        {0x082E0040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetProductInfo&quot;</span>},</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        {0x082F0040, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ad57abd2d413e3be563cabba42408f3fa">FS_USER::GetProgramLaunchInfo</a>, <span class="stringliteral">&quot;GetProgramLaunchInfo&quot;</span>},</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        {0x08300182, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a8ba210952221e148fa3d159087f9fdea">FS_USER::ObsoletedCreateExtSaveData</a>, <span class="stringliteral">&quot;Obsoleted_3_0_CreateExtSaveData&quot;</span>},</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        {0x08310180, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CreateSharedExtSaveData&quot;</span>},</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        {0x08320102, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ReadExtSaveDataIcon&quot;</span>},</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        {0x08330082, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;EnumerateExtSaveData&quot;</span>},</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        {0x08340082, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;EnumerateSharedExtSaveData&quot;</span>},</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        {0x08350080, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2353a523c022eb1369fa7fc7ce7f1b5f">FS_USER::ObsoletedDeleteExtSaveData</a>, <span class="stringliteral">&quot;Obsoleted_3_0_DeleteExtSaveData&quot;</span>},</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        {0x08360080, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;DeleteSharedExtSaveData&quot;</span>},</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        {0x08370040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;SetCardSpiBaudRate&quot;</span>},</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        {0x08380040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;SetCardSpiBusMode&quot;</span>},</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        {0x08390000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;SendInitializeInfoTo9&quot;</span>},</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        {0x083A0100, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetSpecialContentIndex&quot;</span>},</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        {0x083B00C2, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetLegacyRomHeader&quot;</span>},</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        {0x083C00C2, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetLegacyBannerData&quot;</span>},</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        {0x083D0100, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CheckAuthorityToAccessExtSaveData&quot;</span>},</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        {0x083E00C2, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;QueryTotalQuotaSize&quot;</span>},</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        {0x083F00C0, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetExtDataBlockSize&quot;</span>},</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        {0x08400040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;AbnegateAccessRight&quot;</span>},</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        {0x08410000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;DeleteSdmcRoot&quot;</span>},</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        {0x08420040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;DeleteAllExtSaveDataOnNand&quot;</span>},</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        {0x08430000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;InitializeCtrFileSystem&quot;</span>},</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        {0x08440000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CreateSeed&quot;</span>},</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        {0x084500C2, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a0ec492a28dd60fc9d80f9558ad49a17d">FS_USER::GetFormatInfo</a>, <span class="stringliteral">&quot;GetFormatInfo&quot;</span>},</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        {0x08460102, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetLegacyRomHeader2&quot;</span>},</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        {0x08470180, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;FormatCtrCardUserSaveData&quot;</span>},</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        {0x08480042, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetSdmcCtrRootPath&quot;</span>},</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        {0x08490040, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a76d14eaaf9dccfc85279a94d5ac8ee5c">FS_USER::GetArchiveResource</a>, <span class="stringliteral">&quot;GetArchiveResource&quot;</span>},</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        {0x084A0002, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ExportIntegrityVerificationSeed&quot;</span>},</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        {0x084B0002, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ImportIntegrityVerificationSeed&quot;</span>},</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        {0x084C0242, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a689196f6a5265b5f2cf1f19ca960bfed">FS_USER::FormatSaveData</a>, <span class="stringliteral">&quot;FormatSaveData&quot;</span>},</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        {0x084D0102, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetLegacySubBannerData&quot;</span>},</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        {0x084E0342, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;UpdateSha256Context&quot;</span>},</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        {0x084F0102, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ReadSpecialFile&quot;</span>},</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        {0x08500040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetSpecialFileSize&quot;</span>},</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        {0x08510242, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#aaae4d384d689502aab4c565deb65e82c">FS_USER::CreateExtSaveData</a>, <span class="stringliteral">&quot;CreateExtSaveData&quot;</span>},</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        {0x08520100, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a44688a794a68bddc403aa62a5926e501">FS_USER::DeleteExtSaveData</a>, <span class="stringliteral">&quot;DeleteExtSaveData&quot;</span>},</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        {0x08530142, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ReadExtSaveDataIcon&quot;</span>},</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        {0x085400C0, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetExtDataBlockSize&quot;</span>},</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        {0x08550102, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;EnumerateExtSaveData&quot;</span>},</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        {0x08560240, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a4c33135759b55e513e8a14d45156f048">FS_USER::CreateSystemSaveData</a>, <span class="stringliteral">&quot;CreateSystemSaveData&quot;</span>},</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        {0x08570080, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a79fcd9539707e421950383f7bb5b5317">FS_USER::DeleteSystemSaveData</a>, <span class="stringliteral">&quot;DeleteSystemSaveData&quot;</span>},</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        {0x08580000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;StartDeviceMoveAsSource&quot;</span>},</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        {0x08590200, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;StartDeviceMoveAsDestination&quot;</span>},</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        {0x085A00C0, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;SetArchivePriority&quot;</span>},</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        {0x085B0080, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetArchivePriority&quot;</span>},</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        {0x085C00C0, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;SetCtrCardLatencyParameter&quot;</span>},</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        {0x085D01C0, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;SetFsCompatibilityInfo&quot;</span>},</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        {0x085E0040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ResetCardCompatibilityParameter&quot;</span>},</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        {0x085F0040, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;SwitchCleanupInvalidSaveData&quot;</span>},</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        {0x08600042, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;EnumerateSystemSaveData&quot;</span>},</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        {0x08610042, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a6a345c714b0d1f72ba88e1651694ff90">FS_USER::InitializeWithSdkVersion</a>, <span class="stringliteral">&quot;InitializeWithSdkVersion&quot;</span>},</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        {0x08620040, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7acf9c5710efdaed614c7ab36c03ed90">FS_USER::SetPriority</a>, <span class="stringliteral">&quot;SetPriority&quot;</span>},</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        {0x08630000, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3c000c9a5bae02241c6059dd06654a46">FS_USER::GetPriority</a>, <span class="stringliteral">&quot;GetPriority&quot;</span>},</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        {0x08640000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetNandInfo&quot;</span>},</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        {0x08650140, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2c3ae1396bef1b8f61790833f48b4b6a">FS_USER::SetSaveDataSecureValue</a>, <span class="stringliteral">&quot;SetSaveDataSecureValue&quot;</span>},</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        {0x086600C0, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7064eee83aa339d58dc687a1e2995c01">FS_USER::GetSaveDataSecureValue</a>, <span class="stringliteral">&quot;GetSaveDataSecureValue&quot;</span>},</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        {0x086700C4, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ControlSecureSave&quot;</span>},</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        {0x08680000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetMediaType&quot;</span>},</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        {0x08690000, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;GetNandEraseCount&quot;</span>},</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        {0x086A0082, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;ReadNandReport&quot;</span>},</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        {0x086F0040, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a61fdedccf062db245649ac4a3ad80890">FS_USER::GetThisSaveDataSecureValue</a>, <span class="stringliteral">&quot;GetThisSaveDataSecureValue&quot;</span>},</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        {0x087A0180, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;AddSeed&quot;</span>},</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        {0x087D0000, &amp;<a class="code" href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7c40e9f22adfa532a3307f47d1f29cb2">FS_USER::GetNumSeeds</a>, <span class="stringliteral">&quot;GetNumSeeds&quot;</span>},</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        {0x088600C0, <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;CheckUpdatedDat&quot;</span>},</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    };</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="class_service_1_1_service_framework.html#a54307718519bef2198366da0a7e69e0e">RegisterHandlers</a>(functions);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;}</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="namespace_service_1_1_f_s.html#ac84db48d4725f1572955c9146ecde4cb">  879</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespace_service_1_1_f_s.html#ac84db48d4725f1572955c9146ecde4cb">InstallInterfaces</a>(<a class="code" href="class_service_1_1_s_m_1_1_service_manager.html">SM::ServiceManager</a>&amp; service_manager) {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    std::make_shared&lt;FS_USER&gt;()-&gt;<a class="code" href="class_service_1_1_service_framework_base.html#a9fdd978f4c7c9ecbeaa3dbc9dc7a7c2f">InstallAsService</a>(service_manager);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;} <span class="comment">// namespace Service::FS</span></div><div class="ttc" id="result_8h_html_ac66ebacde94a19df5a65f34e8238cf79"><div class="ttname"><a href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a></div><div class="ttdeci">constexpr ResultCode RESULT_SUCCESS(0)</div><div class="ttdoc">The default success ResultCode. </div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a0313b983360dc09288e79a1f8caa93a2"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a0313b983360dc09288e79a1f8caa93a2">Service::FS::RenameFileBetweenArchives</a></div><div class="ttdeci">ResultCode RenameFileBetweenArchives(ArchiveHandle src_archive_handle, const FileSys::Path &amp;src_path, ArchiveHandle dest_archive_handle, const FileSys::Path &amp;dest_path)</div><div class="ttdoc">Rename a File between two Archives. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00436">archive.cpp:436</a></div></div>
<div class="ttc" id="log_8h_html_ae9fb9e5f54be61c473be717ec6e71298"><div class="ttname"><a href="log_8h.html#ae9fb9e5f54be61c473be717ec6e71298">LOG_TRACE</a></div><div class="ttdeci">#define LOG_TRACE(log_class, fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00124">log.h:124</a></div></div>
<div class="ttc" id="namespace_kernel_html_ad4e994e45f272715de6aae015e51dac9"><div class="ttname"><a href="namespace_kernel.html#ad4e994e45f272715de6aae015e51dac9">Kernel::GetProcessById</a></div><div class="ttdeci">SharedPtr&lt; Process &gt; GetProcessById(u32 process_id)</div><div class="ttdoc">Retrieves a process from the current list of processes. </div><div class="ttdef"><b>Definition:</b> <a href="process_8cpp_source.html#l00318">process.cpp:318</a></div></div>
<div class="ttc" id="file__sys_2errors_8h_html"><div class="ttname"><a href="file__sys_2errors_8h.html">errors.h</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a20f57a47f98ee4873856f02ebd1bc38b"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a20f57a47f98ee4873856f02ebd1bc38b">Service::FS::RenameDirectoryBetweenArchives</a></div><div class="ttdeci">ResultCode RenameDirectoryBetweenArchives(ArchiveHandle src_archive_handle, const FileSys::Path &amp;src_path, ArchiveHandle dest_archive_handle, const FileSys::Path &amp;dest_path)</div><div class="ttdoc">Rename a Directory between two Archives. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00487">archive.cpp:487</a></div></div>
<div class="ttc" id="client__port_8h_html"><div class="ttname"><a href="client__port_8h.html">client_port.h</a></div></div>
<div class="ttc" id="scope__exit_8h_html"><div class="ttname"><a href="scope__exit_8h.html">scope_exit.h</a></div></div>
<div class="ttc" id="class_result_val_html_a956e71b2e8b8f38eab385784b1d24ff3"><div class="ttname"><a href="class_result_val.html#a956e71b2e8b8f38eab385784b1d24ff3">ResultVal::Failed</a></div><div class="ttdeci">bool Failed() const</div><div class="ttdoc">Returns true if the ResultVal contains an error code and no value. </div><div class="ttdef"><b>Definition:</b> <a href="result_8h_source.html#l00363">result.h:363</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_m_html_afc8d38d55fcb9988f242c6783db29dff"><div class="ttname"><a href="namespace_service_1_1_a_m.html#afc8d38d55fcb9988f242c6783db29dff">Service::AM::GetTitleMediaType</a></div><div class="ttdeci">Service::FS::MediaType GetTitleMediaType(u64 titleId)</div><div class="ttdoc">Get the mediatype for an installed title. </div><div class="ttdef"><b>Definition:</b> <a href="am_8cpp_source.html#l00379">am.cpp:379</a></div></div>
<div class="ttc" id="class_i_p_c_1_1_response_builder_html_a12d9068ceac4de2e8c19e34ec42ce54e"><div class="ttname"><a href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">IPC::ResponseBuilder::Push</a></div><div class="ttdeci">void Push(T value)</div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a3024b2104bb8838a9fdbbaccddfbb246"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3024b2104bb8838a9fdbbaccddfbb246">Service::FS::FS_USER::CreateFile</a></div><div class="ttdeci">void CreateFile(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00208">fs_user.cpp:208</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_ab95fc37214ba35ec393c2990c8d6c987"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ab95fc37214ba35ec393c2990c8d6c987">Service::FS::FS_USER::OpenFileDirectly</a></div><div class="ttdeci">void OpenFileDirectly(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::OpenFileDirectly service function Inputs: 1 : Transaction 2 : Archive ID 3 : Archive low pat...</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00076">fs_user.cpp:76</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a01eadfb5746f9a7b631ecf179785cefd"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a01eadfb5746f9a7b631ecf179785cefd">Service::FS::FS_USER::priority</a></div><div class="ttdeci">u32 priority</div><div class="ttdoc">For SetPriority and GetPriority service functions. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8h_source.html#l00497">fs_user.h:497</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a7f952d6dea27a7fce6ac6d17ee9e0464"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">Service::FS::MediaType</a></div><div class="ttdeci">MediaType</div><div class="ttdoc">Media types for the archives. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8h_source.html#l00048">archive.h:48</a></div></div>
<div class="ttc" id="class_result_val_html"><div class="ttname"><a href="class_result_val.html">ResultVal</a></div><div class="ttdoc">This is an optional value type. </div><div class="ttdef"><b>Definition:</b> <a href="result_8h_source.html#l00285">result.h:285</a></div></div>
<div class="ttc" id="class_i_p_c_1_1_request_parser_html"><div class="ttname"><a href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a></div><div class="ttdef"><b>Definition:</b> <a href="ipc__helpers_8h_source.html#l00197">ipc_helpers.h:197</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a554db98ce9c0f86e592788d6e618f535"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a554db98ce9c0f86e592788d6e618f535">Service::FS::FS_USER::CloseArchive</a></div><div class="ttdeci">void CloseArchive(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::CloseArchive service function Inputs: 1 : Archive handle low word 2 : Archive handle high wo...</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00328">fs_user.cpp:328</a></div></div>
<div class="ttc" id="log_8h_html_add982f3fbcbb8bfd9e729ab9356efb34"><div class="ttname"><a href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(log_class,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00127">log.h:127</a></div></div>
<div class="ttc" id="core_2hle_2kernel_2event_8h_html"><div class="ttname"><a href="core_2hle_2kernel_2event_8h.html">event.h</a></div></div>
<div class="ttc" id="result_8h_html_a83c370da33c4c24a4238cc28b78b5595"><div class="ttname"><a href="result_8h.html#a83c370da33c4c24a4238cc28b78b5595">UnimplementedFunction</a></div><div class="ttdeci">constexpr ResultCode UnimplementedFunction(ErrorModule module)</div><div class="ttdoc">Might be returned instead of a dummy success for unimplemented APIs. </div><div class="ttdef"><b>Definition:</b> <a href="result_8h_source.html#l00247">result.h:247</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a91e15e958da16074ac97d80643fdbaf6"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a91e15e958da16074ac97d80643fdbaf6">Service::FS::FS_USER::RenameDirectory</a></div><div class="ttdeci">void RenameDirectory(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00247">fs_user.cpp:247</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a3723c47b8c1dbac1eaad093516450832"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3723c47b8c1dbac1eaad093516450832">Service::FS::FS_USER::OpenArchive</a></div><div class="ttdeci">void OpenArchive(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::OpenArchive service function Inputs: 1 : Archive ID 2 : Archive low path type 3 : Archive lo...</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00303">fs_user.cpp:303</a></div></div>
<div class="ttc" id="class_kernel_1_1_object_html"><div class="ttname"><a href="class_kernel_1_1_object.html">Kernel::Object</a></div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00047">object.h:47</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a5cd483aec21f2c327d150e4805a692db"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a5cd483aec21f2c327d150e4805a692db">Service::FS::ArchiveHandle</a></div><div class="ttdeci">u64 ArchiveHandle</div><div class="ttdef"><b>Definition:</b> <a href="archive_8h_source.html#l00050">archive.h:50</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a7c40e9f22adfa532a3307f47d1f29cb2"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7c40e9f22adfa532a3307f47d1f29cb2">Service::FS::FS_USER::GetNumSeeds</a></div><div class="ttdeci">void GetNumSeeds(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::GetNumSeeds service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00692">fs_user.cpp:692</a></div></div>
<div class="ttc" id="common__types_8h_html_a254d32383658e016368673396e7afc1b"><div class="ttname"><a href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a></div><div class="ttdeci">std::uint8_t u8</div><div class="ttdoc">8-bit unsigned byte </div><div class="ttdef"><b>Definition:</b> <a href="common__types_8h_source.html#l00035">common_types.h:35</a></div></div>
<div class="ttc" id="namespace_kernel_html_afc9bde79933dd23864df0768adeb6cfe"><div class="ttname"><a href="namespace_kernel.html#afc9bde79933dd23864df0768adeb6cfe">Kernel::SharedPtr</a></div><div class="ttdeci">boost::intrusive_ptr&lt; T &gt; SharedPtr</div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00093">object.h:93</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a548eb6b742bc561ec799823566e57d1d"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a548eb6b742bc561ec799823566e57d1d">Service::FS::FS_USER::Initialize</a></div><div class="ttdeci">void Initialize(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00033">fs_user.cpp:33</a></div></div>
<div class="ttc" id="log_8h_html_a2f872ec42bda0e5baf8783313a28494c"><div class="ttname"><a href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(log_class,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00136">log.h:136</a></div></div>
<div class="ttc" id="namespace_file_sys_html_a84b4688290697d23d9e987a6a59bf502"><div class="ttname"><a href="namespace_file_sys.html#a84b4688290697d23d9e987a6a59bf502">FileSys::ArchiveFormatInfo::number_files</a></div><div class="ttdeci">u32_le number_files</div><div class="ttdoc">The pre-defined number of files in the archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00069">archive_backend.h:69</a></div></div>
<div class="ttc" id="core_8h_html"><div class="ttname"><a href="core_8h.html">core.h</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a6f3f74f36e50bdc42d234ae273d29b52"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a6f3f74f36e50bdc42d234ae273d29b52">Service::FS::DeleteDirectoryFromArchive</a></div><div class="ttdeci">ResultCode DeleteDirectoryFromArchive(ArchiveHandle archive_handle, const FileSys::Path &amp;path)</div><div class="ttdoc">Delete a Directory from an Archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00453">archive.cpp:453</a></div></div>
<div class="ttc" id="archive_8h_html"><div class="ttname"><a href="archive_8h.html">archive.h</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_ac3845cf491f7c8e3134ed27d51142bd2"><div class="ttname"><a href="namespace_service_1_1_f_s.html#ac3845cf491f7c8e3134ed27d51142bd2">Service::FS::FormatArchive</a></div><div class="ttdeci">ResultCode FormatArchive(ArchiveIdCode id_code, const FileSys::ArchiveFormatInfo &amp;format_info, const FileSys::Path &amp;path)</div><div class="ttdoc">Erases the contents of the physical folder that contains the archive identified by the specified id c...</div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00525">archive.cpp:525</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a370207f1276345b5fae6e76e759dc404"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a370207f1276345b5fae6e76e759dc404">Service::FS::FS_USER::IsSdmcDetected</a></div><div class="ttdeci">void IsSdmcDetected(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00336">fs_user.cpp:336</a></div></div>
<div class="ttc" id="namespace_file_sys_html_struct_file_sys_1_1_archive_format_info"><div class="ttname"><a href="namespace_file_sys.html#struct_file_sys_1_1_archive_format_info">FileSys::ArchiveFormatInfo</a></div><div class="ttdoc">Parameters of the archive, as specified in the Create or Format call. </div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00066">archive_backend.h:66</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_abba3c4495626896da870fea685d89788"><div class="ttname"><a href="namespace_service_1_1_f_s.html#abba3c4495626896da870fea685d89788">Service::FS::DeleteFileFromArchive</a></div><div class="ttdeci">ResultCode DeleteFileFromArchive(ArchiveHandle archive_handle, const FileSys::Path &amp;path)</div><div class="ttdoc">Delete a File from an Archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00428">archive.cpp:428</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_aaae4d384d689502aab4c565deb65e82c"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#aaae4d384d689502aab4c565deb65e82c">Service::FS::FS_USER::CreateExtSaveData</a></div><div class="ttdeci">void CreateExtSaveData(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::CreateExtSaveData service function Inputs: 1 : Media type (NAND / SDMC) 2 : Low word of the ...</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00430">fs_user.cpp:430</a></div></div>
<div class="ttc" id="namespace_file_sys_html_union_file_sys_1_1_mode"><div class="ttname"><a href="namespace_file_sys.html#union_file_sys_1_1_mode">FileSys::Mode</a></div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00030">archive_backend.h:30</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_ab8fe8f399181c1acb34563960b16bf7c"><div class="ttname"><a href="namespace_service_1_1_f_s.html#ab8fe8f399181c1acb34563960b16bf7c">Service::FS::CreateSystemSaveData</a></div><div class="ttdeci">ResultCode CreateSystemSaveData(u32 high, u32 low)</div><div class="ttdoc">Creates the SystemSaveData archive folder for the specified save data id. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00607">archive.cpp:607</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a89413274cfd95ed9f7c0f2d11d3eb17e"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a89413274cfd95ed9f7c0f2d11d3eb17e">Service::FS::FS_USER::OpenDirectory</a></div><div class="ttdeci">void OpenDirectory(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::OpenDirectory service function Inputs: 1 : Archive handle low word 2 : Archive handle high w...</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00274">fs_user.cpp:274</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_aead32bb786b465dac540c1065a57ea12"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#aead32bb786b465dac540c1065a57ea12">Service::FS::FS_USER::RenameFile</a></div><div class="ttdeci">void RenameFile(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00142">fs_user.cpp:142</a></div></div>
<div class="ttc" id="string__util_8h_html"><div class="ttname"><a href="string__util_8h.html">string_util.h</a></div></div>
<div class="ttc" id="class_kernel_1_1_client_session_html"><div class="ttname"><a href="class_kernel_1_1_client_session.html">Kernel::ClientSession</a></div><div class="ttdef"><b>Definition:</b> <a href="client__session_8h_source.html#l00019">client_session.h:19</a></div></div>
<div class="ttc" id="log_8h_html_a8b510d36fc8a109f98395ce9b6ada954"><div class="ttname"><a href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING(log_class,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00133">log.h:133</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a126101d5cbba1d415ce9ebfa0c59cac4"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a126101d5cbba1d415ce9ebfa0c59cac4">Service::FS::FS_USER::OpenFile</a></div><div class="ttdeci">void OpenFile(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::OpenFile service function Inputs: 1 : Transaction 2 : Archive handle lower word 3 : Archive ...</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00041">fs_user.cpp:41</a></div></div>
<div class="ttc" id="fs__user_8h_html"><div class="ttname"><a href="fs__user_8h.html">fs_user.h</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a1378c9d9dd1ae1ac42cd498b96c1fcd4acce37f2634222301e969645a9b5677be"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4acce37f2634222301e969645a9b5677be">Service::FS::ArchiveIdCode::SaveData</a></div></div>
<div class="ttc" id="class_service_1_1_service_framework_html"><div class="ttname"><a href="class_service_1_1_service_framework.html">Service::ServiceFramework</a></div><div class="ttdoc">Framework for implementing HLE services. </div><div class="ttdef"><b>Definition:</b> <a href="service_8h_source.html#l00118">service.h:118</a></div></div>
<div class="ttc" id="class_kernel_1_1_h_l_e_request_context_html_ac140c041a57b50c94a05e1db1e31da8a"><div class="ttname"><a href="class_kernel_1_1_h_l_e_request_context.html#ac140c041a57b50c94a05e1db1e31da8a">Kernel::HLERequestContext::SleepClientThread</a></div><div class="ttdeci">SharedPtr&lt; Event &gt; SleepClientThread(SharedPtr&lt; Thread &gt; thread, const std::string &amp;reason, std::chrono::nanoseconds timeout, WakeupCallback &amp;&amp;callback)</div><div class="ttdoc">Puts the specified guest thread to sleep until the returned event is signaled or until the specified ...</div><div class="ttdef"><b>Definition:</b> <a href="hle__ipc_8cpp_source.html#l00034">hle_ipc.cpp:34</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a9c552d8b842a74071312351d4fe47b1c"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a9c552d8b842a74071312351d4fe47b1c">Service::FS::FS_USER::DeleteDirectory</a></div><div class="ttdeci">void DeleteDirectory(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00170">fs_user.cpp:170</a></div></div>
<div class="ttc" id="common__types_8h_html"><div class="ttname"><a href="common__types_8h.html">common_types.h</a></div><div class="ttdoc">Copyright (C) 2005-2012 Gekko Emulator. </div></div>
<div class="ttc" id="result_8h_html"><div class="ttname"><a href="result_8h.html">result.h</a></div></div>
<div class="ttc" id="assert_8h_html"><div class="ttname"><a href="assert_8h.html">assert.h</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a8ba210952221e148fa3d159087f9fdea"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a8ba210952221e148fa3d159087f9fdea">Service::FS::FS_USER::ObsoletedCreateExtSaveData</a></div><div class="ttdeci">void ObsoletedCreateExtSaveData(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::Obsoleted_3_0_CreateExtSaveData service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00651">fs_user.cpp:651</a></div></div>
<div class="ttc" id="am_8h_html"><div class="ttname"><a href="am_8h.html">am.h</a></div></div>
<div class="ttc" id="class_service_1_1_s_m_1_1_service_manager_html"><div class="ttname"><a href="class_service_1_1_s_m_1_1_service_manager.html">Service::SM::ServiceManager</a></div><div class="ttdef"><b>Definition:</b> <a href="sm_8h_source.html#l00040">sm.h:40</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a6a345c714b0d1f72ba88e1651694ff90"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a6a345c714b0d1f72ba88e1651694ff90">Service::FS::FS_USER::InitializeWithSdkVersion</a></div><div class="ttdeci">void InitializeWithSdkVersion(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::InitializeWithSdkVersion service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00539">fs_user.cpp:539</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_ae49d1eec2e38bb5b3db8817d7ccbd5e5"><div class="ttname"><a href="namespace_service_1_1_f_s.html#ae49d1eec2e38bb5b3db8817d7ccbd5e5">Service::FS::GetFreeBytesInArchive</a></div><div class="ttdeci">ResultVal&lt; u64 &gt; GetFreeBytesInArchive(ArchiveHandle archive_handle)</div><div class="ttdoc">Get the free space in an Archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00518">archive.cpp:518</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a3c000c9a5bae02241c6059dd06654a46"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a3c000c9a5bae02241c6059dd06654a46">Service::FS::FS_USER::GetPriority</a></div><div class="ttdeci">void GetPriority(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::GetPriority service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00561">fs_user.cpp:561</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_aeb22d463389eca7585cd86e22e9c8052"><div class="ttname"><a href="namespace_service_1_1_f_s.html#aeb22d463389eca7585cd86e22e9c8052">Service::FS::CreateExtSaveData</a></div><div class="ttdeci">ResultCode CreateExtSaveData(MediaType media_type, u32 high, u32 low, const std::vector&lt; u8 &gt; &amp;smdh_icon, const FileSys::ArchiveFormatInfo &amp;format_info)</div><div class="ttdoc">Creates a blank SharedExtSaveData archive for the specified extdata ID. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00545">archive.cpp:545</a></div></div>
<div class="ttc" id="ipc__helpers_8h_html"><div class="ttname"><a href="ipc__helpers_8h.html">ipc_helpers.h</a></div></div>
<div class="ttc" id="common__types_8h_html_a66e1d499241ccae9a18a20a1f4f0590d"><div class="ttname"><a href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a></div><div class="ttdeci">std::uint64_t u64</div><div class="ttdoc">64-bit unsigned int </div><div class="ttdef"><b>Definition:</b> <a href="common__types_8h_source.html#l00038">common_types.h:38</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a84c9413b4585001e5f40a473639565f6"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a84c9413b4585001e5f40a473639565f6">Service::FS::OpenArchive</a></div><div class="ttdeci">ResultVal&lt; ArchiveHandle &gt; OpenArchive(ArchiveIdCode id_code, FileSys::Path &amp;archive_path)</div><div class="ttdoc">Opens an archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00373">archive.cpp:373</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a44688a794a68bddc403aa62a5926e501"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a44688a794a68bddc403aa62a5926e501">Service::FS::FS_USER::DeleteExtSaveData</a></div><div class="ttdeci">void DeleteExtSaveData(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::DeleteExtSaveData service function Inputs: 1 : Media type (NAND / SDMC) 2 : Low word of the ...</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00462">fs_user.cpp:462</a></div></div>
<div class="ttc" id="class_kernel_1_1_h_l_e_request_context_html"><div class="ttname"><a href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a></div><div class="ttdoc">Class containing information about an in-flight IPC request being handled by an HLE service implement...</div><div class="ttdef"><b>Definition:</b> <a href="hle__ipc_8h_source.html#l00155">hle_ipc.h:155</a></div></div>
<div class="ttc" id="namespace_file_sys_html_a762cc398f7d4fa6388dc4cee86de2c1face2c8aed9c2fa0cfbed56cbda4d8bf07"><div class="ttname"><a href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1face2c8aed9c2fa0cfbed56cbda4d8bf07">FileSys::LowPathType::Empty</a></div></div>
<div class="ttc" id="thread_8h_html_a36bd654753f9fb7e2b269831f4e6ad80"><div class="ttname"><a href="thread_8h.html#a36bd654753f9fb7e2b269831f4e6ad80">ThreadWakeupReason</a></div><div class="ttdeci">ThreadWakeupReason</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00047">thread.h:47</a></div></div>
<div class="ttc" id="namespace_file_sys_html_a894e1251c11c4850b546000f49262d4b"><div class="ttname"><a href="namespace_file_sys.html#a894e1251c11c4850b546000f49262d4b">FileSys::ArchiveFormatInfo::total_size</a></div><div class="ttdeci">u32_le total_size</div><div class="ttdoc">The pre-defined size of the archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00067">archive_backend.h:67</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_ad57abd2d413e3be563cabba42408f3fa"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ad57abd2d413e3be563cabba42408f3fa">Service::FS::FS_USER::GetProgramLaunchInfo</a></div><div class="ttdeci">void GetProgramLaunchInfo(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::GetProgramLaunchInfo service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00617">fs_user.cpp:617</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a5dab9d6fbe5ff6e50acc2f8869bcf98d"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a5dab9d6fbe5ff6e50acc2f8869bcf98d">Service::FS::OpenDirectoryFromArchive</a></div><div class="ttdeci">ResultVal&lt; std::shared_ptr&lt; Directory &gt; &gt; OpenDirectoryFromArchive(ArchiveHandle archive_handle, const FileSys::Path &amp;path)</div><div class="ttdoc">Open a Directory from an Archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00504">archive.cpp:504</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a7536924026981c0f651eb1638936f3f0"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7536924026981c0f651eb1638936f3f0">Service::FS::FS_USER::DeleteFile</a></div><div class="ttdeci">void DeleteFile(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00124">fs_user.cpp:124</a></div></div>
<div class="ttc" id="file__util_8h_html"><div class="ttname"><a href="file__util_8h.html">file_util.h</a></div></div>
<div class="ttc" id="scope__exit_8h_html_a67727fd89945b9f69192101ee372c80b"><div class="ttname"><a href="scope__exit_8h.html#a67727fd89945b9f69192101ee372c80b">SCOPE_EXIT</a></div><div class="ttdeci">#define SCOPE_EXIT(body)</div><div class="ttdoc">This macro allows you to conveniently specify a block of code that will run on scope exit...</div><div class="ttdef"><b>Definition:</b> <a href="scope__exit_8h_source.html#l00044">scope_exit.h:44</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a1378c9d9dd1ae1ac42cd498b96c1fcd4"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4">Service::FS::ArchiveIdCode</a></div><div class="ttdeci">ArchiveIdCode</div><div class="ttdoc">Supported archive types. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8h_source.html#l00034">archive.h:34</a></div></div>
<div class="ttc" id="result_8h_html_a67158ef38e1ab9113151768007433e3aa4a436c564cf21ff91983ab79399fa185"><div class="ttname"><a href="result_8h.html#a67158ef38e1ab9113151768007433e3aa4a436c564cf21ff91983ab79399fa185">ErrorModule::FS</a></div></div>
<div class="ttc" id="process_8h_html"><div class="ttname"><a href="process_8h.html">process.h</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a61fdedccf062db245649ac4a3ad80890"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a61fdedccf062db245649ac4a3ad80890">Service::FS::FS_USER::GetThisSaveDataSecureValue</a></div><div class="ttdeci">void GetThisSaveDataSecureValue(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::GetThisSaveDataSecureValue service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00744">fs_user.cpp:744</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a24e899c7a9a1b5dd782114c874fda8e4"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a24e899c7a9a1b5dd782114c874fda8e4">Service::FS::FS_USER::GetFreeBytes</a></div><div class="ttdeci">void GetFreeBytes(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::GetFreeBytes service function Inputs: 1: Archive handle low word 2: Archive handle high word...</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00416">fs_user.cpp:416</a></div></div>
<div class="ttc" id="class_service_1_1_service_framework_html_a54307718519bef2198366da0a7e69e0e"><div class="ttname"><a href="class_service_1_1_service_framework.html#a54307718519bef2198366da0a7e69e0e">Service::ServiceFramework&lt; FS_USER &gt;::RegisterHandlers</a></div><div class="ttdeci">void RegisterHandlers(const FunctionInfo(&amp;functions)[N])</div><div class="ttdoc">Registers handlers in the service. </div><div class="ttdef"><b>Definition:</b> <a href="service_8h_source.html#l00151">service.h:151</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a36a2e43d04fef490d27c12c590b667ac"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a36a2e43d04fef490d27c12c590b667ac">Service::FS::CloseArchive</a></div><div class="ttdeci">ResultCode CloseArchive(ArchiveHandle handle)</div><div class="ttdoc">Closes an archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00391">archive.cpp:391</a></div></div>
<div class="ttc" id="class_file_sys_1_1_path_html_a1b89e119218ecd9c217988fdf0b97f7a"><div class="ttname"><a href="class_file_sys_1_1_path.html#a1b89e119218ecd9c217988fdf0b97f7a">FileSys::Path::DebugStr</a></div><div class="ttdeci">std::string DebugStr() const</div><div class="ttdoc">Gets the string representation of the path for debugging. </div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8cpp_source.html#l00039">archive_backend.cpp:39</a></div></div>
<div class="ttc" id="namespace_settings_html_a89bad2e81a950120963b3f26c691810a"><div class="ttname"><a href="namespace_settings.html#a89bad2e81a950120963b3f26c691810a">Settings::values</a></div><div class="ttdeci">Values values</div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00015">settings.cpp:15</a></div></div>
<div class="ttc" id="common__types_8h_html_a65cf28726f89e62ccf2f1354bc2716df"><div class="ttname"><a href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a></div><div class="ttdeci">std::uint32_t u32</div><div class="ttdoc">32-bit unsigned word </div><div class="ttdef"><b>Definition:</b> <a href="common__types_8h_source.html#l00037">common_types.h:37</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a689196f6a5265b5f2cf1f19ca960bfed"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a689196f6a5265b5f2cf1f19ca960bfed">Service::FS::FS_USER::FormatSaveData</a></div><div class="ttdeci">void FormatSaveData(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::FormatSaveData service function, formats the SaveData specified by the input path...</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00352">fs_user.cpp:352</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_ac692557b88323072bad1057613413986"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#ac692557b88323072bad1057613413986">Service::FS::FS_USER::DeleteDirectoryRecursively</a></div><div class="ttdeci">void DeleteDirectoryRecursively(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00189">fs_user.cpp:189</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a659b449d3d1249cfb4a6a4c56a1882a5"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a659b449d3d1249cfb4a6a4c56a1882a5">Service::FS::CreateDirectoryFromArchive</a></div><div class="ttdeci">ResultCode CreateDirectoryFromArchive(ArchiveHandle archive_handle, const FileSys::Path &amp;path)</div><div class="ttdoc">Create a Directory from an Archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00479">archive.cpp:479</a></div></div>
<div class="ttc" id="namespace_file_sys_html_a5fc2b497ff56fd5503498231c6350fa0"><div class="ttname"><a href="namespace_file_sys.html#a5fc2b497ff56fd5503498231c6350fa0">FileSys::ERROR_INVALID_PATH</a></div><div class="ttdeci">constexpr ResultCode ERROR_INVALID_PATH(ErrCodes::InvalidPath, ErrorModule::FS, ErrorSummary::InvalidArgument, ErrorLevel::Usage)</div></div>
<div class="ttc" id="namespace_file_sys_html_a762cc398f7d4fa6388dc4cee86de2c1f"><div class="ttname"><a href="namespace_file_sys.html#a762cc398f7d4fa6388dc4cee86de2c1f">FileSys::LowPathType</a></div><div class="ttdeci">LowPathType</div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00022">archive_backend.h:22</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a2c3ae1396bef1b8f61790833f48b4b6a"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2c3ae1396bef1b8f61790833f48b4b6a">Service::FS::FS_USER::SetSaveDataSecureValue</a></div><div class="ttdeci">void SetSaveDataSecureValue(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::SetSaveDataSecureValue service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00703">fs_user.cpp:703</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_aa2651f86139bdab36114c8c47ab0354f"><div class="ttname"><a href="namespace_service_1_1_f_s.html#aa2651f86139bdab36114c8c47ab0354f">Service::FS::CreateFileInArchive</a></div><div class="ttdeci">ResultCode CreateFileInArchive(ArchiveHandle archive_handle, const FileSys::Path &amp;path, u64 file_size)</div><div class="ttdoc">Create a File in an Archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00470">archive.cpp:470</a></div></div>
<div class="ttc" id="namespace_file_sys_1_1_err_codes_html_a65ec2769c54bb76350789c90a5cdf977aa0b9ebfc63304edfd9ce9514be647666"><div class="ttname"><a href="namespace_file_sys_1_1_err_codes.html#a65ec2769c54bb76350789c90a5cdf977aa0b9ebfc63304edfd9ce9514be647666">FileSys::ErrCodes::ArchiveNotMounted</a></div><div class="ttdef"><b>Definition:</b> <a href="file__sys_2errors_8h_source.html#l00014">errors.h:14</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a7064eee83aa339d58dc687a1e2995c01"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7064eee83aa339d58dc687a1e2995c01">Service::FS::FS_USER::GetSaveDataSecureValue</a></div><div class="ttdeci">void GetSaveDataSecureValue(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::GetSaveDataSecureValue service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00722">fs_user.cpp:722</a></div></div>
<div class="ttc" id="settings_8h_html"><div class="ttname"><a href="settings_8h.html">settings.h</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a7acf9c5710efdaed614c7ab36c03ed90"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7acf9c5710efdaed614c7ab36c03ed90">Service::FS::FS_USER::SetPriority</a></div><div class="ttdeci">void SetPriority(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::SetPriority service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00550">fs_user.cpp:550</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a4c33135759b55e513e8a14d45156f048"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a4c33135759b55e513e8a14d45156f048">Service::FS::FS_USER::CreateSystemSaveData</a></div><div class="ttdeci">void CreateSystemSaveData(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::CreateSystemSaveData service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00494">fs_user.cpp:494</a></div></div>
<div class="ttc" id="class_file_sys_1_1_path_html"><div class="ttname"><a href="class_file_sys_1_1_path.html">FileSys::Path</a></div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00037">archive_backend.h:37</a></div></div>
<div class="ttc" id="log_8h_html_ae1a301a080359216e118c7936bbdbfd9"><div class="ttname"><a href="log_8h.html#ae1a301a080359216e118c7936bbdbfd9">LOG_INFO</a></div><div class="ttdeci">#define LOG_INFO(log_class,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00130">log.h:130</a></div></div>
<div class="ttc" id="namespace_kernel_html_a468effefd7385726635010b18e69a625"><div class="ttname"><a href="namespace_kernel.html#a468effefd7385726635010b18e69a625">Kernel::GetCurrentThread</a></div><div class="ttdeci">Thread * GetCurrentThread()</div><div class="ttdoc">Gets the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8cpp_source.html#l00066">thread.cpp:66</a></div></div>
<div class="ttc" id="result_8h_html_aa3b9056eb03ec4e7c3561192eb830739aec53a8c4f07baed5d8825072c89799be"><div class="ttname"><a href="result_8h.html#aa3b9056eb03ec4e7c3561192eb830739aec53a8c4f07baed5d8825072c89799be">ErrorLevel::Status</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a79fcd9539707e421950383f7bb5b5317"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a79fcd9539707e421950383f7bb5b5317">Service::FS::FS_USER::DeleteSystemSaveData</a></div><div class="ttdeci">void DeleteSystemSaveData(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::DeleteSystemSaveData service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00485">fs_user.cpp:485</a></div></div>
<div class="ttc" id="namespace_file_sys_html_abb4faaef007544f85b69e70707a559bb"><div class="ttname"><a href="namespace_file_sys.html#abb4faaef007544f85b69e70707a559bb">FileSys::ArchiveFormatInfo::duplicate_data</a></div><div class="ttdeci">u8 duplicate_data</div><div class="ttdoc">Whether the archive should duplicate the data. </div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00070">archive_backend.h:70</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a6e17a5e06b7a578d7a3264965bc58411"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a6e17a5e06b7a578d7a3264965bc58411">Service::FS::FS_USER::FormatThisUserSaveData</a></div><div class="ttdeci">void FormatThisUserSaveData(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::FormatThisUserSaveData service function Inputs: 0 : 0x080F0180 1 : Size in Blocks (1 block =...</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00395">fs_user.cpp:395</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a2edcd542973714392d27d80123ddc367"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2edcd542973714392d27d80123ddc367">Service::FS::FS_USER::FS_USER</a></div><div class="ttdeci">FS_USER()</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00761">fs_user.cpp:761</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a2ada2bc8772a4f7079cbdc14422fa4d9"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2ada2bc8772a4f7079cbdc14422fa4d9">Service::FS::FS_USER::IsSdmcWriteable</a></div><div class="ttdeci">void IsSdmcWriteable(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::IsSdmcWriteable service function Outputs: 1 : Result of function, 0 on success, otherwise error code 2 : Whether the Sdmc is currently writeable. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00343">fs_user.cpp:343</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a61ee50209a92f4ce2e79c35d378a7578"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a61ee50209a92f4ce2e79c35d378a7578">Service::FS::DeleteExtSaveData</a></div><div class="ttdeci">ResultCode DeleteExtSaveData(MediaType media_type, u32 high, u32 low)</div><div class="ttdoc">Deletes the SharedExtSaveData archive for the specified extdata ID. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00569">archive.cpp:569</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a2353a523c022eb1369fa7fc7ce7f1b5f"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a2353a523c022eb1369fa7fc7ce7f1b5f">Service::FS::FS_USER::ObsoletedDeleteExtSaveData</a></div><div class="ttdeci">void ObsoletedDeleteExtSaveData(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::Obsoleted_3_0_DeleteExtSaveData service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00680">fs_user.cpp:680</a></div></div>
<div class="ttc" id="union_result_code_html"><div class="ttname"><a href="union_result_code.html">ResultCode</a></div><div class="ttdoc">Encapsulates a CTR-OS error code, allowing it to be separated into its constituent fields...</div><div class="ttdef"><b>Definition:</b> <a href="result_8h_source.html#l00195">result.h:195</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_adb0252d0b1b42f8cb83daafb5ad621da"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#adb0252d0b1b42f8cb83daafb5ad621da">Service::FS::FS_USER::CreateDirectory</a></div><div class="ttdeci">void CreateDirectory(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00229">fs_user.cpp:229</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a0ec492a28dd60fc9d80f9558ad49a17d"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a0ec492a28dd60fc9d80f9558ad49a17d">Service::FS::FS_USER::GetFormatInfo</a></div><div class="ttdeci">void GetFormatInfo(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::GetFormatInfo service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00589">fs_user.cpp:589</a></div></div>
<div class="ttc" id="ipc_8h_html"><div class="ttname"><a href="ipc_8h.html">ipc.h</a></div></div>
<div class="ttc" id="class_result_val_html_a24f06dd810790371949513b7c52bcbd5"><div class="ttname"><a href="class_result_val.html#a24f06dd810790371949513b7c52bcbd5">ResultVal::Succeeded</a></div><div class="ttdeci">bool Succeeded() const</div><div class="ttdoc">Returns true if the ResultVal contains a return value. </div><div class="ttdef"><b>Definition:</b> <a href="result_8h_source.html#l00359">result.h:359</a></div></div>
<div class="ttc" id="class_i_p_c_1_1_response_builder_html"><div class="ttname"><a href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="ipc__helpers_8h_source.html#l00046">ipc_helpers.h:46</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_ac00084e4d5ced6fd4c50197edab6c96c"><div class="ttname"><a href="namespace_service_1_1_f_s.html#ac00084e4d5ced6fd4c50197edab6c96c">Service::FS::DeleteDirectoryRecursivelyFromArchive</a></div><div class="ttdeci">ResultCode DeleteDirectoryRecursivelyFromArchive(ArchiveHandle archive_handle, const FileSys::Path &amp;path)</div><div class="ttdoc">Delete a Directory and anything under it from an Archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00461">archive.cpp:461</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_ac84db48d4725f1572955c9146ecde4cb"><div class="ttname"><a href="namespace_service_1_1_f_s.html#ac84db48d4725f1572955c9146ecde4cb">Service::FS::InstallInterfaces</a></div><div class="ttdeci">void InstallInterfaces(SM::ServiceManager &amp;service_manager)</div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00879">fs_user.cpp:879</a></div></div>
<div class="ttc" id="client__session_8h_html"><div class="ttname"><a href="client__session_8h.html">client_session.h</a></div></div>
<div class="ttc" id="assert_8h_html_a9f920d5e0c0e8780d4ce9bfb15bfd9e2"><div class="ttname"><a href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a></div><div class="ttdeci">#define ASSERT(_a_)</div><div class="ttdef"><b>Definition:</b> <a href="assert_8h_source.html#l00030">assert.h:30</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_aa11a720fd25c2133ece9592244835863"><div class="ttname"><a href="namespace_service_1_1_f_s.html#aa11a720fd25c2133ece9592244835863">Service::FS::OpenFileFromArchive</a></div><div class="ttdeci">ResultVal&lt; std::shared_ptr&lt; File &gt; &gt; OpenFileFromArchive(ArchiveHandle archive_handle, const FileSys::Path &amp;path, const FileSys::Mode mode)</div><div class="ttdoc">Open a File from an Archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00413">archive.cpp:413</a></div></div>
<div class="ttc" id="log_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a76d14eaaf9dccfc85279a94d5ac8ee5c"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a76d14eaaf9dccfc85279a94d5ac8ee5c">Service::FS::FS_USER::GetArchiveResource</a></div><div class="ttdeci">void GetArchiveResource(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::GetArchiveResource service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00575">fs_user.cpp:575</a></div></div>
<div class="ttc" id="class_service_1_1_service_framework_base_html_a9fdd978f4c7c9ecbeaa3dbc9dc7a7c2f"><div class="ttname"><a href="class_service_1_1_service_framework_base.html#a9fdd978f4c7c9ecbeaa3dbc9dc7a7c2f">Service::ServiceFrameworkBase::InstallAsService</a></div><div class="ttdeci">void InstallAsService(SM::ServiceManager &amp;service_manager)</div><div class="ttdoc">Creates a port pair and registers this service with the given ServiceManager. </div><div class="ttdef"><b>Definition:</b> <a href="service_8cpp_source.html#l00139">service.cpp:139</a></div></div>
<div class="ttc" id="class_kernel_1_1_server_session_html"><div class="ttname"><a href="class_kernel_1_1_server_session.html">Kernel::ServerSession</a></div><div class="ttdoc">Kernel object representing the server endpoint of an IPC session. </div><div class="ttdef"><b>Definition:</b> <a href="server__session_8h_source.html#l00037">server_session.h:37</a></div></div>
<div class="ttc" id="server__session_8h_html"><div class="ttname"><a href="server__session_8h.html">server_session.h</a></div></div>
<div class="ttc" id="namespace_file_sys_html_a791bdff5e4617be1ca033d319a674f25"><div class="ttname"><a href="namespace_file_sys.html#a791bdff5e4617be1ca033d319a674f25">FileSys::ArchiveFormatInfo::number_directories</a></div><div class="ttdeci">u32_le number_directories</div><div class="ttdoc">The pre-defined number of directories in the archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00068">archive_backend.h:68</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a381b836dd563e15cfae8611bf2e3bf3f"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a381b836dd563e15cfae8611bf2e3bf3f">Service::FS::FS_USER::CreateLegacySystemSaveData</a></div><div class="ttdeci">void CreateLegacySystemSaveData(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::CreateLegacySystemSaveData service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00517">fs_user.cpp:517</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_aeeefbc7f826e571319cb35be0b877571"><div class="ttname"><a href="namespace_service_1_1_f_s.html#aeeefbc7f826e571319cb35be0b877571">Service::FS::GetArchiveFormatInfo</a></div><div class="ttdeci">ResultVal&lt; FileSys::ArchiveFormatInfo &gt; GetArchiveFormatInfo(ArchiveIdCode id_code, FileSys::Path &amp;archive_path)</div><div class="ttdoc">Retrieves the format info about the archive of the specified type and path. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00535">archive.cpp:535</a></div></div>
<div class="ttc" id="class_service_1_1_f_s_1_1_f_s___u_s_e_r_html_a7f554d1e7faabe1e5fd398d70b94c1ee"><div class="ttname"><a href="class_service_1_1_f_s_1_1_f_s___u_s_e_r.html#a7f554d1e7faabe1e5fd398d70b94c1ee">Service::FS::FS_USER::CardSlotIsInserted</a></div><div class="ttdeci">void CardSlotIsInserted(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">FS_User::CardSlotIsInserted service function. </div><div class="ttdef"><b>Definition:</b> <a href="fs__user_8cpp_source.html#l00477">fs_user.cpp:477</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_aa542303872e9045245bd889e203626a4"><div class="ttname"><a href="namespace_service_1_1_f_s.html#aa542303872e9045245bd889e203626a4">Service::FS::DeleteSystemSaveData</a></div><div class="ttdeci">ResultCode DeleteSystemSaveData(u32 high, u32 low)</div><div class="ttdoc">Deletes the SystemSaveData archive folder for the specified save data id. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00595">archive.cpp:595</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html"><div class="ttname"><a href="namespace_service_1_1_f_s.html">Service::FS</a></div><div class="ttdef"><b>Definition:</b> <a href="archive__ncch_8h_source.html#l00016">archive_ncch.h:16</a></div></div>
<div class="ttc" id="class_result_val_html_a27e58a273946089f7f58f1eba1d73b99"><div class="ttname"><a href="class_result_val.html#a27e58a273946089f7f58f1eba1d73b99">ResultVal::Code</a></div><div class="ttdeci">ResultCode Code() const</div><div class="ttdef"><b>Definition:</b> <a href="result_8h_source.html#l00367">result.h:367</a></div></div>
<div class="ttc" id="result_8h_html_a1d3c3229b2c38b6fe717b434732c5b86a38c300f4fc9ce8a77aad4a30de05cad8"><div class="ttname"><a href="result_8h.html#a1d3c3229b2c38b6fe717b434732c5b86a38c300f4fc9ce8a77aad4a30de05cad8">ErrorSummary::NotFound</a></div><div class="ttdoc">A file or resource was not found. </div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_ad0974a1dfe0794d9a8a3cb5a67eca54.html">hle</a></li><li class="navelem"><a class="el" href="dir_d6865e650edf42fac86a46d438d89922.html">service</a></li><li class="navelem"><a class="el" href="dir_00164ba16b74bd124edeaa10b849ef79.html">fs</a></li><li class="navelem"><a class="el" href="fs__user_8cpp.html">fs_user.cpp</a></li>
    <li class="footer">Generated on Thu Sep 13 2018 12:49:44 for Citra by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
