<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Citra: src/core/hle/service/apt/apt.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="doc-icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Citra
   </div>
   <div id="projectbrief">Nintendo 3DS emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('apt_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">apt.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="apt_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2015 Citra Emulator Project</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Licensed under GPLv2 or any later version</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Refer to the license.txt file included.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hle_8h.html">audio_core/hle/hle.h</a>&quot;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common__paths_8h.html">common/common_paths.h</a>&quot;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="file__util_8h.html">common/file_util.h</a>&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log_8h.html">common/logging/log.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="core_8h.html">core/core.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="file__backend_8h.html">core/file_sys/file_backend.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="applet_8h.html">core/hle/applets/applet.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="config__mem_8h.html">core/hle/config_mem.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mutex_8h.html">core/hle/kernel/mutex.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="core_2hle_2kernel_2shared__memory_8h.html">core/hle/kernel/shared_memory.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="romfs_8h.html">core/hle/romfs.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="applet__manager_8h.html">core/hle/service/apt/applet_manager.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="apt_8h.html">core/hle/service/apt/apt.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="apt__a_8h.html">core/hle/service/apt/apt_a.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="apt__s_8h.html">core/hle/service/apt/apt_s.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="apt__u_8h.html">core/hle/service/apt/apt_u.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bcfnt_8h.html">core/hle/service/apt/bcfnt/bcfnt.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cfg_8h.html">core/hle/service/cfg/cfg.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ptm_8h.html">core/hle/service/ptm/ptm.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="service_8h.html">core/hle/service/service.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ccm_8h.html">core/hw/aes/ccm.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="key_8h.html">core/hw/aes/key.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="settings_8h.html">core/settings.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_service_1_1_a_p_t.html">Service::APT</a> {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a6d6892e24fb0993e595ebc4c713f07e2">   31</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a6d6892e24fb0993e595ebc4c713f07e2">Module::Interface::Initialize</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x2, 2, 0}; <span class="comment">// 0x20080</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> app_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> attributes{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called app_id={:#010X}, attributes={:#010X}&quot;</span>, static_cast&lt;u32&gt;(app_id),</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;              attributes);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keyword">auto</span> result{<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;Initialize(app_id, attributes)};</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">if</span> (result.Failed()) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(result.Code());</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keyword">auto</span> events{std::move(result).Unwrap()};</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 3)};</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        rb.PushCopyObjects(events.notification_event, events.parameter_event);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="namespace_service_1_1_a_p_t.html#a6b23e809e0934ee3dd7ad23e47345bcf">   51</a></span>&#160;<span class="keyword">static</span> <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> <a class="code" href="namespace_service_1_1_a_p_t.html#a6b23e809e0934ee3dd7ad23e47345bcf">DecompressLZ11</a>(<span class="keyword">const</span> <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a>* in, <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a>* out) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="swap_8h.html#a18c802bf0535e2e152cf277c504c8bb4">u32_le</a> decompressed_size;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    memcpy(&amp;decompressed_size, in, <span class="keyword">sizeof</span>(<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>));</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    in += 4;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> type = decompressed_size &amp; 0xFF;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(type == 0x11);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    decompressed_size &gt;&gt;= 8;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> current_out_size{};</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> flags{}, mask = 1;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">while</span> (current_out_size &lt; decompressed_size) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">if</span> (mask == 1) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            flags = *(in++);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            mask = 0x80;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            mask &gt;&gt;= 1;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">if</span> (flags &amp; mask) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> byte1 = *(in++);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> length = byte1 &gt;&gt; 4;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> offset;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keywordflow">if</span> (length == 0) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> byte2 = *(in++);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> byte3 = *(in++);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                length = (((byte1 &amp; 0x0F) &lt;&lt; 4) | (byte2 &gt;&gt; 4)) + 0x11;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                offset = (((byte2 &amp; 0x0F) &lt;&lt; 8) | byte3) + 0x1;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (length == 1) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> byte2 = *(in++);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> byte3 = *(in++);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> byte4 = *(in++);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                length = (((byte1 &amp; 0x0F) &lt;&lt; 12) | (byte2 &lt;&lt; 4) | (byte3 &gt;&gt; 4)) + 0x111;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                offset = (((byte3 &amp; 0x0F) &lt;&lt; 8) | byte4) + 0x1;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> byte2 = *(in++);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                length = (byte1 &gt;&gt; 4) + 0x1;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                offset = (((byte1 &amp; 0x0F) &lt;&lt; 8) | byte2) + 0x1;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> i{}; i &lt; length; i++) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                *out = *(out - offset);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                ++out;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            }</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            current_out_size += length;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            *(out++) = *(in++);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            current_out_size++;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">return</span> decompressed_size;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module.html#a1aabe837560c2e27490033d39e45faec">  105</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module.html#a1aabe837560c2e27490033d39e45faec">Module::LoadSharedFont</a>() {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a> font_region_code;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespace_service_1_1_c_f_g.html#a94fd039fb950e782046556d18a0a3c93">CFG::GetCurrentModule</a>()-&gt;GetRegionValue()) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">case</span> 4: <span class="comment">// CHN</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        font_region_code = 2;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">case</span> 5: <span class="comment">// KOR</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        font_region_code = 3;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">case</span> 6: <span class="comment">// TWN</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        font_region_code = 4;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">default</span>: <span class="comment">// JPN/EUR/USA</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        font_region_code = 1;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keyword">const</span> <a class="code" href="swap_8h.html#abf7b8e3ea2c9ac3d5a192a0c5b382dc3">u64_le</a> shared_font_archive_id_low{</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="swap_8h.html#abf7b8e3ea2c9ac3d5a192a0c5b382dc3">u64_le</a><span class="keyword">&gt;</span>(0x0004009b00014002 | ((font_region_code - 1) &lt;&lt; 8))};</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keyword">const</span> <a class="code" href="swap_8h.html#abf7b8e3ea2c9ac3d5a192a0c5b382dc3">u64_le</a> shared_font_archive_id_high{0x00000001ffffff00};</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    std::vector&lt;u8&gt; shared_font_archive_id(16);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    std::memcpy(&amp;shared_font_archive_id[0], &amp;shared_font_archive_id_low, <span class="keyword">sizeof</span>(<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>));</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    std::memcpy(&amp;shared_font_archive_id[8], &amp;shared_font_archive_id_high, <span class="keyword">sizeof</span>(<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>));</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> archive_path{shared_font_archive_id};</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">auto</span> archive_result = <a class="code" href="namespace_service_1_1_f_s.html#a84c9413b4585001e5f40a473639565f6">Service::FS::OpenArchive</a>(<a class="code" href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4afa803dbe2351b9471f36bd60e2fab7ff">Service::FS::ArchiveIdCode::NCCH</a>, archive_path);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (archive_result.Failed())</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    std::vector&lt;u8&gt; romfs_path(20, 0); <span class="comment">// 20-byte all zero path for opening RomFS</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="class_file_sys_1_1_path.html">FileSys::Path</a> file_path{romfs_path};</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="namespace_file_sys.html#union_file_sys_1_1_mode">FileSys::Mode</a> open_mode = {};</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    open_mode.<a class="code" href="namespace_file_sys.html#aa599b608f4bf03ff02cd50d8c1bd1170">read_flag</a>.<a class="code" href="struct_bit_field.html#ab6412f15d449624109b3bf599c08d0f2">Assign</a>(1);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keyword">auto</span> file_result{<a class="code" href="namespace_service_1_1_f_s.html#aa11a720fd25c2133ece9592244835863">Service::FS::OpenFileFromArchive</a>(*archive_result, file_path, open_mode)};</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> (file_result.Failed())</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">auto</span> romfs{std::move(file_result).Unwrap()};</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    std::vector&lt;u8&gt; romfs_buffer(romfs-&gt;backend-&gt;GetSize());</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    romfs-&gt;backend-&gt;Read(0, romfs_buffer.size(), romfs_buffer.data());</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    romfs-&gt;backend-&gt;Close();</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">const</span> char16_t* file_name[4] = {u<span class="stringliteral">&quot;cbf_std.bcfnt.lz&quot;</span>, u<span class="stringliteral">&quot;cbf_zh-Hans-CN.bcfnt.lz&quot;</span>,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                    u<span class="stringliteral">&quot;cbf_ko-Hang-KR.bcfnt.lz&quot;</span>, u<span class="stringliteral">&quot;cbf_zh-Hant-TW.bcfnt.lz&quot;</span>};</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">const</span> <a class="code" href="class_rom_f_s_1_1_rom_f_s_file.html">RomFS::RomFSFile</a> font_file{</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="namespace_rom_f_s.html#a5ab75fda798d2db42dfb961e2e911606">RomFS::GetFile</a>(romfs_buffer.data(), {file_name[font_region_code - 1]})};</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (font_file.Data() == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keyword">struct </span>{</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="swap_8h.html#a18c802bf0535e2e152cf277c504c8bb4">u32_le</a> status;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="swap_8h.html#a18c802bf0535e2e152cf277c504c8bb4">u32_le</a> region;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="swap_8h.html#a18c802bf0535e2e152cf277c504c8bb4">u32_le</a> decompressed_size;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="common__funcs_8h.html#a82192f8b221d925b4d8218dc5516afcd">INSERT_PADDING_WORDS</a>(0x1D);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    } shared_font_header{};</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    static_assert(<span class="keyword">sizeof</span>(shared_font_header) == 0x80, <span class="stringliteral">&quot;shared_font_header has incorrect size&quot;</span>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    shared_font_header.status = 2; <span class="comment">// successfully loaded</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    shared_font_header.region = font_region_code;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    shared_font_header.decompressed_size =</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="namespace_service_1_1_a_p_t.html#a6b23e809e0934ee3dd7ad23e47345bcf">DecompressLZ11</a>(font_file.Data(), <a class="code" href="class_service_1_1_a_p_t_1_1_module.html#a8f70c277ac7f89c47e6ad9945e2bb72b">shared_font_mem</a>-&gt;GetPointer(0x80));</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    std::memcpy(<a class="code" href="class_service_1_1_a_p_t_1_1_module.html#a8f70c277ac7f89c47e6ad9945e2bb72b">shared_font_mem</a>-&gt;GetPointer(), &amp;shared_font_header, <span class="keyword">sizeof</span>(shared_font_header));</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    *<a class="code" href="class_service_1_1_a_p_t_1_1_module.html#a8f70c277ac7f89c47e6ad9945e2bb72b">shared_font_mem</a>-&gt;GetPointer(0x83) = <span class="charliteral">&#39;U&#39;</span>; <span class="comment">// Change the magic from &quot;CFNT&quot; to &quot;CFNU&quot;</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a528279444afddc6be18cb906f2cdb26a">  171</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a528279444afddc6be18cb906f2cdb26a">Module::Interface::GetSharedFont</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x44, 0, 0}; <span class="comment">// 0x00440000</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 2)};</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;shared_font_loaded) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(-1); <span class="comment">// TODO: Find the right error code</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(0);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        rb.PushCopyObjects&lt;<a class="code" href="class_kernel_1_1_object.html">Kernel::Object</a>&gt;(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// The shared font has to be relocated to the new address before being passed to the</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// application.</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a> target_address{</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="namespace_memory.html#a88837424a73e2a44e7c602ac296f2856">Memory::PhysicalToVirtualAddress</a>(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;shared_font_mem-&gt;linear_heap_phys_address).value()};</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;shared_font_relocated) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="namespace_service_1_1_a_p_t_1_1_b_c_f_n_t.html#aac56cc2ced331245f912e4bbfec68e12">BCFNT::RelocateSharedFont</a>(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;shared_font_mem, target_address);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;shared_font_relocated = <span class="keyword">true</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    rb.Push(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// Since the SharedMemory interface doesn&#39;t provide the address at which the memory was</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// allocated, the real APT service calculates this address by scanning the entire address space</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// (using svcQueryMemory) and searches for an allocation of the same size as the Shared Font.</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    rb.Push(target_address);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    rb.PushCopyObjects(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;shared_font_mem);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad20d16f7534a542369f52d19412222e9">  199</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad20d16f7534a542369f52d19412222e9">Module::Interface::NotifyToWait</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x43, 1, 0}; <span class="comment">// 0x430040</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> app_id{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, app_id={}&quot;</span>, app_id);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a859a469ee9a90921b1169af40823d636">  207</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a859a469ee9a90921b1169af40823d636">Module::Interface::GetLockHandle</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x1, 1, 0}; <span class="comment">// 0x10040</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// Bits [0:2] are the applet type (System, Library, etc)</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// Bit 5 tells the application that there&#39;s a pending APT parameter,</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">// this will cause the app to wait until parameter_event is signaled.</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> applet_attributes{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(3, 2)};</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// TODO(Subv): The output attributes should have an AppletPos of either Library or System |</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// Library (depending on the type of the last launched applet) if the input attributes&#39;</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// AppletPos has the Library bit set.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    rb.Push(applet_attributes); <span class="comment">// Applet Attributes, this value is passed to Enable.</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(0);            <span class="comment">// Least significant bit = power button state</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    rb.PushCopyObjects(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;lock);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, applet_attributes={:#010X}&quot;</span>, applet_attributes);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a475357483529988d0843e08956848e6e">  228</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a475357483529988d0843e08956848e6e">Module::Interface::Enable</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x3, 1, 0}; <span class="comment">// 0x30040</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> attributes{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, attributes={:#010X}&quot;</span>, attributes);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;Enable(attributes));</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a223b53a0f9243ae9cf279e60d364ab5d">  238</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a223b53a0f9243ae9cf279e60d364ab5d">Module::Interface::GetAppletManInfo</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x5, 1, 0}; <span class="comment">// 0x50040</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> unk{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(5, 0)};</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(0);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(0);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    rb.Push(static_cast&lt;u32&gt;(<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ababa4d0f31525743baf19cc551f2685c9a">AppletId::HomeMenu</a>));    <span class="comment">// Home menu AppID</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    rb.Push(static_cast&lt;u32&gt;(<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13abae498749f3c42246d50b15c81c101d988">AppletId::Application</a>)); <span class="comment">// TODO(purpasmart96): Do this correctly</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, unk={:#010X}&quot;</span>, unk);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aaabc58f78ca828284617223bdc8ab543">  251</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aaabc58f78ca828284617223bdc8ab543">Module::Interface::IsRegistered</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x9, 1, 0}; <span class="comment">// 0x90040</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> app_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    rb.Push(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;IsRegistered(app_id));</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, app_id={:#010X}&quot;</span>, static_cast&lt;u32&gt;(app_id));</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aafddeabdad84a2a8bb3a780f32296ea5">  261</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aafddeabdad84a2a8bb3a780f32296ea5">Module::Interface::InquireNotification</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0xB, 1, 0}; <span class="comment">// 0xB0040</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> app_id{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);                     <span class="comment">// No error</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    rb.Push(static_cast&lt;u32&gt;(<a class="code" href="namespace_service_1_1_a_p_t.html#a12cb14af8f4e8daa19e993f42fd902cfa6adf97f83acf6453d4a6a4b1070f3754">SignalType::None</a>)); <span class="comment">// Signal type</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, app_id={:#010X}&quot;</span>, app_id);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a799fabac3fb68e00dbdf92864a6b07b1">  270</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a799fabac3fb68e00dbdf92864a6b07b1">Module::Interface::SendParameter</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0xC, 4, 4}; <span class="comment">// 0xC0104</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> src_app_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> dst_app_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a12cb14af8f4e8daa19e993f42fd902cf">SignalType</a> signal_type{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a12cb14af8f4e8daa19e993f42fd902cf">SignalType</a>&gt;()};</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> buffer_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="namespace_kernel.html#afc9bde79933dd23864df0768adeb6cfe">Kernel::SharedPtr&lt;Kernel::Object&gt;</a> <span class="keywordtype">object</span>{rp.PopGenericObject()};</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    std::vector&lt;u8&gt; buffer{rp.PopStaticBuffer()};</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;              <span class="stringliteral">&quot;called, src_app_id={:#010X}, dst_app_id={:#010X}, signal_type={:#010X},&quot;</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;              <span class="stringliteral">&quot;buffer_size={:#010X}&quot;</span>,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;              static_cast&lt;u32&gt;(src_app_id), static_cast&lt;u32&gt;(dst_app_id),</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;              static_cast&lt;u32&gt;(signal_type), buffer_size);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#struct_service_1_1_a_p_t_1_1_message_parameter">MessageParameter</a> param;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    param.<a class="code" href="namespace_service_1_1_a_p_t.html#a2675c9f4dd5f37a3f585ba125da36554">destination_id</a> = dst_app_id;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    param.<a class="code" href="namespace_service_1_1_a_p_t.html#ac01ee2b6f141f9e9e21a757bc5f4287b">sender_id</a> = src_app_id;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    param.<a class="code" href="namespace_service_1_1_a_p_t.html#a8d87212e33e51c589eb0ff248134bece">object</a> = std::move(<span class="keywordtype">object</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    param.<a class="code" href="namespace_service_1_1_a_p_t.html#a733658fba6e94fbd8d5e2c3238b656ef">signal</a> = signal_type;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    param.<a class="code" href="namespace_service_1_1_a_p_t.html#accd10405fd5c10eb4e35721779a9dfb4">buffer</a> = std::move(buffer);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    rb.Push(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;SendParameter(param));</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a34f2429260df734395e830c17239f616">  297</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a34f2429260df734395e830c17239f616">Module::Interface::ReceiveParameter</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0xD, 2, 0}; <span class="comment">// 0xD0080</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> app_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> buffer_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, app_id={:#010X}, buffer_size={:#010X}&quot;</span>,</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;              static_cast&lt;u32&gt;(app_id), buffer_size);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">auto</span> next_parameter{<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;ReceiveParameter(app_id)};</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span> (next_parameter.Failed()) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(next_parameter.Code());</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(4, 4)};</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    rb.PushEnum(next_parameter-&gt;sender_id);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    rb.PushEnum(next_parameter-&gt;signal); <span class="comment">// Signal type</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="assert_8h.html#a4b432fb3d47e2ca732caf965691a54d7">ASSERT_MSG</a>(next_parameter-&gt;buffer.size() &lt;= buffer_size, <span class="stringliteral">&quot;Input static buffer is too small!&quot;</span>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    rb.Push(static_cast&lt;u32&gt;(next_parameter-&gt;buffer.size())); <span class="comment">// Parameter buffer size</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    rb.PushMoveObjects(next_parameter-&gt;object);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    next_parameter-&gt;buffer.resize(buffer_size, 0); <span class="comment">// APT always push a buffer with the maximum size</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    rb.PushStaticBuffer(next_parameter-&gt;buffer, 0);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ab096dd896461bf57f57fa7e9732c1f8a">  325</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ab096dd896461bf57f57fa7e9732c1f8a">Module::Interface::GlanceParameter</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0xE, 2, 0}; <span class="comment">// 0xE0080</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> app_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> buffer_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, app_id={:#010X}, buffer_size={:#010X}&quot;</span>,</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;              static_cast&lt;u32&gt;(app_id), buffer_size);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keyword">auto</span> next_parameter = <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;GlanceParameter(app_id);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (next_parameter.Failed()) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(next_parameter.Code());</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(4, 4)};</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    rb.PushEnum(next_parameter-&gt;sender_id);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    rb.PushEnum(next_parameter-&gt;signal); <span class="comment">// Signal type</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="assert_8h.html#a4b432fb3d47e2ca732caf965691a54d7">ASSERT_MSG</a>(next_parameter-&gt;buffer.size() &lt;= buffer_size, <span class="stringliteral">&quot;Input static buffer is too small!&quot;</span>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    rb.Push(static_cast&lt;u32&gt;(next_parameter-&gt;buffer.size())); <span class="comment">// Parameter buffer size</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    rb.PushMoveObjects(next_parameter-&gt;object);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    next_parameter-&gt;buffer.resize(buffer_size, 0); <span class="comment">// APT always push a buffer with the maximum size</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    rb.PushStaticBuffer(next_parameter-&gt;buffer, 0);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#af28b57c37e6d6bf5c0885685ff1e8013">  352</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#af28b57c37e6d6bf5c0885685ff1e8013">Module::Interface::CancelParameter</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0xF, 4, 0}; <span class="comment">// 0xF0100</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">bool</span> check_sender{rp.Pop&lt;<span class="keywordtype">bool</span>&gt;()};</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> sender_appid{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordtype">bool</span> check_receiver{rp.Pop&lt;<span class="keywordtype">bool</span>&gt;()};</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> receiver_appid{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    rb.Push(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;CancelParameter(check_sender, sender_appid, check_receiver,</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                                 receiver_appid));</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT,</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;              <span class="stringliteral">&quot;called, check_sender={}, sender_appid={:#010X}, &quot;</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;              <span class="stringliteral">&quot;check_receiver={}, receiver_appid={:#010X}&quot;</span>,</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;              check_sender, static_cast&lt;u32&gt;(sender_appid), check_receiver,</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;              static_cast&lt;u32&gt;(receiver_appid));</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a40fd17c6b376108a7cac7bda352c0b0b">  373</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a40fd17c6b376108a7cac7bda352c0b0b">Module::Interface::PrepareToStartApplication</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x15, 5, 0}; <span class="comment">// 0x00150140</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> title_info1{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> title_info2{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> title_info3{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> title_info4{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> flags{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">if</span> (flags &amp; 0x00000100) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;unknown_ns_state_field = 1;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        Service_APT,</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="stringliteral">&quot;(STUBBED) called, title_info1={:#010X}, title_info2={:#010X}, title_info3={:#010X},&quot;</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="stringliteral">&quot;title_info4={:#010X}, flags={:#010X}&quot;</span>,</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        title_info1, title_info2, title_info3, title_info4, flags);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a96a537a4c006372b86fc226dea24f118">  395</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a96a537a4c006372b86fc226dea24f118">Module::Interface::StartApplication</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x1B, 3, 4}; <span class="comment">// 0x001B00C4</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> buffer1_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> buffer2_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> flag{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    std::vector&lt;u8&gt; buffer1{rp.PopStaticBuffer()};</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    std::vector&lt;u8&gt; buffer2{rp.PopStaticBuffer()};</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT,</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="stringliteral">&quot;(STUBBED) called, buffer1_size={:#010X}, buffer2_size={:#010X}, flag={:#010X}&quot;</span>,</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                buffer1_size, buffer2_size, flag);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ae3e3c3af527c7ff9fa5a6c3cc649d2dc">  411</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ae3e3c3af527c7ff9fa5a6c3cc649d2dc">Module::Interface::AppletUtility</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x4B, 3, 2}; <span class="comment">// 0x004B00C2</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// These are from 3dbrew - I&#39;m not really sure what they&#39;re used for.</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> utility_command{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> input_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> output_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    std::vector&lt;u8&gt; input{rp.PopStaticBuffer()};</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT,</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                <span class="stringliteral">&quot;(STUBBED) called, command={:#010X}, input_size={:#010X}, output_size={:#010X}&quot;</span>,</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                utility_command, input_size, output_size);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a316d4c64ed78730c6f78ee70ec82cef5">  428</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a316d4c64ed78730c6f78ee70ec82cef5">Module::Interface::SetAppCpuTimeLimit</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x4F, 2, 0}; <span class="comment">// 0x4F0080</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> value{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;cpu_percent = rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> (value != 1) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_APT, <span class="stringliteral">&quot;This value should be one, but is actually {}!&quot;</span>, value);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, cpu_percent={}, value={}&quot;</span>, <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;cpu_percent, value);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aad1854e49d65135f5d0ebb02de996eb9">  443</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aad1854e49d65135f5d0ebb02de996eb9">Module::Interface::GetAppCpuTimeLimit</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x50, 1, 0}; <span class="comment">// 0x500040</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> value{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span> (value != 1) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_APT, <span class="stringliteral">&quot;This value should be one, but is actually {}!&quot;</span>, value);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    rb.Push(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;cpu_percent);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, value={}&quot;</span>, value);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a0f0783e8bf9f0680223a42668b582fed">  458</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a0f0783e8bf9f0680223a42668b582fed">Module::Interface::PrepareToStartLibraryApplet</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x18, 1, 0}; <span class="comment">// 0x180040</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> applet_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, applet_id={:08X}&quot;</span>, static_cast&lt;u32&gt;(applet_id));</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;PrepareToStartLibraryApplet(applet_id));</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad1eeb7d6fb6ac150d2b5dd50834386a1">  468</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad1eeb7d6fb6ac150d2b5dd50834386a1">Module::Interface::PrepareToStartNewestHomeMenu</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x1A, 0, 0}; <span class="comment">// 0x1A0000</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">// TODO(Subv): This command can only be called by a System Applet (return 0xC8A0CC04 otherwise).</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// This command must return an error when called, otherwise the Home Menu will try to reboot the</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// system.</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="union_result_code.html">ResultCode</a>(<a class="code" href="result_8h.html#afe30fc4506a4cf2ee780b2319dbec74da89b69484680b18e9179e826c6e023805">ErrorDescription::AlreadyExists</a>, <a class="code" href="result_8h.html#a67158ef38e1ab9113151768007433e3aa6fb493973e2df983d5b6cb710cd35242">ErrorModule::Applet</a>,</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                       <a class="code" href="result_8h.html#a1d3c3229b2c38b6fe717b434732c5b86aedf260198e4d75d1cb3c7588f7380120">ErrorSummary::InvalidState</a>, <a class="code" href="result_8h.html#aa3b9056eb03ec4e7c3561192eb830739aec53a8c4f07baed5d8825072c89799be">ErrorLevel::Status</a>));</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called&quot;</span>);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a7ed8ee25d27f9b5809315e212fdfcda8">  482</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a7ed8ee25d27f9b5809315e212fdfcda8">Module::Interface::PreloadLibraryApplet</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x16, 1, 0}; <span class="comment">// 0x160040</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> applet_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, applet_id={:08X}&quot;</span>, static_cast&lt;u32&gt;(applet_id));</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;PreloadLibraryApplet(applet_id));</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3c4c9cf6cbe468b708ab1660819af4a3">  492</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3c4c9cf6cbe468b708ab1660819af4a3">Module::Interface::FinishPreloadingLibraryApplet</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x17, 1, 0}; <span class="comment">// 0x00170040</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> applet_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;FinishPreloadingLibraryApplet(applet_id));</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, applet_id={:#05X}&quot;</span>, static_cast&lt;u32&gt;(applet_id));</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a66d417c3e2a6db9b56f9d3ece91ae7bc">  502</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a66d417c3e2a6db9b56f9d3ece91ae7bc">Module::Interface::StartLibraryApplet</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x1E, 2, 4}; <span class="comment">// 0x1E0084</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> applet_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    std::size_t buffer_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="namespace_kernel.html#afc9bde79933dd23864df0768adeb6cfe">Kernel::SharedPtr&lt;Kernel::Object&gt;</a> <span class="keywordtype">object</span>{rp.PopGenericObject()};</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    std::vector&lt;u8&gt; buffer{rp.PopStaticBuffer()};</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, applet_id={:08X}&quot;</span>, static_cast&lt;u32&gt;(applet_id));</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;StartLibraryApplet(applet_id, <span class="keywordtype">object</span>, buffer));</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ab3c646a7a34aa3325002ecf0e1a7dd4a">  516</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ab3c646a7a34aa3325002ecf0e1a7dd4a">Module::Interface::CloseApplication</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x27, 1, 4};</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> parameters_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="namespace_kernel.html#afc9bde79933dd23864df0768adeb6cfe">Kernel::SharedPtr&lt;Kernel::Object&gt;</a> <span class="keywordtype">object</span>{rp.PopGenericObject()};</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    std::vector&lt;u8&gt; buffer{rp.PopStaticBuffer()};</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called&quot;</span>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="class_core_1_1_system.html#ab2f9ff357787ec877567d8c4ffe2a2d4">Core::System::GetInstance</a>().<a class="code" href="class_core_1_1_system.html#aec8e4c8ef58ca0126b49db9b508597e8">RequestShutdown</a>();</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad9514e4152dce68d84d95c42fdab3f5b">  530</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad9514e4152dce68d84d95c42fdab3f5b">Module::Interface::PrepareToDoApplicationJump</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x31, 4, 0};</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> flags{rp.Pop&lt;<a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a>&gt;()};</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a4e1a79651b470cfc2289f7cf14319e6b">jump_tid</a> = rp.Pop&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;();</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3926e3374edbee299c736e85bb93ad58">jump_media</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">FS::MediaType</a><span class="keyword">&gt;</span>(rp.Pop&lt;<a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a>&gt;());</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#abb24bf30128d0f166a7dfb668c52d866">application_reset</a> = flags == 0x2;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aa5b03c6e47e5c021b9ebca3274cb5717">  541</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aa5b03c6e47e5c021b9ebca3274cb5717">Module::Interface::DoApplicationJump</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x32, 2, 4};</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> parameter_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> hmac_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    std::vector&lt;u8&gt; parameter{rp.PopStaticBuffer()};</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    std::vector&lt;u8&gt; hmac{rp.PopStaticBuffer()};</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#abb24bf30128d0f166a7dfb668c52d866">application_reset</a>) {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="comment">// Reset system</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <a class="code" href="class_core_1_1_system.html#ab2f9ff357787ec877567d8c4ffe2a2d4">Core::System::GetInstance</a>().<a class="code" href="class_core_1_1_system.html#a6fa69d56674f1534ed20b3996c1b9329">RequestJump</a>(0, <a class="code" href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464a3be5b8730412d64c809e4d73ce34649f">FS::MediaType::NAND</a>);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="class_core_1_1_system.html#ab2f9ff357787ec877567d8c4ffe2a2d4">Core::System::GetInstance</a>().<a class="code" href="class_core_1_1_system.html#a6fa69d56674f1534ed20b3996c1b9329">RequestJump</a>(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a4e1a79651b470cfc2289f7cf14319e6b">jump_tid</a>, <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3926e3374edbee299c736e85bb93ad58">jump_media</a>);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;}</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ab7fefe7074246c269017dcf337effaef">  559</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ab7fefe7074246c269017dcf337effaef">Module::Interface::CancelLibraryApplet</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x3B, 1, 0}; <span class="comment">// 0x003B0040</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordtype">bool</span> exiting{rp.Pop&lt;<span class="keywordtype">bool</span>&gt;()};</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(1); <span class="comment">// TODO: Find the return code meaning</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, exiting={}&quot;</span>, exiting);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a11f45dfea3943cd42254edcd2ddbf6c0">  569</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a11f45dfea3943cd42254edcd2ddbf6c0">Module::Interface::PrepareToCloseLibraryApplet</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x25, 3, 0}; <span class="comment">// 0x002500C0</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordtype">bool</span> not_pause{rp.Pop&lt;<span class="keywordtype">bool</span>&gt;()};</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordtype">bool</span> exiting{rp.Pop&lt;<span class="keywordtype">bool</span>&gt;()};</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordtype">bool</span> jump_to_home{rp.Pop&lt;<span class="keywordtype">bool</span>&gt;()};</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, not_pause={}, exiting={}, jump_to_home={}&quot;</span>, not_pause, exiting,</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;              jump_to_home);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;PrepareToCloseLibraryApplet(not_pause, exiting, jump_to_home));</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3bf05ebb8122e53ff37339db06d0a626">  582</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3bf05ebb8122e53ff37339db06d0a626">Module::Interface::CloseLibraryApplet</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x28, 1, 4}; <span class="comment">// 0x00280044</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> parameter_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keyword">auto</span> <span class="keywordtype">object</span>{rp.PopGenericObject()};</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    std::vector&lt;u8&gt; buffer{rp.PopStaticBuffer()};</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, size={}&quot;</span>, parameter_size);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;CloseLibraryApplet(std::move(<span class="keywordtype">object</span>), std::move(buffer)));</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a2a87aece41311deec0159cdd2c582883">  594</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a2a87aece41311deec0159cdd2c582883">Module::Interface::SendDspSleep</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x3C, 1, 2}; <span class="comment">// 0x003C0042</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> unknown{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> zero{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> handle{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    std::vector&lt;u8&gt; buffer(4);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    buffer[0] = 3;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="namespace_core.html#a63c1dcb2bcddd5872efa5bfa31fb2676">Core::DSP</a>().<a class="code" href="class_audio_core_1_1_dsp_hle.html#aeca49bcf163864088f88294d966c30e4">PipeWrite</a>(<a class="code" href="namespace_audio_core.html#a07ca5e8c2e2a998f9be3da35cc8dbb7cab22f0418e8ac915eb66f829d262d14a2">AudioCore::DspPipe::Audio</a>, buffer);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a2927045b3c116fd57b1d27d5a6ffea6b">  606</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a2927045b3c116fd57b1d27d5a6ffea6b">Module::Interface::SendDspWakeUp</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x3D, 1, 2}; <span class="comment">// 0x003D0042</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> unknown{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> zero{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> handle{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    std::vector&lt;u8&gt; buffer(4);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    buffer[0] = 2;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="namespace_core.html#a63c1dcb2bcddd5872efa5bfa31fb2676">Core::DSP</a>().<a class="code" href="class_audio_core_1_1_dsp_hle.html#aeca49bcf163864088f88294d966c30e4">PipeWrite</a>(<a class="code" href="namespace_audio_core.html#a07ca5e8c2e2a998f9be3da35cc8dbb7cab22f0418e8ac915eb66f829d262d14a2">AudioCore::DspPipe::Audio</a>, buffer);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aaa9a52a443a581701c8f2199913d13f4">  618</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aaa9a52a443a581701c8f2199913d13f4">Module::Interface::SendCaptureBufferInfo</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x40, 1, 2}; <span class="comment">// 0x00400042</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(size == 0x20);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;screen_capture_buffer = rp.PopStaticBuffer();</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a7b4696855c2d3a7d7d1cfd9425ccb8a3">  628</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a7b4696855c2d3a7d7d1cfd9425ccb8a3">Module::Interface::ReceiveCaptureBufferInfo</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x41, 1, 0}; <span class="comment">// 0x00410040</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(size == 0x20);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 2)};</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    rb.Push(static_cast&lt;u32&gt;(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;screen_capture_buffer.size()));</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    rb.PushStaticBuffer(std::move(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;screen_capture_buffer), 0);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3cb7c428b8e1c40e3e7e0cf1f67e3b88">  639</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3cb7c428b8e1c40e3e7e0cf1f67e3b88">Module::Interface::SleepSystem</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x42, 2, 0}; <span class="comment">// 0x00420080</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a> time{rp.Pop&lt;<a class="code" href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a>&gt;()};</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    std::this_thread::sleep_for(std::chrono::nanoseconds{time});</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad10de44b0f424339bf309f423396795d">  648</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad10de44b0f424339bf309f423396795d">Module::Interface::SetScreenCapPostPermission</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x55, 1, 0}; <span class="comment">// 0x00550040</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;screen_capture_post_permission = <span class="keyword">static_cast&lt;</span><a class="code" href="namespace_service_1_1_a_p_t.html#a820195e2bcaa56446f025871c2985a72">ScreencapPostPermission</a><span class="keyword">&gt;</span>(rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;() &amp; 0xF);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, screen_capture_post_permission={}&quot;</span>,</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                static_cast&lt;u32&gt;(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;screen_capture_post_permission));</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#afbb134e5733abc3e2a1a71d5ac6e55ff">  659</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#afbb134e5733abc3e2a1a71d5ac6e55ff">Module::Interface::GetScreenCapPostPermission</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x56, 0, 0}; <span class="comment">// 0x00560000</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>); <span class="comment">// No error</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    rb.Push(static_cast&lt;u32&gt;(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;screen_capture_post_permission));</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, screen_capture_post_permission={}&quot;</span>,</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                static_cast&lt;u32&gt;(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;screen_capture_post_permission));</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a03cd4c6a606d5354030983c4116f5a9f">  669</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a03cd4c6a606d5354030983c4116f5a9f">Module::Interface::GetAppletInfo</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x6, 1, 0}; <span class="comment">// 0x60040</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keyword">auto</span> app_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, app_id={}&quot;</span>, static_cast&lt;u32&gt;(app_id));</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keyword">auto</span> info = <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;applet_manager-&gt;GetAppletInfo(app_id);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (info.Failed()) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(info.Code());</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(7, 0)};</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        rb.Push(info-&gt;title_id);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        rb.Push(static_cast&lt;u8&gt;(info-&gt;media_type));</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        rb.Push(info-&gt;registered);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        rb.Push(info-&gt;loaded);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        rb.Push(info-&gt;attributes);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;}</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a840f384fbece6db7cb1fd9c82c740ced">  690</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a840f384fbece6db7cb1fd9c82c740ced">Module::Interface::GetStartupArgument</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x51, 2, 0}; <span class="comment">// 0x00510080</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> parameter_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a031ca2a4cd14d0a73bb6b3e121352c7f">StartupArgumentType</a> startup_argument_type = <span class="keyword">static_cast&lt;</span><a class="code" href="namespace_service_1_1_a_p_t.html#a031ca2a4cd14d0a73bb6b3e121352c7f">StartupArgumentType</a><span class="keyword">&gt;</span>(rp.Pop&lt;<a class="code" href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a>&gt;());</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keyword">const</span> <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> max_parameter_size{0x1000};</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (parameter_size &gt; max_parameter_size) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_APT,</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                  <span class="stringliteral">&quot;Parameter size is outside the valid range (capped to {:#010X}): &quot;</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                  <span class="stringliteral">&quot;parameter_size={:#010X}&quot;</span>,</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                  max_parameter_size, parameter_size);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        parameter_size = max_parameter_size;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    std::vector&lt;u8&gt; parameter(parameter_size, 0);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called, startup_argument_type={}, parameter_size={:#010X}&quot;</span>,</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                static_cast&lt;u32&gt;(startup_argument_type), parameter_size);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 2)};</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(0);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    rb.PushStaticBuffer(parameter, 0);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a69d9135bb1aece00e244f324b63cafaf">  716</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a69d9135bb1aece00e244f324b63cafaf">Module::Interface::Wrap</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x46, 4, 4};</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keyword">const</span> <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> output_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keyword">const</span> <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> input_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keyword">const</span> <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> nonce_offset{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> nonce_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keyword">auto</span>&amp; input{rp.PopMappedBuffer()};</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(input.GetSize() == input_size);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keyword">auto</span>&amp; output{rp.PopMappedBuffer()};</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(output.GetSize() == output_size);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// Note: real 3DS still returns SUCCESS when the sizes don&#39;t match. It seems that it doesn&#39;t</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// check the buffer size and writes data with potential overflow.</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="assert_8h.html#a4b432fb3d47e2ca732caf965691a54d7">ASSERT_MSG</a>(output_size == input_size + <a class="code" href="namespace_h_w_1_1_a_e_s.html#a163f6908039677892b222cd4e79bbbde">HW::AES::CCM_MAC_SIZE</a>,</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;               <span class="stringliteral">&quot;input_size ({}) doesn&#39;t match to output_size ({})&quot;</span>, input_size, output_size);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, output_size={}, input_size={}, nonce_offset={}, nonce_size={}&quot;</span>,</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;              output_size, input_size, nonce_offset, nonce_size);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="comment">// Note: This weird nonce size modification is verified against real 3DS</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    nonce_size = std::min&lt;u32&gt;(nonce_size &amp; ~3, <a class="code" href="namespace_h_w_1_1_a_e_s.html#a2f7bd3ce0f5970b1e0abcda0b5148cfd">HW::AES::CCM_NONCE_SIZE</a>);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// Reads nonce and concatenates the rest of the input as plaintext</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="namespace_h_w_1_1_a_e_s.html#a7587147fc431c8a16e7714f365e5f696">HW::AES::CCMNonce</a> nonce{};</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    input.Read(nonce.data(), nonce_offset, nonce_size);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> pdata_size = input_size - nonce_size;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    std::vector&lt;u8&gt; pdata(pdata_size);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    input.Read(pdata.data(), 0, nonce_offset);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    input.Read(pdata.data() + nonce_offset, nonce_offset + nonce_size, pdata_size - nonce_offset);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// Encrypts the plaintext using AES-CCM</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keyword">auto</span> cipher = <a class="code" href="namespace_h_w_1_1_a_e_s.html#a5a5bc8e2157a466ca10539d71e3acffd">HW::AES::EncryptSignCCM</a>(pdata, nonce, <a class="code" href="namespace_h_w_1_1_a_e_s.html#a4e476449537d24abf32a44cce96ac325a13eb7b218140dd3f5e6b65a827bfbb62">HW::AES::KeySlotID::APTWrap</a>);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// Puts the nonce to the beginning of the output, with ciphertext followed</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    output.Write(nonce.data(), 0, nonce_size);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    output.Write(cipher.data(), nonce_size, cipher.size());</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 4)};</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">// Unmap buffer</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    rb.PushMappedBuffer(input);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    rb.PushMappedBuffer(output);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#adeeb860957401173ba027f32bd0b7a99">  761</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#adeeb860957401173ba027f32bd0b7a99">Module::Interface::Unwrap</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x47, 4, 4};</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keyword">const</span> <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> output_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keyword">const</span> <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> input_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keyword">const</span> <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> nonce_offset{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> nonce_size{rp.Pop&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;()};</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keyword">auto</span>&amp; input{rp.PopMappedBuffer()};</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(input.GetSize() == input_size);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keyword">auto</span>&amp; output{rp.PopMappedBuffer()};</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <a class="code" href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a>(output.GetSize() == output_size);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// Note: real 3DS still returns SUCCESS when the sizes don&#39;t match. It seems that it doesn&#39;t</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="comment">// check the buffer size and writes data with potential overflow.</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="assert_8h.html#a4b432fb3d47e2ca732caf965691a54d7">ASSERT_MSG</a>(output_size == input_size - <a class="code" href="namespace_h_w_1_1_a_e_s.html#a163f6908039677892b222cd4e79bbbde">HW::AES::CCM_MAC_SIZE</a>,</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;               <span class="stringliteral">&quot;input_size ({}) doesn&#39;t match to output_size ({})&quot;</span>, input_size, output_size);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a>(Service_APT, <span class="stringliteral">&quot;called, output_size={}, input_size={}, nonce_offset={}, nonce_size={}&quot;</span>,</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;              output_size, input_size, nonce_offset, nonce_size);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="comment">// Note: This weird nonce size modification is verified against real 3DS</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    nonce_size = std::min&lt;u32&gt;(nonce_size &amp; ~3, <a class="code" href="namespace_h_w_1_1_a_e_s.html#a2f7bd3ce0f5970b1e0abcda0b5148cfd">HW::AES::CCM_NONCE_SIZE</a>);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// Reads nonce and cipher text</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="namespace_h_w_1_1_a_e_s.html#a7587147fc431c8a16e7714f365e5f696">HW::AES::CCMNonce</a> nonce{};</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    input.Read(nonce.data(), 0, nonce_size);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> cipher_size = input_size - nonce_size;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    std::vector&lt;u8&gt; cipher(cipher_size);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    input.Read(cipher.data(), nonce_size, cipher_size);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// Decrypts the ciphertext using AES-CCM</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keyword">auto</span> pdata = <a class="code" href="namespace_h_w_1_1_a_e_s.html#ada96351c9f6a67298048a0a3e2afb2e4">HW::AES::DecryptVerifyCCM</a>(cipher, nonce, <a class="code" href="namespace_h_w_1_1_a_e_s.html#a4e476449537d24abf32a44cce96ac325a13eb7b218140dd3f5e6b65a827bfbb62">HW::AES::KeySlotID::APTWrap</a>);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 4)};</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span> (!pdata.empty()) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="comment">// Splits the plaintext and put the nonce in between</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        output.Write(pdata.data(), 0, nonce_offset);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        output.Write(nonce.data(), nonce_offset, nonce_size);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        output.Write(pdata.data() + nonce_offset, nonce_offset + nonce_size,</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                     pdata.size() - nonce_offset);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_APT, <span class="stringliteral">&quot;Failed to decrypt data&quot;</span>);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        rb.Push(<a class="code" href="union_result_code.html">ResultCode</a>(static_cast&lt;ErrorDescription&gt;(1), <a class="code" href="result_8h.html#a67158ef38e1ab9113151768007433e3aad3d4c5deb455ac79dd5ff47c88bd65d9">ErrorModule::PS</a>,</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                           <a class="code" href="result_8h.html#a1d3c3229b2c38b6fe717b434732c5b86a5a738160747f39c20e9f65416931c974">ErrorSummary::WrongArgument</a>, <a class="code" href="result_8h.html#aa3b9056eb03ec4e7c3561192eb830739aec53a8c4f07baed5d8825072c89799be">ErrorLevel::Status</a>));</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// Unmap buffer</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    rb.PushMappedBuffer(input);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    rb.PushMappedBuffer(output);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;}</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a2abfd13e8698f8b5fba7e40698a36e56">  812</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a2abfd13e8698f8b5fba7e40698a36e56">Module::Interface::CheckNew3DSApp</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x101, 0, 0}; <span class="comment">// 0x01010000</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>-&gt;unknown_ns_state_field) {</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;(0);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="namespace_service_1_1_p_t_m.html#a83e54d3aa1acde530e5092497c1be107">PTM::CheckNew3DS</a>(rb);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    }</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called&quot;</span>);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;}</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a21a89295eb126c19172c13bfee87b2a4">  826</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a21a89295eb126c19172c13bfee87b2a4">Module::Interface::CheckNew3DS</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x102, 0, 0}; <span class="comment">// 0x01020000</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="namespace_service_1_1_p_t_m.html#a83e54d3aa1acde530e5092497c1be107">PTM::CheckNew3DS</a>(rb);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called&quot;</span>);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;}</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3656d23da52d81a74f96b13999bab58e">  835</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3656d23da52d81a74f96b13999bab58e">Module::Interface::IsStandardMemoryLayout</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x104, 0, 0}; <span class="comment">// 0x01040000</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(2, 0)};</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespace_service_1_1_c_f_g.html#a3380af7e1863ed66e8b005e6ab634a4e">CFG::IsNewModeEnabled</a>())</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;((<a class="code" href="namespace_config_mem.html#a1b4fc70ab99d0fb3252aa52729fb8e56">ConfigMem::config_mem</a>.<a class="code" href="struct_config_mem_1_1_config_mem_def.html#a1b3734b2dea820cd8438b00090231ce1">app_mem_type</a> != 7) ? 1 : 0);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        rb.Push&lt;<a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a>&gt;((<a class="code" href="namespace_config_mem.html#a1b4fc70ab99d0fb3252aa52729fb8e56">ConfigMem::config_mem</a>.<a class="code" href="struct_config_mem_1_1_config_mem_def.html#a1b3734b2dea820cd8438b00090231ce1">app_mem_type</a> == 0) ? 1 : 0);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#adf9088d681ab0284fc41431fcdd4beea">  846</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#adf9088d681ab0284fc41431fcdd4beea">Module::Interface::ReplySleepQuery</a>(<a class="code" href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a>&amp; ctx) {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <a class="code" href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a> rp{ctx, 0x3E, 2, 0}; <span class="comment">// 0x003E0080</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a> app_id{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">AppletId</a>&gt;()};</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="namespace_service_1_1_a_p_t.html#a57ac4e7febb8a1195a42cae344594cf5">QueryReply</a> query_reply{rp.PopEnum&lt;<a class="code" href="namespace_service_1_1_a_p_t.html#a57ac4e7febb8a1195a42cae344594cf5">QueryReply</a>&gt;()};</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a> rb{rp.MakeBuilder(1, 0)};</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    rb.<a class="code" href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">Push</a>(<a class="code" href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a>);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a>(Service_APT, <span class="stringliteral">&quot;(STUBBED) called&quot;</span>);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;}</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a15cb32893a61d595a0a8475b56e352de">  856</a></span>&#160;<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a15cb32893a61d595a0a8475b56e352de">Module::Interface::Interface</a>(std::shared_ptr&lt;Module&gt; <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <a class="code" href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a> max_session)</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    : <a class="code" href="class_service_1_1_service_framework.html">ServiceFramework</a>(name, max_session), apt(<a class="code" href="namespacestd.html">std</a>::move(apt)) {}</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ae254eb4a63cac05cdc46bc4be7106922">Module::Interface::~Interface</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module.html#a1c618120b4d1edd62748b163cdf702a9">  861</a></span>&#160;<a class="code" href="class_service_1_1_a_p_t_1_1_module.html#a1c618120b4d1edd62748b163cdf702a9">Module::Module</a>() {</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="class_service_1_1_a_p_t_1_1_module.html#a65bd04de231f7459dfdb878054fbeaac">applet_manager</a> = std::make_shared&lt;AppletManager&gt;();</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keyword">using</span> <a class="code" href="namespace_kernel.html#afd9fba00e9fd67c405341e97199eac13">Kernel::MemoryPermission</a>;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="class_service_1_1_a_p_t_1_1_module.html#a8f70c277ac7f89c47e6ad9945e2bb72b">shared_font_mem</a> =</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <a class="code" href="class_kernel_1_1_shared_memory.html#a3ba8523240f2cba2984b57dfe8ebdec0">Kernel::SharedMemory::Create</a>(<span class="keyword">nullptr</span>, 0x332000, <span class="comment">// 3272 KB</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                                     MemoryPermission::ReadWrite, <a class="code" href="cheats_8cpp.html#a59acdb50667f503c1d2ffbae9319d39c">MemoryPermission::Read</a>, 0,</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                                     <a class="code" href="namespace_kernel.html#aee28364411c4e2f2ce57323277907440afa177138f94a7ea01f549b1aa7893d03">Kernel::MemoryRegion::SYSTEM</a>, <span class="stringliteral">&quot;APT:SharedFont&quot;</span>);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="class_service_1_1_a_p_t_1_1_module.html#ab0e84d0ba580b56e88758aee3040d918">lock</a> = <a class="code" href="class_kernel_1_1_mutex.html#ab2fac45968168b7c825950a12861d177">Kernel::Mutex::Create</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;APT_U:Lock&quot;</span>);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_service_1_1_a_p_t_1_1_module.html#a1aabe837560c2e27490033d39e45faec">LoadSharedFont</a>()) {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <a class="code" href="class_service_1_1_a_p_t_1_1_module.html#a14bb87878bf75d5c074fb096feb48091">shared_font_loaded</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <a class="code" href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a>(Service_APT, <span class="stringliteral">&quot;shared font file missing - go dump it from your 3ds&quot;</span>);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;}</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="class_service_1_1_a_p_t_1_1_module.html#a888008286e0f16d0441a97fbea2e3184">  879</a></span>&#160;<a class="code" href="class_service_1_1_a_p_t_1_1_module.html#a888008286e0f16d0441a97fbea2e3184">Module::~Module</a>() {}</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno"><a class="line" href="namespace_service_1_1_a_p_t.html#ac546b92a0e591b9655a220c5cc6374ed">  881</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespace_service_1_1_a_p_t.html#ac546b92a0e591b9655a220c5cc6374ed">InstallInterfaces</a>(<a class="code" href="class_service_1_1_s_m_1_1_service_manager.html">SM::ServiceManager</a>&amp; service_manager) {</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keyword">auto</span> <a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>{std::make_shared&lt;Module&gt;()};</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    std::make_shared&lt;APT_U&gt;(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>)-&gt;<a class="code" href="class_service_1_1_service_framework_base.html#a9fdd978f4c7c9ecbeaa3dbc9dc7a7c2f">InstallAsService</a>(service_manager);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    std::make_shared&lt;APT_S&gt;(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>)-&gt;<a class="code" href="class_service_1_1_service_framework_base.html#a9fdd978f4c7c9ecbeaa3dbc9dc7a7c2f">InstallAsService</a>(service_manager);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    std::make_shared&lt;APT_A&gt;(<a class="code" href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">apt</a>)-&gt;<a class="code" href="class_service_1_1_service_framework_base.html#a9fdd978f4c7c9ecbeaa3dbc9dc7a7c2f">InstallAsService</a>(service_manager);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;} <span class="comment">// namespace Service::APT</span></div><div class="ttc" id="result_8h_html_ac66ebacde94a19df5a65f34e8238cf79"><div class="ttname"><a href="result_8h.html#ac66ebacde94a19df5a65f34e8238cf79">RESULT_SUCCESS</a></div><div class="ttdeci">constexpr ResultCode RESULT_SUCCESS(0)</div><div class="ttdoc">The default success ResultCode. </div></div>
<div class="ttc" id="swap_8h_html_abf7b8e3ea2c9ac3d5a192a0c5b382dc3"><div class="ttname"><a href="swap_8h.html#abf7b8e3ea2c9ac3d5a192a0c5b382dc3">u64_le</a></div><div class="ttdeci">u64 u64_le</div><div class="ttdef"><b>Definition:</b> <a href="swap_8h_source.html#l00611">swap.h:611</a></div></div>
<div class="ttc" id="namespace_service_1_1_p_t_m_html_a83e54d3aa1acde530e5092497c1be107"><div class="ttname"><a href="namespace_service_1_1_p_t_m.html#a83e54d3aa1acde530e5092497c1be107">Service::PTM::CheckNew3DS</a></div><div class="ttdeci">void CheckNew3DS(IPC::ResponseBuilder &amp;rb)</div><div class="ttdef"><b>Definition:</b> <a href="ptm_8cpp_source.html#l00114">ptm.cpp:114</a></div></div>
<div class="ttc" id="namespace_kernel_html_afd9fba00e9fd67c405341e97199eac13"><div class="ttname"><a href="namespace_kernel.html#afd9fba00e9fd67c405341e97199eac13">Kernel::MemoryPermission</a></div><div class="ttdeci">MemoryPermission</div><div class="ttdoc">Permissions for mapped shared memory blocks. </div><div class="ttdef"><b>Definition:</b> <a href="core_2hle_2kernel_2shared__memory_8h_source.html#l00016">shared_memory.h:16</a></div></div>
<div class="ttc" id="namespace_service_1_1_c_f_g_html_a3380af7e1863ed66e8b005e6ab634a4e"><div class="ttname"><a href="namespace_service_1_1_c_f_g.html#a3380af7e1863ed66e8b005e6ab634a4e">Service::CFG::IsNewModeEnabled</a></div><div class="ttdeci">bool IsNewModeEnabled()</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8cpp_source.html#l00753">cfg.cpp:753</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_1_1_b_c_f_n_t_html_aac56cc2ced331245f912e4bbfec68e12"><div class="ttname"><a href="namespace_service_1_1_a_p_t_1_1_b_c_f_n_t.html#aac56cc2ced331245f912e4bbfec68e12">Service::APT::BCFNT::RelocateSharedFont</a></div><div class="ttdeci">void RelocateSharedFont(Kernel::SharedPtr&lt; Kernel::SharedMemory &gt; shared_font, VAddr new_address)</div><div class="ttdoc">Relocates the internal addresses of the BCFNT Shared Font to the new base. </div><div class="ttdef"><b>Definition:</b> <a href="bcfnt_8cpp_source.html#l00010">bcfnt.cpp:10</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a7b4696855c2d3a7d7d1cfd9425ccb8a3"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a7b4696855c2d3a7d7d1cfd9425ccb8a3">Service::APT::Module::Interface::ReceiveCaptureBufferInfo</a></div><div class="ttdeci">void ReceiveCaptureBufferInfo(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::ReceiveCaptureBufferInfo service function Inputs: 1 : Size 64 : Size &lt;&lt; 14 | 2 65 : void*...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00628">apt.cpp:628</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_html_a8f70c277ac7f89c47e6ad9945e2bb72b"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module.html#a8f70c277ac7f89c47e6ad9945e2bb72b">Service::APT::Module::shared_font_mem</a></div><div class="ttdeci">Kernel::SharedPtr&lt; Kernel::SharedMemory &gt; shared_font_mem</div><div class="ttdoc">Handle to shared memory region designated to for shared system font. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00605">apt.h:605</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a528279444afddc6be18cb906f2cdb26a"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a528279444afddc6be18cb906f2cdb26a">Service::APT::Module::Interface::GetSharedFont</a></div><div class="ttdeci">void GetSharedFont(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::GetSharedFont service function Outputs: 1 : Result of function, 0 on success, otherwise error code 2 : Virtual address of where shared font will be loaded in memory 4 : Handle to shared font memory. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00171">apt.cpp:171</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a12cb14af8f4e8daa19e993f42fd902cf"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a12cb14af8f4e8daa19e993f42fd902cf">Service::APT::SignalType</a></div><div class="ttdeci">SignalType</div><div class="ttdoc">Signals used by APT functions. </div><div class="ttdef"><b>Definition:</b> <a href="applet__manager_8h_source.html#l00017">applet_manager.h:17</a></div></div>
<div class="ttc" id="apt__s_8h_html"><div class="ttname"><a href="apt__s_8h.html">apt_s.h</a></div></div>
<div class="ttc" id="namespace_h_w_1_1_a_e_s_html_a163f6908039677892b222cd4e79bbbde"><div class="ttname"><a href="namespace_h_w_1_1_a_e_s.html#a163f6908039677892b222cd4e79bbbde">HW::AES::CCM_MAC_SIZE</a></div><div class="ttdeci">constexpr std::size_t CCM_MAC_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="ccm_8h_source.html#l00015">ccm.h:15</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a2927045b3c116fd57b1d27d5a6ffea6b"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a2927045b3c116fd57b1d27d5a6ffea6b">Service::APT::Module::Interface::SendDspWakeUp</a></div><div class="ttdeci">void SendDspWakeUp(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::SendDspWakeUp service function Inputs: 1 : Unknown 2 : 0x0 3 : Handle Outputs: 1 : Result code...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00606">apt.cpp:606</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a3c4c9cf6cbe468b708ab1660819af4a3"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3c4c9cf6cbe468b708ab1660819af4a3">Service::APT::Module::Interface::FinishPreloadingLibraryApplet</a></div><div class="ttdeci">void FinishPreloadingLibraryApplet(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::FinishPreloadingLibraryApplet service function Inputs: 1 : Id of the applet Outputs: 1 : Result ...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00492">apt.cpp:492</a></div></div>
<div class="ttc" id="class_i_p_c_1_1_response_builder_html_a12d9068ceac4de2e8c19e34ec42ce54e"><div class="ttname"><a href="class_i_p_c_1_1_response_builder.html#a12d9068ceac4de2e8c19e34ec42ce54e">IPC::ResponseBuilder::Push</a></div><div class="ttdeci">void Push(T value)</div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_ab096dd896461bf57f57fa7e9732c1f8a"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ab096dd896461bf57f57fa7e9732c1f8a">Service::APT::Module::Interface::GlanceParameter</a></div><div class="ttdeci">void GlanceParameter(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::GlanceParameter service function. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00325">apt.cpp:325</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_aaa9a52a443a581701c8f2199913d13f4"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aaa9a52a443a581701c8f2199913d13f4">Service::APT::Module::Interface::SendCaptureBufferInfo</a></div><div class="ttdeci">void SendCaptureBufferInfo(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::SendCaptureBufferInfo service function Inputs: 1 : Size 2 : (Size &lt;&lt; 14) | 2 3 : void*...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00618">apt.cpp:618</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a7f952d6dea27a7fce6ac6d17ee9e0464"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464">Service::FS::MediaType</a></div><div class="ttdeci">MediaType</div><div class="ttdoc">Media types for the archives. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8h_source.html#l00048">archive.h:48</a></div></div>
<div class="ttc" id="namespace_config_mem_html_a1b4fc70ab99d0fb3252aa52729fb8e56"><div class="ttname"><a href="namespace_config_mem.html#a1b4fc70ab99d0fb3252aa52729fb8e56">ConfigMem::config_mem</a></div><div class="ttdeci">ConfigMemDef config_mem</div><div class="ttdef"><b>Definition:</b> <a href="config__mem_8cpp_source.html#l00012">config_mem.cpp:12</a></div></div>
<div class="ttc" id="class_i_p_c_1_1_request_parser_html"><div class="ttname"><a href="class_i_p_c_1_1_request_parser.html">IPC::RequestParser</a></div><div class="ttdef"><b>Definition:</b> <a href="ipc__helpers_8h_source.html#l00197">ipc_helpers.h:197</a></div></div>
<div class="ttc" id="log_8h_html_add982f3fbcbb8bfd9e729ab9356efb34"><div class="ttname"><a href="log_8h.html#add982f3fbcbb8bfd9e729ab9356efb34">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(log_class,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00127">log.h:127</a></div></div>
<div class="ttc" id="namespace_h_w_1_1_a_e_s_html_ada96351c9f6a67298048a0a3e2afb2e4"><div class="ttname"><a href="namespace_h_w_1_1_a_e_s.html#ada96351c9f6a67298048a0a3e2afb2e4">HW::AES::DecryptVerifyCCM</a></div><div class="ttdeci">std::vector&lt; u8 &gt; DecryptVerifyCCM(const std::vector&lt; u8 &gt; &amp;cipher, const CCMNonce &amp;nonce, std::size_t slot_id)</div><div class="ttdoc">Decrypts and verify the MAC of the given data using AES-CCM algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="ccm_8cpp_source.html#l00066">ccm.cpp:66</a></div></div>
<div class="ttc" id="cfg_8h_html"><div class="ttname"><a href="cfg_8h.html">cfg.h</a></div></div>
<div class="ttc" id="apt__u_8h_html"><div class="ttname"><a href="apt__u_8h.html">apt_u.h</a></div></div>
<div class="ttc" id="struct_config_mem_1_1_config_mem_def_html_a1b3734b2dea820cd8438b00090231ce1"><div class="ttname"><a href="struct_config_mem_1_1_config_mem_def.html#a1b3734b2dea820cd8438b00090231ce1">ConfigMem::ConfigMemDef::app_mem_type</a></div><div class="ttdeci">u32_le app_mem_type</div><div class="ttdef"><b>Definition:</b> <a href="config__mem_8h_source.html#l00035">config_mem.h:35</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a15cb32893a61d595a0a8475b56e352de"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a15cb32893a61d595a0a8475b56e352de">Service::APT::Module::Interface::Interface</a></div><div class="ttdeci">Interface(std::shared_ptr&lt; Module &gt; apt, const char *name, u32 max_session)</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00856">apt.cpp:856</a></div></div>
<div class="ttc" id="class_kernel_1_1_object_html"><div class="ttname"><a href="class_kernel_1_1_object.html">Kernel::Object</a></div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00047">object.h:47</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_ae3e3c3af527c7ff9fa5a6c3cc649d2dc"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ae3e3c3af527c7ff9fa5a6c3cc649d2dc">Service::APT::Module::Interface::AppletUtility</a></div><div class="ttdeci">void AppletUtility(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::AppletUtility service function Inputs: 1 : Unknown, but clearly used for something 2 : Buffer 1 ...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00411">apt.cpp:411</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a1378c9d9dd1ae1ac42cd498b96c1fcd4afa803dbe2351b9471f36bd60e2fab7ff"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a1378c9d9dd1ae1ac42cd498b96c1fcd4afa803dbe2351b9471f36bd60e2fab7ff">Service::FS::ArchiveIdCode::NCCH</a></div></div>
<div class="ttc" id="cheats_8cpp_html_a59acdb50667f503c1d2ffbae9319d39c"><div class="ttname"><a href="cheats_8cpp.html#a59acdb50667f503c1d2ffbae9319d39c">Read</a></div><div class="ttdeci">T Read(const VAddr addr)</div><div class="ttdef"><b>Definition:</b> <a href="cheats_8cpp_source.html#l00261">cheats.cpp:261</a></div></div>
<div class="ttc" id="common__types_8h_html_a254d32383658e016368673396e7afc1b"><div class="ttname"><a href="common__types_8h.html#a254d32383658e016368673396e7afc1b">u8</a></div><div class="ttdeci">std::uint8_t u8</div><div class="ttdoc">8-bit unsigned byte </div><div class="ttdef"><b>Definition:</b> <a href="common__types_8h_source.html#l00035">common_types.h:35</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a2a87aece41311deec0159cdd2c582883"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a2a87aece41311deec0159cdd2c582883">Service::APT::Module::Interface::SendDspSleep</a></div><div class="ttdeci">void SendDspSleep(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::SendDspSleep service function Inputs: 1 : Unknown 2 : 0x0 3 : Handle Outputs: 1 : Result code...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00594">apt.cpp:594</a></div></div>
<div class="ttc" id="namespace_kernel_html_afc9bde79933dd23864df0768adeb6cfe"><div class="ttname"><a href="namespace_kernel.html#afc9bde79933dd23864df0768adeb6cfe">Kernel::SharedPtr</a></div><div class="ttdeci">boost::intrusive_ptr&lt; T &gt; SharedPtr</div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00093">object.h:93</a></div></div>
<div class="ttc" id="struct_bit_field_html_ab6412f15d449624109b3bf599c08d0f2"><div class="ttname"><a href="struct_bit_field.html#ab6412f15d449624109b3bf599c08d0f2">BitField::Assign</a></div><div class="ttdeci">constexpr FORCE_INLINE void Assign(const T &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="bit__field_8h_source.html#l00173">bit_field.h:173</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_html_ab0e84d0ba580b56e88758aee3040d918"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module.html#ab0e84d0ba580b56e88758aee3040d918">Service::APT::Module::lock</a></div><div class="ttdeci">Kernel::SharedPtr&lt; Kernel::Mutex &gt; lock</div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00609">apt.h:609</a></div></div>
<div class="ttc" id="log_8h_html_a2f872ec42bda0e5baf8783313a28494c"><div class="ttname"><a href="log_8h.html#a2f872ec42bda0e5baf8783313a28494c">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(log_class,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00136">log.h:136</a></div></div>
<div class="ttc" id="result_8h_html_afe30fc4506a4cf2ee780b2319dbec74da89b69484680b18e9179e826c6e023805"><div class="ttname"><a href="result_8h.html#afe30fc4506a4cf2ee780b2319dbec74da89b69484680b18e9179e826c6e023805">ErrorDescription::AlreadyExists</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_html_a14bb87878bf75d5c074fb096feb48091"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module.html#a14bb87878bf75d5c074fb096feb48091">Service::APT::Module::shared_font_loaded</a></div><div class="ttdeci">bool shared_font_loaded</div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00606">apt.h:606</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_adeeb860957401173ba027f32bd0b7a99"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#adeeb860957401173ba027f32bd0b7a99">Service::APT::Module::Interface::Unwrap</a></div><div class="ttdeci">void Unwrap(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::Unwrap service function Inputs: 1 : Output buffer size 2 : Input buffer size 3 : Nonce offset to...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00761">apt.cpp:761</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a25d7afd08fa513cb30b8abb4bddc13ab"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ab">Service::APT::AppletId</a></div><div class="ttdeci">AppletId</div><div class="ttdoc">App Id&amp;#39;s used by APT functions. </div><div class="ttdef"><b>Definition:</b> <a href="applet__manager_8h_source.html#l00039">applet_manager.h:39</a></div></div>
<div class="ttc" id="namespace_memory_html_a88837424a73e2a44e7c602ac296f2856"><div class="ttname"><a href="namespace_memory.html#a88837424a73e2a44e7c602ac296f2856">Memory::PhysicalToVirtualAddress</a></div><div class="ttdeci">boost::optional&lt; VAddr &gt; PhysicalToVirtualAddress(const PAddr addr)</div><div class="ttdoc">Undoes a mapping performed by VirtualToPhysicalAddress(). </div><div class="ttdef"><b>Definition:</b> <a href="memory_8cpp_source.html#l00772">memory.cpp:772</a></div></div>
<div class="ttc" id="core_8h_html"><div class="ttname"><a href="core_8h.html">core.h</a></div></div>
<div class="ttc" id="class_kernel_1_1_mutex_html_ab2fac45968168b7c825950a12861d177"><div class="ttname"><a href="class_kernel_1_1_mutex.html#ab2fac45968168b7c825950a12861d177">Kernel::Mutex::Create</a></div><div class="ttdeci">static SharedPtr&lt; Mutex &gt; Create(bool initial_locked, std::string name=&quot;Unknown&quot;)</div><div class="ttdoc">Creates a mutex. </div><div class="ttdef"><b>Definition:</b> <a href="mutex_8cpp_source.html#l00030">mutex.cpp:30</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="applet_8cpp_source.html#l00023">applet.cpp:23</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a3926e3374edbee299c736e85bb93ad58"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3926e3374edbee299c736e85bb93ad58">Service::APT::Module::Interface::jump_media</a></div><div class="ttdeci">FS::MediaType jump_media</div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00598">apt.h:598</a></div></div>
<div class="ttc" id="namespace_service_1_1_c_f_g_html_a94fd039fb950e782046556d18a0a3c93"><div class="ttname"><a href="namespace_service_1_1_c_f_g.html#a94fd039fb950e782046556d18a0a3c93">Service::CFG::GetCurrentModule</a></div><div class="ttdeci">std::shared_ptr&lt; Module &gt; GetCurrentModule()</div><div class="ttdef"><b>Definition:</b> <a href="cfg_8cpp_source.html#l00119">cfg.cpp:119</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_ad9514e4152dce68d84d95c42fdab3f5b"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad9514e4152dce68d84d95c42fdab3f5b">Service::APT::Module::Interface::PrepareToDoApplicationJump</a></div><div class="ttdeci">void PrepareToDoApplicationJump(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::PrepareToDoApplicationJump service function Inputs: 1 : Flags 2 : Program ID low 3 : Program ID ...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00530">apt.cpp:530</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_ac01ee2b6f141f9e9e21a757bc5f4287b"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#ac01ee2b6f141f9e9e21a757bc5f4287b">Service::APT::MessageParameter::sender_id</a></div><div class="ttdeci">AppletId sender_id</div><div class="ttdef"><b>Definition:</b> <a href="applet__manager_8h_source.html#l00077">applet_manager.h:77</a></div></div>
<div class="ttc" id="ptm_8h_html"><div class="ttname"><a href="ptm_8h.html">ptm.h</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a316d4c64ed78730c6f78ee70ec82cef5"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a316d4c64ed78730c6f78ee70ec82cef5">Service::APT::Module::Interface::SetAppCpuTimeLimit</a></div><div class="ttdeci">void SetAppCpuTimeLimit(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::SetAppCpuTimeLimit service function Inputs: 1 : Value, must be one 2 : Percentage of CPU time fr...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00428">apt.cpp:428</a></div></div>
<div class="ttc" id="namespace_file_sys_html_union_file_sys_1_1_mode"><div class="ttname"><a href="namespace_file_sys.html#union_file_sys_1_1_mode">FileSys::Mode</a></div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00030">archive_backend.h:30</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a66d417c3e2a6db9b56f9d3ece91ae7bc"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a66d417c3e2a6db9b56f9d3ece91ae7bc">Service::APT::Module::Interface::StartLibraryApplet</a></div><div class="ttdeci">void StartLibraryApplet(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::StartLibraryApplet service function Inputs: 1 : Id of the applet to start 2 : Buffer size 3 : Al...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00502">apt.cpp:502</a></div></div>
<div class="ttc" id="log_8h_html_a8b510d36fc8a109f98395ce9b6ada954"><div class="ttname"><a href="log_8h.html#a8b510d36fc8a109f98395ce9b6ada954">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING(log_class,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00133">log.h:133</a></div></div>
<div class="ttc" id="namespace_h_w_1_1_a_e_s_html_a5a5bc8e2157a466ca10539d71e3acffd"><div class="ttname"><a href="namespace_h_w_1_1_a_e_s.html#a5a5bc8e2157a466ca10539d71e3acffd">HW::AES::EncryptSignCCM</a></div><div class="ttdeci">std::vector&lt; u8 &gt; EncryptSignCCM(const std::vector&lt; u8 &gt; &amp;pdata, const CCMNonce &amp;nonce, std::size_t slot_id)</div><div class="ttdoc">Encrypts and adds a MAC to the given data using AES-CCM algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="ccm_8cpp_source.html#l00045">ccm.cpp:45</a></div></div>
<div class="ttc" id="file__backend_8h_html"><div class="ttname"><a href="file__backend_8h.html">file_backend.h</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a7f952d6dea27a7fce6ac6d17ee9e0464a3be5b8730412d64c809e4d73ce34649f"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a7f952d6dea27a7fce6ac6d17ee9e0464a3be5b8730412d64c809e4d73ce34649f">Service::FS::MediaType::NAND</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_html_a1aabe837560c2e27490033d39e45faec"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module.html#a1aabe837560c2e27490033d39e45faec">Service::APT::Module::LoadSharedFont</a></div><div class="ttdeci">bool LoadSharedFont()</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00105">apt.cpp:105</a></div></div>
<div class="ttc" id="class_service_1_1_service_framework_html"><div class="ttname"><a href="class_service_1_1_service_framework.html">Service::ServiceFramework</a></div><div class="ttdoc">Framework for implementing HLE services. </div><div class="ttdef"><b>Definition:</b> <a href="service_8h_source.html#l00118">service.h:118</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_aaabc58f78ca828284617223bdc8ab543"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aaabc58f78ca828284617223bdc8ab543">Service::APT::Module::Interface::IsRegistered</a></div><div class="ttdeci">void IsRegistered(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::IsRegistered service function. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00251">apt.cpp:251</a></div></div>
<div class="ttc" id="namespace_rom_f_s_html_a5ab75fda798d2db42dfb961e2e911606"><div class="ttname"><a href="namespace_rom_f_s.html#a5ab75fda798d2db42dfb961e2e911606">RomFS::GetFile</a></div><div class="ttdeci">const RomFSFile GetFile(const u8 *romfs, const std::vector&lt; std::u16string &gt; &amp;path)</div><div class="ttdoc">Gets a RomFSFile class to a file in a RomFS image. </div><div class="ttdef"><b>Definition:</b> <a href="romfs_8cpp_source.html#l00066">romfs.cpp:66</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a4e1a79651b470cfc2289f7cf14319e6b"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a4e1a79651b470cfc2289f7cf14319e6b">Service::APT::Module::Interface::jump_tid</a></div><div class="ttdeci">u64 jump_tid</div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00597">apt.h:597</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a820195e2bcaa56446f025871c2985a72"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a820195e2bcaa56446f025871c2985a72">Service::APT::ScreencapPostPermission</a></div><div class="ttdeci">ScreencapPostPermission</div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00053">apt.h:53</a></div></div>
<div class="ttc" id="result_8h_html_a1d3c3229b2c38b6fe717b434732c5b86aedf260198e4d75d1cb3c7588f7380120"><div class="ttname"><a href="result_8h.html#a1d3c3229b2c38b6fe717b434732c5b86aedf260198e4d75d1cb3c7588f7380120">ErrorSummary::InvalidState</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a3bf05ebb8122e53ff37339db06d0a626"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3bf05ebb8122e53ff37339db06d0a626">Service::APT::Module::Interface::CloseLibraryApplet</a></div><div class="ttdeci">void CloseLibraryApplet(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::CloseLibraryApplet service function Inputs: 1 : Buffer size 2 : 0x0 3 : Object handle 4 : (Size ...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00582">apt.cpp:582</a></div></div>
<div class="ttc" id="assert_8h_html_a4b432fb3d47e2ca732caf965691a54d7"><div class="ttname"><a href="assert_8h.html#a4b432fb3d47e2ca732caf965691a54d7">ASSERT_MSG</a></div><div class="ttdeci">#define ASSERT_MSG(_a_,...)</div><div class="ttdef"><b>Definition:</b> <a href="assert_8h_source.html#l00037">assert.h:37</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_af28b57c37e6d6bf5c0885685ff1e8013"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#af28b57c37e6d6bf5c0885685ff1e8013">Service::APT::Module::Interface::CancelParameter</a></div><div class="ttdeci">void CancelParameter(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::CancelParameter service function. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00352">apt.cpp:352</a></div></div>
<div class="ttc" id="common__types_8h_html_ace342d87f62470edf84b7593d7dc8b27"><div class="ttname"><a href="common__types_8h.html#ace342d87f62470edf84b7593d7dc8b27">VAddr</a></div><div class="ttdeci">u32 VAddr</div><div class="ttdoc">Represents a pointer in the userspace virtual address space. </div><div class="ttdef"><b>Definition:</b> <a href="common__types_8h_source.html#l00049">common_types.h:49</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a733658fba6e94fbd8d5e2c3238b656ef"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a733658fba6e94fbd8d5e2c3238b656ef">Service::APT::MessageParameter::signal</a></div><div class="ttdeci">SignalType signal</div><div class="ttdef"><b>Definition:</b> <a href="applet__manager_8h_source.html#l00079">applet_manager.h:79</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a8d87212e33e51c589eb0ff248134bece"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a8d87212e33e51c589eb0ff248134bece">Service::APT::MessageParameter::object</a></div><div class="ttdeci">Kernel::SharedPtr&lt; Kernel::Object &gt; object</div><div class="ttdef"><b>Definition:</b> <a href="applet__manager_8h_source.html#l00080">applet_manager.h:80</a></div></div>
<div class="ttc" id="class_core_1_1_system_html_aec8e4c8ef58ca0126b49db9b508597e8"><div class="ttname"><a href="class_core_1_1_system.html#aec8e4c8ef58ca0126b49db9b508597e8">Core::System::RequestShutdown</a></div><div class="ttdeci">void RequestShutdown()</div><div class="ttdoc">Request shutdown of the system. </div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00099">core.h:99</a></div></div>
<div class="ttc" id="result_8h_html_a67158ef38e1ab9113151768007433e3aa6fb493973e2df983d5b6cb710cd35242"><div class="ttname"><a href="result_8h.html#a67158ef38e1ab9113151768007433e3aa6fb493973e2df983d5b6cb710cd35242">ErrorModule::Applet</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a21a89295eb126c19172c13bfee87b2a4"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a21a89295eb126c19172c13bfee87b2a4">Service::APT::Module::Interface::CheckNew3DS</a></div><div class="ttdeci">void CheckNew3DS(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">Wrapper for PTMSYSM:CheckNew3DS APT::CheckNew3DS service function Outputs: 1: Result code...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00826">apt.cpp:826</a></div></div>
<div class="ttc" id="class_service_1_1_s_m_1_1_service_manager_html"><div class="ttname"><a href="class_service_1_1_s_m_1_1_service_manager.html">Service::SM::ServiceManager</a></div><div class="ttdef"><b>Definition:</b> <a href="sm_8h_source.html#l00040">sm.h:40</a></div></div>
<div class="ttc" id="core_2hle_2kernel_2shared__memory_8h_html"><div class="ttname"><a href="core_2hle_2kernel_2shared__memory_8h.html">shared_memory.h</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a11f45dfea3943cd42254edcd2ddbf6c0"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a11f45dfea3943cd42254edcd2ddbf6c0">Service::APT::Module::Interface::PrepareToCloseLibraryApplet</a></div><div class="ttdeci">void PrepareToCloseLibraryApplet(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::PrepareToCloseLibraryApplet service function Inputs: 1 : bool, Not pause 2 : bool...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00569">apt.cpp:569</a></div></div>
<div class="ttc" id="romfs_8h_html"><div class="ttname"><a href="romfs_8h.html">romfs.h</a></div></div>
<div class="ttc" id="common__types_8h_html_a66e1d499241ccae9a18a20a1f4f0590d"><div class="ttname"><a href="common__types_8h.html#a66e1d499241ccae9a18a20a1f4f0590d">u64</a></div><div class="ttdeci">std::uint64_t u64</div><div class="ttdoc">64-bit unsigned int </div><div class="ttdef"><b>Definition:</b> <a href="common__types_8h_source.html#l00038">common_types.h:38</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a3cb7c428b8e1c40e3e7e0cf1f67e3b88"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3cb7c428b8e1c40e3e7e0cf1f67e3b88">Service::APT::Module::Interface::SleepSystem</a></div><div class="ttdeci">void SleepSystem(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::SleepSystem service function Inputs: 1-2 : Time Outputs: 1 : Result code. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00639">apt.cpp:639</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_a84c9413b4585001e5f40a473639565f6"><div class="ttname"><a href="namespace_service_1_1_f_s.html#a84c9413b4585001e5f40a473639565f6">Service::FS::OpenArchive</a></div><div class="ttdeci">ResultVal&lt; ArchiveHandle &gt; OpenArchive(ArchiveIdCode id_code, FileSys::Path &amp;archive_path)</div><div class="ttdoc">Opens an archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00373">archive.cpp:373</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html">Service::APT</a></div><div class="ttdef"><b>Definition:</b> <a href="applet__manager_8cpp_source.html#l00013">applet_manager.cpp:13</a></div></div>
<div class="ttc" id="config__mem_8h_html"><div class="ttname"><a href="config__mem_8h.html">config_mem.h</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a34f2429260df734395e830c17239f616"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a34f2429260df734395e830c17239f616">Service::APT::Module::Interface::ReceiveParameter</a></div><div class="ttdeci">void ReceiveParameter(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::ReceiveParameter service function. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00297">apt.cpp:297</a></div></div>
<div class="ttc" id="class_kernel_1_1_h_l_e_request_context_html"><div class="ttname"><a href="class_kernel_1_1_h_l_e_request_context.html">Kernel::HLERequestContext</a></div><div class="ttdoc">Class containing information about an in-flight IPC request being handled by an HLE service implement...</div><div class="ttdef"><b>Definition:</b> <a href="hle__ipc_8h_source.html#l00155">hle_ipc.h:155</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_struct_service_1_1_a_p_t_1_1_message_parameter"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#struct_service_1_1_a_p_t_1_1_message_parameter">Service::APT::MessageParameter</a></div><div class="ttdoc">Holds information about the parameters used in Send/Glance/ReceiveParameter. </div><div class="ttdef"><b>Definition:</b> <a href="applet__manager_8h_source.html#l00076">applet_manager.h:76</a></div></div>
<div class="ttc" id="namespace_h_w_1_1_a_e_s_html_a4e476449537d24abf32a44cce96ac325a13eb7b218140dd3f5e6b65a827bfbb62"><div class="ttname"><a href="namespace_h_w_1_1_a_e_s.html#a4e476449537d24abf32a44cce96ac325a13eb7b218140dd3f5e6b65a827bfbb62">HW::AES::APTWrap</a></div><div class="ttdef"><b>Definition:</b> <a href="key_8h_source.html#l00024">key.h:24</a></div></div>
<div class="ttc" id="applet_8h_html"><div class="ttname"><a href="applet_8h.html">applet.h</a></div></div>
<div class="ttc" id="apt_8h_html"><div class="ttname"><a href="apt_8h.html">apt.h</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_aa5b03c6e47e5c021b9ebca3274cb5717"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aa5b03c6e47e5c021b9ebca3274cb5717">Service::APT::Module::Interface::DoApplicationJump</a></div><div class="ttdeci">void DoApplicationJump(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::DoApplicationJump service function Inputs: 1 : Parameter Size (capped to 0x300) 2 : HMAC Size (c...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00541">apt.cpp:541</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a475357483529988d0843e08956848e6e"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a475357483529988d0843e08956848e6e">Service::APT::Module::Interface::Enable</a></div><div class="ttdeci">void Enable(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::Enable service function Inputs: 1 : Applet attributes Outputs: 1 : Result of function...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00228">apt.cpp:228</a></div></div>
<div class="ttc" id="class_core_1_1_system_html_a6fa69d56674f1534ed20b3996c1b9329"><div class="ttname"><a href="class_core_1_1_system.html#a6fa69d56674f1534ed20b3996c1b9329">Core::System::RequestJump</a></div><div class="ttdeci">void RequestJump(u64 title_id, Service::FS::MediaType media_type)</div><div class="ttdoc">Request jump of the system. </div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00092">core.h:92</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a223b53a0f9243ae9cf279e60d364ab5d"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a223b53a0f9243ae9cf279e60d364ab5d">Service::APT::Module::Interface::GetAppletManInfo</a></div><div class="ttdeci">void GetAppletManInfo(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::GetAppletManInfo service function. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00238">apt.cpp:238</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a0f0783e8bf9f0680223a42668b582fed"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a0f0783e8bf9f0680223a42668b582fed">Service::APT::Module::Interface::PrepareToStartLibraryApplet</a></div><div class="ttdeci">void PrepareToStartLibraryApplet(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::PrepareToStartLibraryApplet service function Inputs: 1 : Id of the applet to start Outputs: 1 : ...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00458">apt.cpp:458</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_aafddeabdad84a2a8bb3a780f32296ea5"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aafddeabdad84a2a8bb3a780f32296ea5">Service::APT::Module::Interface::InquireNotification</a></div><div class="ttdeci">void InquireNotification(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00261">apt.cpp:261</a></div></div>
<div class="ttc" id="namespace_audio_core_html_a07ca5e8c2e2a998f9be3da35cc8dbb7cab22f0418e8ac915eb66f829d262d14a2"><div class="ttname"><a href="namespace_audio_core.html#a07ca5e8c2e2a998f9be3da35cc8dbb7cab22f0418e8ac915eb66f829d262d14a2">AudioCore::DspPipe::Audio</a></div></div>
<div class="ttc" id="namespace_h_w_1_1_a_e_s_html_a2f7bd3ce0f5970b1e0abcda0b5148cfd"><div class="ttname"><a href="namespace_h_w_1_1_a_e_s.html#a2f7bd3ce0f5970b1e0abcda0b5148cfd">HW::AES::CCM_NONCE_SIZE</a></div><div class="ttdeci">constexpr std::size_t CCM_NONCE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="ccm_8h_source.html#l00014">ccm.h:14</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_aff3c95aa7ed293473d49b3e476838b32"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aff3c95aa7ed293473d49b3e476838b32">Service::APT::Module::Interface::apt</a></div><div class="ttdeci">std::shared_ptr&lt; Module &gt; apt</div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00595">apt.h:595</a></div></div>
<div class="ttc" id="file__util_8h_html"><div class="ttname"><a href="file__util_8h.html">file_util.h</a></div></div>
<div class="ttc" id="applet__manager_8h_html"><div class="ttname"><a href="applet__manager_8h.html">applet_manager.h</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a859a469ee9a90921b1169af40823d636"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a859a469ee9a90921b1169af40823d636">Service::APT::Module::Interface::GetLockHandle</a></div><div class="ttdeci">void GetLockHandle(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::GetLockHandle service function Inputs: 1 : Applet attributes Outputs: 1 : Result of function...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00207">apt.cpp:207</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a69d9135bb1aece00e244f324b63cafaf"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a69d9135bb1aece00e244f324b63cafaf">Service::APT::Module::Interface::Wrap</a></div><div class="ttdeci">void Wrap(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::Wrap service function Inputs: 1 : Output buffer size 2 : Input buffer size 3 : Nonce offset to t...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00716">apt.cpp:716</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_abb24bf30128d0f166a7dfb668c52d866"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#abb24bf30128d0f166a7dfb668c52d866">Service::APT::Module::Interface::application_reset</a></div><div class="ttdeci">bool application_reset</div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00596">apt.h:596</a></div></div>
<div class="ttc" id="namespace_h_w_1_1_a_e_s_html_a7587147fc431c8a16e7714f365e5f696"><div class="ttname"><a href="namespace_h_w_1_1_a_e_s.html#a7587147fc431c8a16e7714f365e5f696">HW::AES::CCMNonce</a></div><div class="ttdeci">std::array&lt; u8, CCM_NONCE_SIZE &gt; CCMNonce</div><div class="ttdef"><b>Definition:</b> <a href="ccm_8h_source.html#l00017">ccm.h:17</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a7ed8ee25d27f9b5809315e212fdfcda8"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a7ed8ee25d27f9b5809315e212fdfcda8">Service::APT::Module::Interface::PreloadLibraryApplet</a></div><div class="ttdeci">void PreloadLibraryApplet(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::PreloadLibraryApplet service function Inputs: 1 : Id of the applet to start Outputs: 1 : Result ...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00482">apt.cpp:482</a></div></div>
<div class="ttc" id="common__paths_8h_html"><div class="ttname"><a href="common__paths_8h.html">common_paths.h</a></div></div>
<div class="ttc" id="apt__a_8h_html"><div class="ttname"><a href="apt__a_8h.html">apt_a.h</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_html_a888008286e0f16d0441a97fbea2e3184"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module.html#a888008286e0f16d0441a97fbea2e3184">Service::APT::Module::~Module</a></div><div class="ttdeci">~Module()</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00879">apt.cpp:879</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a2abfd13e8698f8b5fba7e40698a36e56"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a2abfd13e8698f8b5fba7e40698a36e56">Service::APT::Module::Interface::CheckNew3DSApp</a></div><div class="ttdeci">void CheckNew3DSApp(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::CheckNew3DSApp service function Outputs: 1: Result code, 0 on success, otherwise error code 2: u...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00812">apt.cpp:812</a></div></div>
<div class="ttc" id="mutex_8h_html"><div class="ttname"><a href="mutex_8h.html">mutex.h</a></div></div>
<div class="ttc" id="common__types_8h_html_a65cf28726f89e62ccf2f1354bc2716df"><div class="ttname"><a href="common__types_8h.html#a65cf28726f89e62ccf2f1354bc2716df">u32</a></div><div class="ttdeci">std::uint32_t u32</div><div class="ttdoc">32-bit unsigned word </div><div class="ttdef"><b>Definition:</b> <a href="common__types_8h_source.html#l00037">common_types.h:37</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_accd10405fd5c10eb4e35721779a9dfb4"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#accd10405fd5c10eb4e35721779a9dfb4">Service::APT::MessageParameter::buffer</a></div><div class="ttdeci">std::vector&lt; u8 &gt; buffer</div><div class="ttdef"><b>Definition:</b> <a href="applet__manager_8h_source.html#l00081">applet_manager.h:81</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_ad20d16f7534a542369f52d19412222e9"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad20d16f7534a542369f52d19412222e9">Service::APT::Module::Interface::NotifyToWait</a></div><div class="ttdeci">void NotifyToWait(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::NotifyToWait service function Inputs: 1 : AppID Outputs: 1 : Result of function, 0 on success, otherwise error code. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00199">apt.cpp:199</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a031ca2a4cd14d0a73bb6b3e121352c7f"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a031ca2a4cd14d0a73bb6b3e121352c7f">Service::APT::StartupArgumentType</a></div><div class="ttdeci">StartupArgumentType</div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00047">apt.h:47</a></div></div>
<div class="ttc" id="class_rom_f_s_1_1_rom_f_s_file_html"><div class="ttname"><a href="class_rom_f_s_1_1_rom_f_s_file.html">RomFS::RomFSFile</a></div><div class="ttdef"><b>Definition:</b> <a href="romfs_8h_source.html#l00013">romfs.h:13</a></div></div>
<div class="ttc" id="common__funcs_8h_html_a82192f8b221d925b4d8218dc5516afcd"><div class="ttname"><a href="common__funcs_8h.html#a82192f8b221d925b4d8218dc5516afcd">INSERT_PADDING_WORDS</a></div><div class="ttdeci">#define INSERT_PADDING_WORDS(num_words)</div><div class="ttdef"><b>Definition:</b> <a href="common__funcs_8h_source.html#l00021">common_funcs.h:21</a></div></div>
<div class="ttc" id="service_8h_html"><div class="ttname"><a href="service_8h.html">service.h</a></div></div>
<div class="ttc" id="settings_8h_html"><div class="ttname"><a href="settings_8h.html">settings.h</a></div></div>
<div class="ttc" id="class_file_sys_1_1_path_html"><div class="ttname"><a href="class_file_sys_1_1_path.html">FileSys::Path</a></div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00037">archive_backend.h:37</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a12cb14af8f4e8daa19e993f42fd902cfa6adf97f83acf6453d4a6a4b1070f3754"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a12cb14af8f4e8daa19e993f42fd902cfa6adf97f83acf6453d4a6a4b1070f3754">Service::APT::SignalType::None</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a25d7afd08fa513cb30b8abb4bddc13ababa4d0f31525743baf19cc551f2685c9a"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13ababa4d0f31525743baf19cc551f2685c9a">Service::APT::AppletId::HomeMenu</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_ae254eb4a63cac05cdc46bc4be7106922"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ae254eb4a63cac05cdc46bc4be7106922">Service::APT::Module::Interface::~Interface</a></div><div class="ttdeci">~Interface()</div></div>
<div class="ttc" id="bcfnt_8h_html"><div class="ttname"><a href="bcfnt_8h.html">bcfnt.h</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_html_a65bd04de231f7459dfdb878054fbeaac"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module.html#a65bd04de231f7459dfdb878054fbeaac">Service::APT::Module::applet_manager</a></div><div class="ttdeci">std::shared_ptr&lt; AppletManager &gt; applet_manager</div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00621">apt.h:621</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_adf9088d681ab0284fc41431fcdd4beea"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#adf9088d681ab0284fc41431fcdd4beea">Service::APT::Module::Interface::ReplySleepQuery</a></div><div class="ttdeci">void ReplySleepQuery(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::ReplySleepQuery service function Outputs: 1: Result code. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00846">apt.cpp:846</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a6b23e809e0934ee3dd7ad23e47345bcf"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a6b23e809e0934ee3dd7ad23e47345bcf">Service::APT::DecompressLZ11</a></div><div class="ttdeci">static u32 DecompressLZ11(const u8 *in, u8 *out)</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00051">apt.cpp:51</a></div></div>
<div class="ttc" id="result_8h_html_aa3b9056eb03ec4e7c3561192eb830739aec53a8c4f07baed5d8825072c89799be"><div class="ttname"><a href="result_8h.html#aa3b9056eb03ec4e7c3561192eb830739aec53a8c4f07baed5d8825072c89799be">ErrorLevel::Status</a></div></div>
<div class="ttc" id="class_audio_core_1_1_dsp_hle_html_aeca49bcf163864088f88294d966c30e4"><div class="ttname"><a href="class_audio_core_1_1_dsp_hle.html#aeca49bcf163864088f88294d966c30e4">AudioCore::DspHle::PipeWrite</a></div><div class="ttdeci">void PipeWrite(DspPipe pipe_number, const std::vector&lt; u8 &gt; &amp;buffer)</div><div class="ttdoc">Write to a DSP pipe. </div><div class="ttdef"><b>Definition:</b> <a href="hle_8cpp_source.html#l00376">hle.cpp:376</a></div></div>
<div class="ttc" id="class_kernel_1_1_shared_memory_html_a3ba8523240f2cba2984b57dfe8ebdec0"><div class="ttname"><a href="class_kernel_1_1_shared_memory.html#a3ba8523240f2cba2984b57dfe8ebdec0">Kernel::SharedMemory::Create</a></div><div class="ttdeci">static SharedPtr&lt; SharedMemory &gt; Create(SharedPtr&lt; Process &gt; owner_process, u32 size, MemoryPermission permissions, MemoryPermission other_permissions, VAddr address=0, MemoryRegion region=MemoryRegion::BASE, std::string name=&quot;Unknown&quot;)</div><div class="ttdoc">Creates a shared memory object. </div><div class="ttdef"><b>Definition:</b> <a href="shared__memory_8cpp_source.html#l00017">shared_memory.cpp:17</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a40fd17c6b376108a7cac7bda352c0b0b"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a40fd17c6b376108a7cac7bda352c0b0b">Service::APT::Module::Interface::PrepareToStartApplication</a></div><div class="ttdeci">void PrepareToStartApplication(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::PrepareToStartApplication service function. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00373">apt.cpp:373</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a96a537a4c006372b86fc226dea24f118"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a96a537a4c006372b86fc226dea24f118">Service::APT::Module::Interface::StartApplication</a></div><div class="ttdeci">void StartApplication(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::StartApplication service function. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00395">apt.cpp:395</a></div></div>
<div class="ttc" id="union_result_code_html"><div class="ttname"><a href="union_result_code.html">ResultCode</a></div><div class="ttdoc">Encapsulates a CTR-OS error code, allowing it to be separated into its constituent fields...</div><div class="ttdef"><b>Definition:</b> <a href="result_8h_source.html#l00195">result.h:195</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a57ac4e7febb8a1195a42cae344594cf5"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a57ac4e7febb8a1195a42cae344594cf5">Service::APT::QueryReply</a></div><div class="ttdeci">QueryReply</div><div class="ttdef"><b>Definition:</b> <a href="apt_8h_source.html#l00041">apt.h:41</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_ab7fefe7074246c269017dcf337effaef"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ab7fefe7074246c269017dcf337effaef">Service::APT::Module::Interface::CancelLibraryApplet</a></div><div class="ttdeci">void CancelLibraryApplet(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::CancelLibraryApplet service function Inputs: 1 : u8, Application exiting (0 = not exiting...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00559">apt.cpp:559</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a03cd4c6a606d5354030983c4116f5a9f"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a03cd4c6a606d5354030983c4116f5a9f">Service::APT::Module::Interface::GetAppletInfo</a></div><div class="ttdeci">void GetAppletInfo(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::GetAppletInfo service function. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00669">apt.cpp:669</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a6d6892e24fb0993e595ebc4c713f07e2"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a6d6892e24fb0993e595ebc4c713f07e2">Service::APT::Module::Interface::Initialize</a></div><div class="ttdeci">void Initialize(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::Initialize service function Service function that initializes the APT process for the running ap...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00031">apt.cpp:31</a></div></div>
<div class="ttc" id="class_i_p_c_1_1_response_builder_html"><div class="ttname"><a href="class_i_p_c_1_1_response_builder.html">IPC::ResponseBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="ipc__helpers_8h_source.html#l00046">ipc_helpers.h:46</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_afbb134e5733abc3e2a1a71d5ac6e55ff"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#afbb134e5733abc3e2a1a71d5ac6e55ff">Service::APT::Module::Interface::GetScreenCapPostPermission</a></div><div class="ttdeci">void GetScreenCapPostPermission(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::GetScreenCapPostPermission service function Outputs: 1 : Result of function, 0 on success...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00659">apt.cpp:659</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a840f384fbece6db7cb1fd9c82c740ced"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a840f384fbece6db7cb1fd9c82c740ced">Service::APT::Module::Interface::GetStartupArgument</a></div><div class="ttdeci">void GetStartupArgument(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::GetStartupArgument service function Inputs: 1 : Parameter Size (capped to 0x300) 2 : StartupArgu...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00690">apt.cpp:690</a></div></div>
<div class="ttc" id="class_core_1_1_system_html_ab2f9ff357787ec877567d8c4ffe2a2d4"><div class="ttname"><a href="class_core_1_1_system.html#ab2f9ff357787ec877567d8c4ffe2a2d4">Core::System::GetInstance</a></div><div class="ttdeci">static System &amp; GetInstance()</div><div class="ttdoc">Gets the instance of the System singleton class. </div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00049">core.h:49</a></div></div>
<div class="ttc" id="namespace_kernel_html_aee28364411c4e2f2ce57323277907440afa177138f94a7ea01f549b1aa7893d03"><div class="ttname"><a href="namespace_kernel.html#aee28364411c4e2f2ce57323277907440afa177138f94a7ea01f549b1aa7893d03">Kernel::MemoryRegion::SYSTEM</a></div></div>
<div class="ttc" id="key_8h_html"><div class="ttname"><a href="key_8h.html">key.h</a></div></div>
<div class="ttc" id="assert_8h_html_a9f920d5e0c0e8780d4ce9bfb15bfd9e2"><div class="ttname"><a href="assert_8h.html#a9f920d5e0c0e8780d4ce9bfb15bfd9e2">ASSERT</a></div><div class="ttdeci">#define ASSERT(_a_)</div><div class="ttdef"><b>Definition:</b> <a href="assert_8h_source.html#l00030">assert.h:30</a></div></div>
<div class="ttc" id="namespace_service_1_1_f_s_html_aa11a720fd25c2133ece9592244835863"><div class="ttname"><a href="namespace_service_1_1_f_s.html#aa11a720fd25c2133ece9592244835863">Service::FS::OpenFileFromArchive</a></div><div class="ttdeci">ResultVal&lt; std::shared_ptr&lt; File &gt; &gt; OpenFileFromArchive(ArchiveHandle archive_handle, const FileSys::Path &amp;path, const FileSys::Mode mode)</div><div class="ttdoc">Open a File from an Archive. </div><div class="ttdef"><b>Definition:</b> <a href="archive_8cpp_source.html#l00413">archive.cpp:413</a></div></div>
<div class="ttc" id="result_8h_html_a1d3c3229b2c38b6fe717b434732c5b86a5a738160747f39c20e9f65416931c974"><div class="ttname"><a href="result_8h.html#a1d3c3229b2c38b6fe717b434732c5b86a5a738160747f39c20e9f65416931c974">ErrorSummary::WrongArgument</a></div><div class="ttdoc">Returned when a passed argument is in an incorrect format for use with the function. (E.g. Invalid enum value) </div></div>
<div class="ttc" id="log_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a25d7afd08fa513cb30b8abb4bddc13abae498749f3c42246d50b15c81c101d988"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a25d7afd08fa513cb30b8abb4bddc13abae498749f3c42246d50b15c81c101d988">Service::APT::AppletId::Application</a></div></div>
<div class="ttc" id="class_service_1_1_service_framework_base_html_a9fdd978f4c7c9ecbeaa3dbc9dc7a7c2f"><div class="ttname"><a href="class_service_1_1_service_framework_base.html#a9fdd978f4c7c9ecbeaa3dbc9dc7a7c2f">Service::ServiceFrameworkBase::InstallAsService</a></div><div class="ttdeci">void InstallAsService(SM::ServiceManager &amp;service_manager)</div><div class="ttdoc">Creates a port pair and registers this service with the given ServiceManager. </div><div class="ttdef"><b>Definition:</b> <a href="service_8cpp_source.html#l00139">service.cpp:139</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_ac546b92a0e591b9655a220c5cc6374ed"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#ac546b92a0e591b9655a220c5cc6374ed">Service::APT::InstallInterfaces</a></div><div class="ttdeci">void InstallInterfaces(SM::ServiceManager &amp;service_manager)</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00881">apt.cpp:881</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_ad1eeb7d6fb6ac150d2b5dd50834386a1"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad1eeb7d6fb6ac150d2b5dd50834386a1">Service::APT::Module::Interface::PrepareToStartNewestHomeMenu</a></div><div class="ttdeci">void PrepareToStartNewestHomeMenu(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::PrepareToStartNewestHomeMenu service function Outputs: 1 : Result of function. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00468">apt.cpp:468</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a799fabac3fb68e00dbdf92864a6b07b1"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a799fabac3fb68e00dbdf92864a6b07b1">Service::APT::Module::Interface::SendParameter</a></div><div class="ttdeci">void SendParameter(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::SendParameter service function. </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00270">apt.cpp:270</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_a3656d23da52d81a74f96b13999bab58e"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#a3656d23da52d81a74f96b13999bab58e">Service::APT::Module::Interface::IsStandardMemoryLayout</a></div><div class="ttdeci">void IsStandardMemoryLayout(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::IsStandardMemoryLayout service function Outputs: 1: Result code, 0 on success, otherwise error code 2: Standard Memory Layout (0 = non-standard, 1 = standard) </div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00835">apt.cpp:835</a></div></div>
<div class="ttc" id="namespace_file_sys_html_aa599b608f4bf03ff02cd50d8c1bd1170"><div class="ttname"><a href="namespace_file_sys.html#aa599b608f4bf03ff02cd50d8c1bd1170">FileSys::Mode::read_flag</a></div><div class="ttdeci">BitField&lt; 0, 1, u32 &gt; read_flag</div><div class="ttdef"><b>Definition:</b> <a href="archive__backend_8h_source.html#l00032">archive_backend.h:32</a></div></div>
<div class="ttc" id="hle_8h_html"><div class="ttname"><a href="hle_8h.html">hle.h</a></div></div>
<div class="ttc" id="swap_8h_html_a18c802bf0535e2e152cf277c504c8bb4"><div class="ttname"><a href="swap_8h.html#a18c802bf0535e2e152cf277c504c8bb4">u32_le</a></div><div class="ttdeci">u32 u32_le</div><div class="ttdef"><b>Definition:</b> <a href="swap_8h_source.html#l00610">swap.h:610</a></div></div>
<div class="ttc" id="result_8h_html_a67158ef38e1ab9113151768007433e3aad3d4c5deb455ac79dd5ff47c88bd65d9"><div class="ttname"><a href="result_8h.html#a67158ef38e1ab9113151768007433e3aad3d4c5deb455ac79dd5ff47c88bd65d9">ErrorModule::PS</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_html_a1c618120b4d1edd62748b163cdf702a9"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module.html#a1c618120b4d1edd62748b163cdf702a9">Service::APT::Module::Module</a></div><div class="ttdeci">Module()</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00861">apt.cpp:861</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_ad10de44b0f424339bf309f423396795d"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ad10de44b0f424339bf309f423396795d">Service::APT::Module::Interface::SetScreenCapPostPermission</a></div><div class="ttdeci">void SetScreenCapPostPermission(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::SetScreenCapPostPermission service function Inputs: 1 : u8 The screenshot posting permission Out...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00648">apt.cpp:648</a></div></div>
<div class="ttc" id="ccm_8h_html"><div class="ttname"><a href="ccm_8h.html">ccm.h</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_ab3c646a7a34aa3325002ecf0e1a7dd4a"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#ab3c646a7a34aa3325002ecf0e1a7dd4a">Service::APT::Module::Interface::CloseApplication</a></div><div class="ttdeci">void CloseApplication(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::CloseApplication service function Inputs: 1 : Parameters Size 2 : 0x0 3 : Handle Parameter 4 : (...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00516">apt.cpp:516</a></div></div>
<div class="ttc" id="class_service_1_1_a_p_t_1_1_module_1_1_interface_html_aad1854e49d65135f5d0ebb02de996eb9"><div class="ttname"><a href="class_service_1_1_a_p_t_1_1_module_1_1_interface.html#aad1854e49d65135f5d0ebb02de996eb9">Service::APT::Module::Interface::GetAppCpuTimeLimit</a></div><div class="ttdeci">void GetAppCpuTimeLimit(Kernel::HLERequestContext &amp;ctx)</div><div class="ttdoc">APT::GetAppCpuTimeLimit service function Inputs: 1 : Value, must be one Outputs: 1 : Result of functi...</div><div class="ttdef"><b>Definition:</b> <a href="apt_8cpp_source.html#l00443">apt.cpp:443</a></div></div>
<div class="ttc" id="namespace_core_html_a63c1dcb2bcddd5872efa5bfa31fb2676"><div class="ttname"><a href="namespace_core.html#a63c1dcb2bcddd5872efa5bfa31fb2676">Core::DSP</a></div><div class="ttdeci">AudioCore::DspHle &amp; DSP()</div><div class="ttdef"><b>Definition:</b> <a href="core_8h_source.html#l00252">core.h:252</a></div></div>
<div class="ttc" id="namespace_service_1_1_a_p_t_html_a2675c9f4dd5f37a3f585ba125da36554"><div class="ttname"><a href="namespace_service_1_1_a_p_t.html#a2675c9f4dd5f37a3f585ba125da36554">Service::APT::MessageParameter::destination_id</a></div><div class="ttdeci">AppletId destination_id</div><div class="ttdef"><b>Definition:</b> <a href="applet__manager_8h_source.html#l00078">applet_manager.h:78</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_ad0974a1dfe0794d9a8a3cb5a67eca54.html">hle</a></li><li class="navelem"><a class="el" href="dir_d6865e650edf42fac86a46d438d89922.html">service</a></li><li class="navelem"><a class="el" href="dir_f6cf133caace26be558278898d02d205.html">apt</a></li><li class="navelem"><a class="el" href="apt_8cpp.html">apt.cpp</a></li>
    <li class="footer">Generated on Thu Sep 13 2018 12:49:44 for Citra by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
